<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" class="alectryon-standalone" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<title>Addition.v</title>
<link rel="stylesheet" href="alectryon.css" type="text/css" />
<link rel="stylesheet" href="docutils_basic.css" type="text/css" />
<link rel="stylesheet" href="tango_subtle.css" type="text/css" />
<link rel="stylesheet" href="tango_subtle.min.css" type="text/css" />
<script type="text/javascript" src="alectryon.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" />
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="alectryon-root alectryon-centered"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.13.0+0.13.0. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of <kbd>Ctrl</kbd>.</div><div class="document">


<pre class="alectryon-io"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="highlight"><span class="c">(* -*- mode: coq; mode: visual-line -*- *)</span>
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Require Import</span> HoTT.Basics HoTT.Types.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Require Import</span> HoTT.Spaces.No.Core HoTT.Spaces.No.Negation.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Local Open Scope</span> path_scope.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Local Open Scope</span> surreal_scope.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
<span class="sd">(** * Addition of surreal numbers *)</span>

<span class="sd">(** Addition requires the option sorts to be closed under finite sums. *)</span>
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Class</span> <span class="nf">HasAddition</span> (<span class="nv">S</span> : OptionSort) :=
  { empty_options : InSort S Empty Empty
    ; sum_options : <span class="kr">forall</span> <span class="nv">L</span> <span class="nv">R</span> <span class="nv">L&#39;</span> <span class="nv">R&#39;</span>,
        InSort S L R -&gt; InSort S L&#39; R&#39; -&gt; InSort S (L + L&#39;) (R + R&#39;)
  }.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Existing Instance</span> <span class="nf">empty_options</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Existing Instance</span> <span class="nf">sum_options</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Instance</span> <span class="nf">hasaddition_maxsort</span> : HasAddition MaxSort
  := { empty_options := tt ;
       sum_options := <span class="kr">fun</span> <span class="nv">_</span> <span class="nv">_</span> <span class="nv">_</span> <span class="nv">_</span> <span class="nv">_</span> <span class="nv">_</span> =&gt; tt }.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Instance</span> <span class="nf">hasaddition_ordsort</span> : HasAddition OrdSort
  := { empty_options := idmap ;
       sum_options := <span class="kr">fun</span> <span class="nv">_</span> <span class="nv">_</span> <span class="nv">_</span> <span class="nv">_</span> <span class="nv">f</span> <span class="nv">g</span> =&gt; sum_ind _ f g }.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk0"><span class="highlight"><span class="kn">Instance</span> <span class="nf">hasaddition_decsort</span> : HasAddition DecSort.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">HasAddition DecSort</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk1"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">HasAddition DecSort</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk2"><span class="highlight"><span class="nb">constructor</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">InSort DecSort Empty Empty</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="addition-v-chk3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">L</span> <span class="nv">R</span> <span class="nv">L&#39;</span> <span class="nv">R&#39;</span> : <span class="kt">Type</span>,
InSort DecSort L R -&gt;
InSort DecSort L&#39; R&#39; -&gt;
InSort DecSort (L + L&#39;) (R + R&#39;)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk4" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk4"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">InSort DecSort Empty Empty</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">apply</span> insort_decsort.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk5" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk5"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">L</span> <span class="nv">R</span> <span class="nv">L&#39;</span> <span class="nv">R&#39;</span> : <span class="kt">Type</span>,
InSort DecSort L R -&gt;
InSort DecSort L&#39; R&#39; -&gt;
InSort DecSort (L + L&#39;) (R + R&#39;)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">intros</span> L R L&#39; R&#39; [? ?] [? ?]; <span class="nb">split</span>; <span class="bp">exact</span> _.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Section</span> <span class="nf">Addition</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Context</span> `{Univalence}.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Context</span> {<span class="nv">S</span> : OptionSort@{i}} `{HasAddition S}.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Let</span> <span class="nf">No</span> := GenNo S.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Section</span> <span class="nf">Inner</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Context</span> {<span class="nv">L</span> <span class="nv">R</span> : <span class="kt">Type</span>@{i} } {<span class="nv">Sx</span> : InSort@{i} S L R}
            (<span class="nv">xL</span> : L -&gt; No) (<span class="nv">xR</span> : R -&gt; No)
            (<span class="nv">xcut</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Let</span> <span class="nf">A</span> := {g : No -&gt; No &amp;
              (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt;= y -&gt; g x &lt;= g y) *
              (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt; y -&gt; g x &lt; g y)}.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Context</span> (<span class="nv">xL_plus</span> : L -&gt; A) (<span class="nv">xR_plus</span> : R -&gt; A)
            (<span class="nv">xL_lt_xR_plus</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R) (<span class="nv">x</span> : No),
                               (xL_plus l).<span class="mi">1</span> x &lt; (xR_plus r).<span class="mi">1</span> x).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk6"><span class="highlight"><span class="kn">Definition</span> <span class="nf">plus_inner</span>
    : { g : <span class="kr">forall</span> (<span class="nv">y</span> : No),
              { x_plus_y : No &amp;
                (<span class="kr">forall</span> <span class="nv">l</span>, (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
                (<span class="kr">forall</span> <span class="nv">r</span>, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y) } &amp;
        (<span class="kr">forall</span> <span class="nv">y</span> <span class="nv">z</span> : No, y &lt;= z -&gt; (g y).<span class="mi">1</span> &lt;= (g z).<span class="mi">1</span>) *
        (<span class="kr">forall</span> <span class="nv">y</span> <span class="nv">z</span> : No, y &lt;  z -&gt; (g y).<span class="mi">1</span> &lt;  (g z).<span class="mi">1</span>) }.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L, R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Sx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">{g : No -&gt; No &amp;
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt;= y -&gt; g x &lt;= g y) *
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt; y -&gt; g x &lt; g y)}</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_lt_xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R) (<span class="nv">x</span> : No),
(xL_plus l).<span class="mi">1</span> x &lt; (xR_plus r).<span class="mi">1</span> x</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{g
: <span class="kr">forall</span> <span class="nv">y</span> : No,
  {x_plus_y : No &amp;
  (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
  (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)} &amp;
(<span class="kr">forall</span> <span class="nv">y</span> <span class="nv">z</span> : No, y &lt;= z -&gt; (g y).<span class="mi">1</span> &lt;= (g z).<span class="mi">1</span>) *
(<span class="kr">forall</span> <span class="nv">y</span> <span class="nv">z</span> : No, y &lt; z -&gt; (g y).<span class="mi">1</span> &lt; (g z).<span class="mi">1</span>)}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk7"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L, R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Sx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">{g : No -&gt; No &amp;
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt;= y -&gt; g x &lt;= g y) *
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt; y -&gt; g x &lt; g y)}</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_lt_xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R) (<span class="nv">x</span> : No),
(xL_plus l).<span class="mi">1</span> x &lt; (xR_plus r).<span class="mi">1</span> x</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{g
: <span class="kr">forall</span> <span class="nv">y</span> : No,
  {x_plus_y : No &amp;
  (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
  (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)} &amp;
(<span class="kr">forall</span> <span class="nv">y</span> <span class="nv">z</span> : No, y &lt;= z -&gt; (g y).<span class="mi">1</span> &lt;= (g z).<span class="mi">1</span>) *
(<span class="kr">forall</span> <span class="nv">y</span> <span class="nv">z</span> : No, y &lt; z -&gt; (g y).<span class="mi">1</span> &lt; (g z).<span class="mi">1</span>)}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk8"><span class="highlight"><span class="nb">simple refine</span> (No_ind_package
                (<span class="kr">fun</span> <span class="nv">y</span> =&gt; { x_plus_y : No &amp;
                            (<span class="kr">forall</span> <span class="nv">l</span>, (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
                            (<span class="kr">forall</span> <span class="nv">r</span>, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y) })
                (<span class="kr">fun</span> <span class="nv">_</span> <span class="nv">_</span> <span class="nv">_</span> <span class="nv">z</span> <span class="nv">w</span> =&gt; z.<span class="mi">1</span> &lt;= w.<span class="mi">1</span>)
                (<span class="kr">fun</span> <span class="nv">_</span> <span class="nv">_</span> <span class="nv">_</span> <span class="nv">z</span> <span class="nv">w</span> =&gt; z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>)
                _ _ _ _ _).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L, R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Sx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">{g : No -&gt; No &amp;
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt;= y -&gt; g x &lt;= g y) *
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt; y -&gt; g x &lt; g y)}</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_lt_xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R) (<span class="nv">x</span> : No),
(xL_plus l).<span class="mi">1</span> x &lt; (xR_plus r).<span class="mi">1</span> x</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">L0</span> <span class="nv">R0</span> : <span class="kt">Type</span>) (<span class="nv">s</span> : InSort S L0 R0)
(<span class="nv">xL</span> : L0 -&gt; GenNo S) (<span class="nv">xR</span> : R0 -&gt; GenNo S)
(<span class="nv">xcut</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L0) (<span class="nv">r</span> : R0), xL l &lt; xR r)
(<span class="nv">fxL</span> : <span class="kr">forall</span> <span class="nv">l</span> : L0,
       (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
        {x_plus_y : No &amp;
        (<span class="kr">forall</span> <span class="nv">l0</span> : L, (xL_plus l0).<span class="mi">1</span> y &lt; x_plus_y) *
        (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
         (xL l))
(<span class="nv">fxR</span> : <span class="kr">forall</span> <span class="nv">r</span> : R0,
       (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
        {x_plus_y : No &amp;
        (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
        (<span class="kr">forall</span> <span class="nv">r0</span> : R, x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y)})
         (xR r)),
(<span class="kr">forall</span> (<span class="nv">l</span> : L0) (<span class="nv">r</span> : R0),
 (<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x &lt; y)
    (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
          {x_plus_y : No &amp;
          (<span class="kr">forall</span> <span class="nv">l0</span> : L, (xL_plus l0).<span class="mi">1</span> y0 &lt; x_plus_y) *
          (<span class="kr">forall</span> <span class="nv">r0</span> : R, x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y0)})
           x)
    (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
          {x_plus_y : No &amp;
          (<span class="kr">forall</span> <span class="nv">l0</span> : L, (xL_plus l0).<span class="mi">1</span> y0 &lt; x_plus_y) *
          (<span class="kr">forall</span> <span class="nv">r0</span> : R, x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y0)})
           y) =&gt; z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>) (xL l) (xR r) (xcut l r)
   (fxL l) (fxR r)) -&gt;
(<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
 {x_plus_y : No &amp;
 (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
 (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
  {{ xL | xR // xcut }}</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="addition-v-chk9" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L, R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Sx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">{g : No -&gt; No &amp;
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt;= y -&gt; g x &lt;= g y) *
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt; y -&gt; g x &lt; g y)}</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_lt_xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R) (<span class="nv">x</span> : No),
(xL_plus l).<span class="mi">1</span> x &lt; (xR_plus r).<span class="mi">1</span> x</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="addition-v-chk9"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S)
(<span class="nv">a</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
      {x_plus_y : No &amp;
      (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y0 &lt; x_plus_y) *
      (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y0)}) x)
(<span class="nv">b</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
      {x_plus_y : No &amp;
      (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y0 &lt; x_plus_y) *
      (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y0)}) y)
(<span class="nv">p</span> : x &lt;= y) (<span class="nv">q</span> : y &lt;= x),
(<span class="kr">fun</span> (<span class="nv">x0</span> <span class="nv">y0</span> : GenNo S) (<span class="nv">_</span> : x0 &lt;= y0)
   (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y1</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y1 &lt; x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y1)})
          x0)
   (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y1</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y1 &lt; x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y1)})
          y0) =&gt; z.<span class="mi">1</span> &lt;= w.<span class="mi">1</span>) x y p a b -&gt;
(<span class="kr">fun</span> (<span class="nv">x0</span> <span class="nv">y0</span> : GenNo S) (<span class="nv">_</span> : x0 &lt;= y0)
   (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y1</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y1 &lt; x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y1)})
          x0)
   (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y1</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y1 &lt; x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y1)})
          y0) =&gt; z.<span class="mi">1</span> &lt;= w.<span class="mi">1</span>) y x q b a -&gt;
transport
  (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
   {x_plus_y : No &amp;
   (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y0 &lt; x_plus_y) *
   (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y0)})
  (path_No x y p q) a = b</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="addition-v-chka" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L, R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Sx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">{g : No -&gt; No &amp;
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt;= y -&gt; g x &lt;= g y) *
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt; y -&gt; g x &lt; g y)}</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_lt_xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R) (<span class="nv">x</span> : No),
(xL_plus l).<span class="mi">1</span> x &lt; (xR_plus r).<span class="mi">1</span> x</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="addition-v-chka"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">L0</span> <span class="nv">R0</span> : <span class="kt">Type</span>) (<span class="nv">s</span> : InSort S L0 R0)
(<span class="nv">xL0</span> : L0 -&gt; GenNo S) (<span class="nv">xR0</span> : R0 -&gt; GenNo S)
(<span class="nv">xcut0</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L0) (<span class="nv">r</span> : R0), xL0 l &lt; xR0 r)
(<span class="nv">fxL</span> : <span class="kr">forall</span> <span class="nv">l</span> : L0,
       (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
        {x_plus_y : No &amp;
        (<span class="kr">forall</span> <span class="nv">l0</span> : L, (xL_plus l0).<span class="mi">1</span> y &lt; x_plus_y) *
        (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
         (xL0 l))
(<span class="nv">fxR</span> : <span class="kr">forall</span> <span class="nv">r</span> : R0,
       (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
        {x_plus_y : No &amp;
        (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
        (<span class="kr">forall</span> <span class="nv">r0</span> : R, x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y)})
         (xR0 r))
(<span class="nv">fxcut</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L0) 
         (<span class="nv">r</span> : R0),
         (<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S) 
            (<span class="nv">_</span> : x &lt; y)
            (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
                  {x_plus_y : No &amp;
                  (<span class="kr">forall</span> 
                   <span class="nv">l0</span> : L,
                   (xL_plus l0).<span class="mi">1</span> y0 &lt; x_plus_y) *
                  (<span class="kr">forall</span> 
                   <span class="nv">r0</span> : R,
                   x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y0)}) x)
            (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
                  {x_plus_y : No &amp;
                  (<span class="kr">forall</span> 
                   <span class="nv">l0</span> : L,
                   (xL_plus l0).<span class="mi">1</span> y0 &lt; x_plus_y) *
                  (<span class="kr">forall</span> 
                   <span class="nv">r0</span> : R,
                   x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y0)}) y)
          =&gt; z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>) (xL0 l) 
           (xR0 r) (xcut0 l r) 
           (fxL l) (fxR r)) 
(<span class="nv">L&#39;</span> <span class="nv">R&#39;</span> : <span class="kt">Type</span>) (<span class="nv">s&#39;</span> : InSort S L&#39; R&#39;)
(<span class="nv">yL</span> : L&#39; -&gt; GenNo S) (<span class="nv">yR</span> : R&#39; -&gt; GenNo S)
(<span class="nv">ycut</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;), yL l &lt; yR r)
(<span class="nv">fyL</span> : <span class="kr">forall</span> <span class="nv">l</span> : L&#39;,
       (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
        {x_plus_y : No &amp;
        (<span class="kr">forall</span> <span class="nv">l0</span> : L, (xL_plus l0).<span class="mi">1</span> y &lt; x_plus_y) *
        (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
         (yL l))
(<span class="nv">fyR</span> : <span class="kr">forall</span> <span class="nv">r</span> : R&#39;,
       (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
        {x_plus_y : No &amp;
        (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
        (<span class="kr">forall</span> <span class="nv">r0</span> : R, x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y)})
         (yR r))
(<span class="nv">fycut</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) 
         (<span class="nv">r</span> : R&#39;),
         (<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S) 
            (<span class="nv">_</span> : x &lt; y)
            (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
                  {x_plus_y : No &amp;
                  (<span class="kr">forall</span> 
                   <span class="nv">l0</span> : L,
                   (xL_plus l0).<span class="mi">1</span> y0 &lt; x_plus_y) *
                  (<span class="kr">forall</span> 
                   <span class="nv">r0</span> : R,
                   x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y0)}) x)
            (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
                  {x_plus_y : No &amp;
                  (<span class="kr">forall</span> 
                   <span class="nv">l0</span> : L,
                   (xL_plus l0).<span class="mi">1</span> y0 &lt; x_plus_y) *
                  (<span class="kr">forall</span> 
                   <span class="nv">r0</span> : R,
                   x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y0)}) y)
          =&gt; z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>) (yL l) 
           (yR r) (ycut l r) 
           (fyL l) (fyR r))
(<span class="nv">p</span> : <span class="kr">forall</span> <span class="nv">l</span> : L0, xL0 l &lt; {{ yL | yR // ycut }}),
(<span class="kr">forall</span> <span class="nv">l</span> : L0,
 (<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x &lt; y)
    (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
          {x_plus_y : No &amp;
          (<span class="kr">forall</span> <span class="nv">l0</span> : L, (xL_plus l0).<span class="mi">1</span> y0 &lt; x_plus_y) *
          (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y0)})
           x)
    (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
          {x_plus_y : No &amp;
          (<span class="kr">forall</span> <span class="nv">l0</span> : L, (xL_plus l0).<span class="mi">1</span> y0 &lt; x_plus_y) *
          (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y0)})
           y) =&gt; z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>) 
   (xL0 l) {{ yL | yR // ycut }} 
   (p l) (fxL l)
   (<span class="nl">?dcut</span> L&#39; R&#39; s&#39; yL yR ycut fyL fyR fycut)) -&gt;
<span class="kr">forall</span>
<span class="nv">q</span> : <span class="kr">forall</span> <span class="nv">r</span> : R&#39;, {{ xL0 | xR0 // xcut0 }} &lt; yR r,
(<span class="kr">forall</span> <span class="nv">r</span> : R&#39;,
 (<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x &lt; y)
    (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
          {x_plus_y : No &amp;
          (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y0 &lt; x_plus_y) *
          (<span class="kr">forall</span> <span class="nv">r0</span> : R, x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y0)})
           x)
    (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
          {x_plus_y : No &amp;
          (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y0 &lt; x_plus_y) *
          (<span class="kr">forall</span> <span class="nv">r0</span> : R, x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y0)})
           y) =&gt; z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>) {{ xL0 | xR0 // xcut0 }}
   (yR r) (q r)
   (<span class="nl">?dcut</span> L0 R0 s xL0 xR0 xcut0 fxL fxR fxcut) 
   (fyR r)) -&gt;
(<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x &lt;= y)
   (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y0 &lt; x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y0)})
          x)
   (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y0 &lt; x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y0)})
          y) =&gt; z.<span class="mi">1</span> &lt;= w.<span class="mi">1</span>) {{ xL0 | xR0 // xcut0 }}
  {{ yL | yR // ycut }}
  (le_lr xL0 xR0 xcut0 yL yR ycut p q)
  (<span class="nl">?dcut</span> L0 R0 s xL0 xR0 xcut0 fxL fxR fxcut)
  (<span class="nl">?dcut</span> L&#39; R&#39; s&#39; yL yR ycut fyL fyR fycut)</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="addition-v-chkb" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L, R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Sx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">{g : No -&gt; No &amp;
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt;= y -&gt; g x &lt;= g y) *
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt; y -&gt; g x &lt; g y)}</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_lt_xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R) (<span class="nv">x</span> : No),
(xL_plus l).<span class="mi">1</span> x &lt; (xR_plus r).<span class="mi">1</span> x</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="addition-v-chkb"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">L0</span> <span class="nv">R0</span> : <span class="kt">Type</span>) (<span class="nv">s</span> : InSort S L0 R0)
(<span class="nv">xL0</span> : L0 -&gt; GenNo S) (<span class="nv">xR0</span> : R0 -&gt; GenNo S)
(<span class="nv">xcut0</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L0) (<span class="nv">r</span> : R0), xL0 l &lt; xR0 r)
(<span class="nv">fxL</span> : <span class="kr">forall</span> <span class="nv">l</span> : L0,
       (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
        {x_plus_y : No &amp;
        (<span class="kr">forall</span> <span class="nv">l0</span> : L, (xL_plus l0).<span class="mi">1</span> y &lt; x_plus_y) *
        (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
         (xL0 l))
(<span class="nv">fxR</span> : <span class="kr">forall</span> <span class="nv">r</span> : R0,
       (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
        {x_plus_y : No &amp;
        (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
        (<span class="kr">forall</span> <span class="nv">r0</span> : R, x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y)})
         (xR0 r))
(<span class="nv">fxcut</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L0) 
         (<span class="nv">r</span> : R0),
         (<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S) 
            (<span class="nv">_</span> : x &lt; y)
            (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
                  {x_plus_y : No &amp;
                  (<span class="kr">forall</span> 
                   <span class="nv">l0</span> : L,
                   (xL_plus l0).<span class="mi">1</span> y0 &lt; x_plus_y) *
                  (<span class="kr">forall</span> 
                   <span class="nv">r0</span> : R,
                   x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y0)}) x)
            (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
                  {x_plus_y : No &amp;
                  (<span class="kr">forall</span> 
                   <span class="nv">l0</span> : L,
                   (xL_plus l0).<span class="mi">1</span> y0 &lt; x_plus_y) *
                  (<span class="kr">forall</span> 
                   <span class="nv">r0</span> : R,
                   x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y0)}) y)
          =&gt; z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>) (xL0 l) 
           (xR0 r) (xcut0 l r) 
           (fxL l) (fxR r)) 
(<span class="nv">L&#39;</span> <span class="nv">R&#39;</span> : <span class="kt">Type</span>) (<span class="nv">s&#39;</span> : InSort S L&#39; R&#39;)
(<span class="nv">yL</span> : L&#39; -&gt; GenNo S) (<span class="nv">yR</span> : R&#39; -&gt; GenNo S)
(<span class="nv">ycut</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;), yL l &lt; yR r)
(<span class="nv">fyL</span> : <span class="kr">forall</span> <span class="nv">l</span> : L&#39;,
       (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
        {x_plus_y : No &amp;
        (<span class="kr">forall</span> <span class="nv">l0</span> : L, (xL_plus l0).<span class="mi">1</span> y &lt; x_plus_y) *
        (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
         (yL l))
(<span class="nv">fyR</span> : <span class="kr">forall</span> <span class="nv">r</span> : R&#39;,
       (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
        {x_plus_y : No &amp;
        (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
        (<span class="kr">forall</span> <span class="nv">r0</span> : R, x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y)})
         (yR r))
(<span class="nv">fycut</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) 
         (<span class="nv">r</span> : R&#39;),
         (<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S) 
            (<span class="nv">_</span> : x &lt; y)
            (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
                  {x_plus_y : No &amp;
                  (<span class="kr">forall</span> 
                   <span class="nv">l0</span> : L,
                   (xL_plus l0).<span class="mi">1</span> y0 &lt; x_plus_y) *
                  (<span class="kr">forall</span> 
                   <span class="nv">r0</span> : R,
                   x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y0)}) x)
            (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
                  {x_plus_y : No &amp;
                  (<span class="kr">forall</span> 
                   <span class="nv">l0</span> : L,
                   (xL_plus l0).<span class="mi">1</span> y0 &lt; x_plus_y) *
                  (<span class="kr">forall</span> 
                   <span class="nv">r0</span> : R,
                   x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y0)}) y)
          =&gt; z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>) (yL l) 
           (yR r) (ycut l r) 
           (fyL l) (fyR r)) 
(<span class="nv">l</span> : L&#39;) (<span class="nv">p</span> : {{ xL0 | xR0 // xcut0 }} &lt;= yL l),
(<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x &lt;= y)
   (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l0</span> : L, (xL_plus l0).<span class="mi">1</span> y0 &lt; x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y0)})
          x)
   (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l0</span> : L, (xL_plus l0).<span class="mi">1</span> y0 &lt; x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y0)})
          y) =&gt; z.<span class="mi">1</span> &lt;= w.<span class="mi">1</span>) {{ xL0 | xR0 // xcut0 }}
  (yL l) p (<span class="nl">?dcut</span> L0 R0 s xL0 xR0 xcut0 fxL fxR fxcut)
  (fyL l) -&gt;
(<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x &lt; y)
   (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l0</span> : L, (xL_plus l0).<span class="mi">1</span> y0 &lt; x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y0)})
          x)
   (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l0</span> : L, (xL_plus l0).<span class="mi">1</span> y0 &lt; x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y0)})
          y) =&gt; z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>) {{ xL0 | xR0 // xcut0 }}
  {{ yL | yR // ycut }}
  (lt_l xL0 xR0 xcut0 yL yR ycut l p)
  (<span class="nl">?dcut</span> L0 R0 s xL0 xR0 xcut0 fxL fxR fxcut)
  (<span class="nl">?dcut</span> L&#39; R&#39; s&#39; yL yR ycut fyL fyR fycut)</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="addition-v-chkc" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L, R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Sx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">{g : No -&gt; No &amp;
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt;= y -&gt; g x &lt;= g y) *
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt; y -&gt; g x &lt; g y)}</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_lt_xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R) (<span class="nv">x</span> : No),
(xL_plus l).<span class="mi">1</span> x &lt; (xR_plus r).<span class="mi">1</span> x</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="addition-v-chkc"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">L0</span> <span class="nv">R0</span> : <span class="kt">Type</span>) (<span class="nv">s</span> : InSort S L0 R0)
(<span class="nv">xL0</span> : L0 -&gt; GenNo S) (<span class="nv">xR0</span> : R0 -&gt; GenNo S)
(<span class="nv">xcut0</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L0) (<span class="nv">r</span> : R0), xL0 l &lt; xR0 r)
(<span class="nv">fxL</span> : <span class="kr">forall</span> <span class="nv">l</span> : L0,
       (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
        {x_plus_y : No &amp;
        (<span class="kr">forall</span> <span class="nv">l0</span> : L, (xL_plus l0).<span class="mi">1</span> y &lt; x_plus_y) *
        (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
         (xL0 l))
(<span class="nv">fxR</span> : <span class="kr">forall</span> <span class="nv">r</span> : R0,
       (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
        {x_plus_y : No &amp;
        (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
        (<span class="kr">forall</span> <span class="nv">r0</span> : R, x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y)})
         (xR0 r))
(<span class="nv">fxcut</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L0) 
         (<span class="nv">r</span> : R0),
         (<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S) 
            (<span class="nv">_</span> : x &lt; y)
            (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
                  {x_plus_y : No &amp;
                  (<span class="kr">forall</span> 
                   <span class="nv">l0</span> : L,
                   (xL_plus l0).<span class="mi">1</span> y0 &lt; x_plus_y) *
                  (<span class="kr">forall</span> 
                   <span class="nv">r0</span> : R,
                   x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y0)}) x)
            (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
                  {x_plus_y : No &amp;
                  (<span class="kr">forall</span> 
                   <span class="nv">l0</span> : L,
                   (xL_plus l0).<span class="mi">1</span> y0 &lt; x_plus_y) *
                  (<span class="kr">forall</span> 
                   <span class="nv">r0</span> : R,
                   x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y0)}) y)
          =&gt; z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>) (xL0 l) 
           (xR0 r) (xcut0 l r) 
           (fxL l) (fxR r)) 
(<span class="nv">L&#39;</span> <span class="nv">R&#39;</span> : <span class="kt">Type</span>) (<span class="nv">s&#39;</span> : InSort S L&#39; R&#39;)
(<span class="nv">yL</span> : L&#39; -&gt; GenNo S) (<span class="nv">yR</span> : R&#39; -&gt; GenNo S)
(<span class="nv">ycut</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;), yL l &lt; yR r)
(<span class="nv">fyL</span> : <span class="kr">forall</span> <span class="nv">l</span> : L&#39;,
       (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
        {x_plus_y : No &amp;
        (<span class="kr">forall</span> <span class="nv">l0</span> : L, (xL_plus l0).<span class="mi">1</span> y &lt; x_plus_y) *
        (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
         (yL l))
(<span class="nv">fyR</span> : <span class="kr">forall</span> <span class="nv">r</span> : R&#39;,
       (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
        {x_plus_y : No &amp;
        (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
        (<span class="kr">forall</span> <span class="nv">r0</span> : R, x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y)})
         (yR r))
(<span class="nv">fycut</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) 
         (<span class="nv">r</span> : R&#39;),
         (<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S) 
            (<span class="nv">_</span> : x &lt; y)
            (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
                  {x_plus_y : No &amp;
                  (<span class="kr">forall</span> 
                   <span class="nv">l0</span> : L,
                   (xL_plus l0).<span class="mi">1</span> y0 &lt; x_plus_y) *
                  (<span class="kr">forall</span> 
                   <span class="nv">r0</span> : R,
                   x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y0)}) x)
            (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
                  {x_plus_y : No &amp;
                  (<span class="kr">forall</span> 
                   <span class="nv">l0</span> : L,
                   (xL_plus l0).<span class="mi">1</span> y0 &lt; x_plus_y) *
                  (<span class="kr">forall</span> 
                   <span class="nv">r0</span> : R,
                   x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y0)}) y)
          =&gt; z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>) (yL l) 
           (yR r) (ycut l r) 
           (fyL l) (fyR r)) 
(<span class="nv">r</span> : R0) (<span class="nv">p</span> : xR0 r &lt;= {{ yL | yR // ycut }}),
(<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x &lt;= y)
   (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y0 &lt; x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r0</span> : R, x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y0)})
          x)
   (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y0 &lt; x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r0</span> : R, x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y0)})
          y) =&gt; z.<span class="mi">1</span> &lt;= w.<span class="mi">1</span>) 
  (xR0 r) {{ yL | yR // ycut }} p 
  (fxR r) (<span class="nl">?dcut</span> L&#39; R&#39; s&#39; yL yR ycut fyL fyR fycut) -&gt;
(<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x &lt; y)
   (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y0 &lt; x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r0</span> : R, x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y0)})
          x)
   (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y0 &lt; x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r0</span> : R, x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y0)})
          y) =&gt; z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>) {{ xL0 | xR0 // xcut0 }}
  {{ yL | yR // ycut }}
  (lt_r xL0 xR0 xcut0 yL yR ycut r p)
  (<span class="nl">?dcut</span> L0 R0 s xL0 xR0 xcut0 fxL fxR fxcut)
  (<span class="nl">?dcut</span> L&#39; R&#39; s&#39; yL yR ycut fyL fyR fycut)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chkd"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L, R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Sx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">{g : No -&gt; No &amp;
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt;= y -&gt; g x &lt;= g y) *
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt; y -&gt; g x &lt; g y)}</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_lt_xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R) (<span class="nv">x</span> : No),
(xL_plus l).<span class="mi">1</span> x &lt; (xR_plus r).<span class="mi">1</span> x</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">L0</span> <span class="nv">R0</span> : <span class="kt">Type</span>) (<span class="nv">s</span> : InSort S L0 R0)
(<span class="nv">xL</span> : L0 -&gt; GenNo S) (<span class="nv">xR</span> : R0 -&gt; GenNo S)
(<span class="nv">xcut</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L0) (<span class="nv">r</span> : R0), xL l &lt; xR r)
(<span class="nv">fxL</span> : <span class="kr">forall</span> <span class="nv">l</span> : L0,
       (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
        {x_plus_y : No &amp;
        (<span class="kr">forall</span> <span class="nv">l0</span> : L, (xL_plus l0).<span class="mi">1</span> y &lt; x_plus_y) *
        (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
         (xL l))
(<span class="nv">fxR</span> : <span class="kr">forall</span> <span class="nv">r</span> : R0,
       (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
        {x_plus_y : No &amp;
        (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
        (<span class="kr">forall</span> <span class="nv">r0</span> : R, x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y)})
         (xR r)),
(<span class="kr">forall</span> (<span class="nv">l</span> : L0) (<span class="nv">r</span> : R0),
 (<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x &lt; y)
    (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
          {x_plus_y : No &amp;
          (<span class="kr">forall</span> <span class="nv">l0</span> : L, (xL_plus l0).<span class="mi">1</span> y0 &lt; x_plus_y) *
          (<span class="kr">forall</span> <span class="nv">r0</span> : R, x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y0)})
           x)
    (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
          {x_plus_y : No &amp;
          (<span class="kr">forall</span> <span class="nv">l0</span> : L, (xL_plus l0).<span class="mi">1</span> y0 &lt; x_plus_y) *
          (<span class="kr">forall</span> <span class="nv">r0</span> : R, x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y0)})
           y) =&gt; z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>) (xL l) (xR r) (xcut l r)
   (fxL l) (fxR r)) -&gt;
(<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
 {x_plus_y : No &amp;
 (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
 (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
  {{ xL | xR // xcut }}</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chke"><span class="highlight"><span class="nb">intros</span> L&#39; R&#39; ? yL yR ycut x_plus_yL x_plus_yR x_plus_yL_lt_yR.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L, R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Sx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">{g : No -&gt; No &amp;
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt;= y -&gt; g x &lt;= g y) *
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt; y -&gt; g x &lt; g y)}</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_lt_xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R) (<span class="nv">x</span> : No),
(xL_plus l).<span class="mi">1</span> x &lt; (xR_plus r).<span class="mi">1</span> x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L', R'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L&#39; R&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">yL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L&#39; -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">yR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R&#39; -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ycut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;), yL l &lt; yR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x_plus_yL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : L&#39;,
(<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
 {x_plus_y : No &amp;
 (<span class="kr">forall</span> <span class="nv">l0</span> : L,
  (xL_plus l0).<span class="mi">1</span> y &lt; x_plus_y) *
 (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
  (yL l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x_plus_yR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">r</span> : R&#39;,
(<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
 {x_plus_y : No &amp;
 (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
 (<span class="kr">forall</span> <span class="nv">r0</span> : R,
  x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y)}) 
  (yR r)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x_plus_yL_lt_yR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;),
(<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x &lt; y)
   (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l0</span> : L,
          (xL_plus l0).<span class="mi">1</span> y0 &lt;
          x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r0</span> : R,
          x_plus_y &lt;
          (xR_plus r0).<span class="mi">1</span> y0)}) x)
   (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l0</span> : L,
          (xL_plus l0).<span class="mi">1</span> y0 &lt;
          x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r0</span> : R,
          x_plus_y &lt;
          (xR_plus r0).<span class="mi">1</span> y0)}) y) =&gt;
 z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>) (yL l) (yR r) 
  (ycut l r) (x_plus_yL l)
  (x_plus_yR r)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
 {x_plus_y : No &amp;
 (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
 (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
  {{ yL | yR // ycut }}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chkf"><span class="highlight"><span class="nb">pose</span> (L&#39;&#39; := L + L&#39;).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L, R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Sx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">{g : No -&gt; No &amp;
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt;= y -&gt; g x &lt;= g y) *
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt; y -&gt; g x &lt; g y)}</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_lt_xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R) (<span class="nv">x</span> : No),
(xL_plus l).<span class="mi">1</span> x &lt; (xR_plus r).<span class="mi">1</span> x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L', R'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L&#39; R&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">yL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L&#39; -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">yR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R&#39; -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ycut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;), yL l &lt; yR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x_plus_yL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : L&#39;,
(<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
 {x_plus_y : No &amp;
 (<span class="kr">forall</span> <span class="nv">l0</span> : L,
  (xL_plus l0).<span class="mi">1</span> y &lt; x_plus_y) *
 (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
  (yL l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x_plus_yR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">r</span> : R&#39;,
(<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
 {x_plus_y : No &amp;
 (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
 (<span class="kr">forall</span> <span class="nv">r0</span> : R,
  x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y)}) 
  (yR r)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x_plus_yL_lt_yR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;),
(<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x &lt; y)
   (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l0</span> : L,
          (xL_plus l0).<span class="mi">1</span> y0 &lt;
          x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r0</span> : R,
          x_plus_y &lt;
          (xR_plus r0).<span class="mi">1</span> y0)}) x)
   (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l0</span> : L,
          (xL_plus l0).<span class="mi">1</span> y0 &lt;
          x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r0</span> : R,
          x_plus_y &lt;
          (xR_plus r0).<span class="mi">1</span> y0)}) y) =&gt;
 z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>) (yL l) (yR r) 
  (ycut l r) (x_plus_yL l)
  (x_plus_yR r)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L''</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">L + L&#39;</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
 {x_plus_y : No &amp;
 (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
 (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
  {{ yL | yR // ycut }}</span></div></blockquote></div></div></small><span class="alectryon-wsp">  </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk10"><span class="highlight"><span class="nb">pose</span> (R&#39;&#39; := R + R&#39;).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L, R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Sx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">{g : No -&gt; No &amp;
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt;= y -&gt; g x &lt;= g y) *
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt; y -&gt; g x &lt; g y)}</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_lt_xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R) (<span class="nv">x</span> : No),
(xL_plus l).<span class="mi">1</span> x &lt; (xR_plus r).<span class="mi">1</span> x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L', R'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L&#39; R&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">yL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L&#39; -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">yR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R&#39; -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ycut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;), yL l &lt; yR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x_plus_yL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : L&#39;,
(<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
 {x_plus_y : No &amp;
 (<span class="kr">forall</span> <span class="nv">l0</span> : L,
  (xL_plus l0).<span class="mi">1</span> y &lt; x_plus_y) *
 (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
  (yL l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x_plus_yR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">r</span> : R&#39;,
(<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
 {x_plus_y : No &amp;
 (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
 (<span class="kr">forall</span> <span class="nv">r0</span> : R,
  x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y)}) 
  (yR r)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x_plus_yL_lt_yR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;),
(<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x &lt; y)
   (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l0</span> : L,
          (xL_plus l0).<span class="mi">1</span> y0 &lt;
          x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r0</span> : R,
          x_plus_y &lt;
          (xR_plus r0).<span class="mi">1</span> y0)}) x)
   (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l0</span> : L,
          (xL_plus l0).<span class="mi">1</span> y0 &lt;
          x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r0</span> : R,
          x_plus_y &lt;
          (xR_plus r0).<span class="mi">1</span> y0)}) y) =&gt;
 z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>) (yL l) (yR r) 
  (ycut l r) (x_plus_yL l)
  (x_plus_yR r)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L''</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">L + L&#39;</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R''</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">R + R&#39;</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
 {x_plus_y : No &amp;
 (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
 (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
  {{ yL | yR // ycut }}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk11"><span class="highlight"><span class="nb">pose</span> (zL := sum_ind (<span class="kr">fun</span> <span class="nv">_</span> =&gt; No)
                            (<span class="kr">fun</span> <span class="nv">l</span> =&gt; (xL_plus l).<span class="mi">1</span> {{ yL | yR // ycut }})
                            (<span class="kr">fun</span> <span class="nv">l</span> =&gt; (x_plus_yL l).<span class="mi">1</span>)
                    : L&#39;&#39; -&gt; No).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L, R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Sx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">{g : No -&gt; No &amp;
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt;= y -&gt; g x &lt;= g y) *
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt; y -&gt; g x &lt; g y)}</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_lt_xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R) (<span class="nv">x</span> : No),
(xL_plus l).<span class="mi">1</span> x &lt; (xR_plus r).<span class="mi">1</span> x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L', R'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L&#39; R&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">yL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L&#39; -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">yR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R&#39; -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ycut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;), yL l &lt; yR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x_plus_yL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : L&#39;,
(<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
 {x_plus_y : No &amp;
 (<span class="kr">forall</span> <span class="nv">l0</span> : L,
  (xL_plus l0).<span class="mi">1</span> y &lt; x_plus_y) *
 (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
  (yL l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x_plus_yR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">r</span> : R&#39;,
(<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
 {x_plus_y : No &amp;
 (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
 (<span class="kr">forall</span> <span class="nv">r0</span> : R,
  x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y)}) 
  (yR r)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x_plus_yL_lt_yR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;),
(<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x &lt; y)
   (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l0</span> : L,
          (xL_plus l0).<span class="mi">1</span> y0 &lt;
          x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r0</span> : R,
          x_plus_y &lt;
          (xR_plus r0).<span class="mi">1</span> y0)}) x)
   (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l0</span> : L,
          (xL_plus l0).<span class="mi">1</span> y0 &lt;
          x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r0</span> : R,
          x_plus_y &lt;
          (xR_plus r0).<span class="mi">1</span> y0)}) y) =&gt;
 z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>) (yL l) (yR r) 
  (ycut l r) (x_plus_yL l)
  (x_plus_yR r)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L''</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">L + L&#39;</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R''</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">R + R&#39;</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">zL</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + L&#39; =&gt; No)
  (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt;
   (xL_plus l).<span class="mi">1</span> {{ yL | yR // ycut }})
  (<span class="kr">fun</span> <span class="nv">l</span> : L&#39; =&gt; (x_plus_yL l).<span class="mi">1</span>)
:
L&#39;&#39; -&gt; No</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L&#39;&#39; -&gt; No</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
 {x_plus_y : No &amp;
 (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
 (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
  {{ yL | yR // ycut }}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk12"><span class="highlight"><span class="nb">pose</span> (zR := sum_ind (<span class="kr">fun</span> <span class="nv">_</span> =&gt; No)
                            (<span class="kr">fun</span> <span class="nv">r</span> =&gt; (xR_plus r).<span class="mi">1</span> {{ yL | yR // ycut }})
                            (<span class="kr">fun</span> <span class="nv">r</span> =&gt; (x_plus_yR r).<span class="mi">1</span>)
                    : R&#39;&#39; -&gt; No).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L, R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Sx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">{g : No -&gt; No &amp;
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt;= y -&gt; g x &lt;= g y) *
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt; y -&gt; g x &lt; g y)}</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_lt_xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R) (<span class="nv">x</span> : No),
(xL_plus l).<span class="mi">1</span> x &lt; (xR_plus r).<span class="mi">1</span> x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L', R'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L&#39; R&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">yL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L&#39; -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">yR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R&#39; -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ycut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;), yL l &lt; yR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x_plus_yL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : L&#39;,
(<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
 {x_plus_y : No &amp;
 (<span class="kr">forall</span> <span class="nv">l0</span> : L,
  (xL_plus l0).<span class="mi">1</span> y &lt; x_plus_y) *
 (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
  (yL l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x_plus_yR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">r</span> : R&#39;,
(<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
 {x_plus_y : No &amp;
 (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
 (<span class="kr">forall</span> <span class="nv">r0</span> : R,
  x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y)}) 
  (yR r)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x_plus_yL_lt_yR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;),
(<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x &lt; y)
   (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l0</span> : L,
          (xL_plus l0).<span class="mi">1</span> y0 &lt;
          x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r0</span> : R,
          x_plus_y &lt;
          (xR_plus r0).<span class="mi">1</span> y0)}) x)
   (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l0</span> : L,
          (xL_plus l0).<span class="mi">1</span> y0 &lt;
          x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r0</span> : R,
          x_plus_y &lt;
          (xR_plus r0).<span class="mi">1</span> y0)}) y) =&gt;
 z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>) (yL l) (yR r) 
  (ycut l r) (x_plus_yL l)
  (x_plus_yR r)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L''</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">L + L&#39;</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R''</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">R + R&#39;</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">zL</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + L&#39; =&gt; No)
  (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt;
   (xL_plus l).<span class="mi">1</span> {{ yL | yR // ycut }})
  (<span class="kr">fun</span> <span class="nv">l</span> : L&#39; =&gt; (x_plus_yL l).<span class="mi">1</span>)
:
L&#39;&#39; -&gt; No</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L&#39;&#39; -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">zR</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + R&#39; =&gt; No)
  (<span class="kr">fun</span> <span class="nv">r</span> : R =&gt;
   (xR_plus r).<span class="mi">1</span> {{ yL | yR // ycut }})
  (<span class="kr">fun</span> <span class="nv">r</span> : R&#39; =&gt; (x_plus_yR r).<span class="mi">1</span>)
:
R&#39;&#39; -&gt; No</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R&#39;&#39; -&gt; No</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
 {x_plus_y : No &amp;
 (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
 (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
  {{ yL | yR // ycut }}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk13"><span class="highlight"><span class="nb">assert</span> (zcut : <span class="kr">forall</span> (<span class="nv">l</span>:L&#39;&#39;) (<span class="nv">r</span>:R&#39;&#39;), zL l &lt; zR r).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L, R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Sx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">{g : No -&gt; No &amp;
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt;= y -&gt; g x &lt;= g y) *
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt; y -&gt; g x &lt; g y)}</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_lt_xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R) (<span class="nv">x</span> : No),
(xL_plus l).<span class="mi">1</span> x &lt; (xR_plus r).<span class="mi">1</span> x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L', R'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L&#39; R&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">yL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L&#39; -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">yR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R&#39; -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ycut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;), yL l &lt; yR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x_plus_yL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : L&#39;,
(<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
 {x_plus_y : No &amp;
 (<span class="kr">forall</span> <span class="nv">l0</span> : L,
  (xL_plus l0).<span class="mi">1</span> y &lt; x_plus_y) *
 (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
  (yL l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x_plus_yR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">r</span> : R&#39;,
(<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
 {x_plus_y : No &amp;
 (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
 (<span class="kr">forall</span> <span class="nv">r0</span> : R,
  x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y)}) 
  (yR r)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x_plus_yL_lt_yR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;),
(<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x &lt; y)
   (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l0</span> : L,
          (xL_plus l0).<span class="mi">1</span> y0 &lt;
          x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r0</span> : R,
          x_plus_y &lt;
          (xR_plus r0).<span class="mi">1</span> y0)}) x)
   (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l0</span> : L,
          (xL_plus l0).<span class="mi">1</span> y0 &lt;
          x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r0</span> : R,
          x_plus_y &lt;
          (xR_plus r0).<span class="mi">1</span> y0)}) y) =&gt;
 z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>) (yL l) (yR r) 
  (ycut l r) (x_plus_yL l)
  (x_plus_yR r)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L''</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">L + L&#39;</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R''</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">R + R&#39;</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">zL</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + L&#39; =&gt; No)
  (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt;
   (xL_plus l).<span class="mi">1</span> {{ yL | yR // ycut }})
  (<span class="kr">fun</span> <span class="nv">l</span> : L&#39; =&gt; (x_plus_yL l).<span class="mi">1</span>)
:
L&#39;&#39; -&gt; No</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L&#39;&#39; -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">zR</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + R&#39; =&gt; No)
  (<span class="kr">fun</span> <span class="nv">r</span> : R =&gt;
   (xR_plus r).<span class="mi">1</span> {{ yL | yR // ycut }})
  (<span class="kr">fun</span> <span class="nv">r</span> : R&#39; =&gt; (x_plus_yR r).<span class="mi">1</span>)
:
R&#39;&#39; -&gt; No</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R&#39;&#39; -&gt; No</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L&#39;&#39;) (<span class="nv">r</span> : R&#39;&#39;), zL l &lt; zR r</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="addition-v-chk14" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L, R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Sx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">{g : No -&gt; No &amp;
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt;= y -&gt; g x &lt;= g y) *
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt; y -&gt; g x &lt; g y)}</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_lt_xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R) (<span class="nv">x</span> : No),
(xL_plus l).<span class="mi">1</span> x &lt; (xR_plus r).<span class="mi">1</span> x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L', R'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L&#39; R&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">yL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L&#39; -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">yR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R&#39; -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ycut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;), yL l &lt; yR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x_plus_yL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : L&#39;,
(<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
 {x_plus_y : No &amp;
 (<span class="kr">forall</span> <span class="nv">l0</span> : L,
  (xL_plus l0).<span class="mi">1</span> y &lt; x_plus_y) *
 (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
  (yL l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x_plus_yR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">r</span> : R&#39;,
(<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
 {x_plus_y : No &amp;
 (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
 (<span class="kr">forall</span> <span class="nv">r0</span> : R,
  x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y)}) 
  (yR r)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x_plus_yL_lt_yR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;),
(<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x &lt; y)
   (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l0</span> : L,
          (xL_plus l0).<span class="mi">1</span> y0 &lt;
          x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r0</span> : R,
          x_plus_y &lt;
          (xR_plus r0).<span class="mi">1</span> y0)}) x)
   (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l0</span> : L,
          (xL_plus l0).<span class="mi">1</span> y0 &lt;
          x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r0</span> : R,
          x_plus_y &lt;
          (xR_plus r0).<span class="mi">1</span> y0)}) y) =&gt;
 z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>) (yL l) (yR r) 
  (ycut l r) (x_plus_yL l)
  (x_plus_yR r)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L''</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">L + L&#39;</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R''</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">R + R&#39;</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">zL</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + L&#39; =&gt; No)
  (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt;
   (xL_plus l).<span class="mi">1</span> {{ yL | yR // ycut }})
  (<span class="kr">fun</span> <span class="nv">l</span> : L&#39; =&gt; (x_plus_yL l).<span class="mi">1</span>)
:
L&#39;&#39; -&gt; No</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L&#39;&#39; -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">zR</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + R&#39; =&gt; No)
  (<span class="kr">fun</span> <span class="nv">r</span> : R =&gt;
   (xR_plus r).<span class="mi">1</span> {{ yL | yR // ycut }})
  (<span class="kr">fun</span> <span class="nv">r</span> : R&#39; =&gt; (x_plus_yR r).<span class="mi">1</span>)
:
R&#39;&#39; -&gt; No</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R&#39;&#39; -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">zcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L&#39;&#39;) (<span class="nv">r</span> : R&#39;&#39;), zL l &lt; zR r</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="addition-v-chk14"><hr></label><div class="goal-conclusion"><span class="highlight">(<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
 {x_plus_y : No &amp;
 (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
 (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
  {{ yL | yR // ycut }}</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk15"><span class="highlight">{</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L, R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Sx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">{g : No -&gt; No &amp;
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt;= y -&gt; g x &lt;= g y) *
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt; y -&gt; g x &lt; g y)}</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_lt_xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R) (<span class="nv">x</span> : No),
(xL_plus l).<span class="mi">1</span> x &lt; (xR_plus r).<span class="mi">1</span> x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L', R'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L&#39; R&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">yL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L&#39; -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">yR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R&#39; -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ycut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;), yL l &lt; yR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x_plus_yL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : L&#39;,
(<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
 {x_plus_y : No &amp;
 (<span class="kr">forall</span> <span class="nv">l0</span> : L,
  (xL_plus l0).<span class="mi">1</span> y &lt; x_plus_y) *
 (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
  (yL l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x_plus_yR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">r</span> : R&#39;,
(<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
 {x_plus_y : No &amp;
 (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
 (<span class="kr">forall</span> <span class="nv">r0</span> : R,
  x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y)}) 
  (yR r)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x_plus_yL_lt_yR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;),
(<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x &lt; y)
   (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l0</span> : L,
          (xL_plus l0).<span class="mi">1</span> y0 &lt;
          x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r0</span> : R,
          x_plus_y &lt;
          (xR_plus r0).<span class="mi">1</span> y0)}) x)
   (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l0</span> : L,
          (xL_plus l0).<span class="mi">1</span> y0 &lt;
          x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r0</span> : R,
          x_plus_y &lt;
          (xR_plus r0).<span class="mi">1</span> y0)}) y) =&gt;
 z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>) (yL l) (yR r) 
  (ycut l r) (x_plus_yL l)
  (x_plus_yR r)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L''</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">L + L&#39;</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R''</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">R + R&#39;</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">zL</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + L&#39; =&gt; No)
  (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt;
   (xL_plus l).<span class="mi">1</span> {{ yL | yR // ycut }})
  (<span class="kr">fun</span> <span class="nv">l</span> : L&#39; =&gt; (x_plus_yL l).<span class="mi">1</span>)
:
L&#39;&#39; -&gt; No</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L&#39;&#39; -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">zR</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + R&#39; =&gt; No)
  (<span class="kr">fun</span> <span class="nv">r</span> : R =&gt;
   (xR_plus r).<span class="mi">1</span> {{ yL | yR // ycut }})
  (<span class="kr">fun</span> <span class="nv">r</span> : R&#39; =&gt; (x_plus_yR r).<span class="mi">1</span>)
:
R&#39;&#39; -&gt; No</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R&#39;&#39; -&gt; No</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L&#39;&#39;) (<span class="nv">r</span> : R&#39;&#39;), zL l &lt; zR r</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kp">abstract</span> (
          <span class="nb">intros</span> [l|l] [r|r]; <span class="nb">cbn</span>;
          [ <span class="nb">apply</span> xL_lt_xR_plus
          | <span class="nb">transitivity</span> ((xL_plus l).<span class="mi">1</span> (yR r));
            [ <span class="nb">apply</span> (snd (xL_plus l).<span class="mi">2</span>), lt_ropt; <span class="bp">exact</span> _
            | <span class="bp">exact</span> (fst (x_plus_yR r).<span class="mi">2</span> l) ]
          | <span class="nb">transitivity</span> ((xR_plus r).<span class="mi">1</span> (yL l));
            [ <span class="bp">exact</span> (snd (x_plus_yL l).<span class="mi">2</span> r)
            | <span class="nb">apply</span> (snd (xR_plus r).<span class="mi">2</span>), lt_lopt; <span class="bp">exact</span> _ ]
          | <span class="nb">apply</span> x_plus_yL_lt_yR ]).</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk16"><span class="highlight">}</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L, R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Sx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">{g : No -&gt; No &amp;
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt;= y -&gt; g x &lt;= g y) *
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt; y -&gt; g x &lt; g y)}</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_lt_xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R) (<span class="nv">x</span> : No),
(xL_plus l).<span class="mi">1</span> x &lt; (xR_plus r).<span class="mi">1</span> x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L', R'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L&#39; R&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">yL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L&#39; -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">yR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R&#39; -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ycut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;), yL l &lt; yR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x_plus_yL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : L&#39;,
(<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
 {x_plus_y : No &amp;
 (<span class="kr">forall</span> <span class="nv">l0</span> : L,
  (xL_plus l0).<span class="mi">1</span> y &lt; x_plus_y) *
 (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
  (yL l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x_plus_yR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">r</span> : R&#39;,
(<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
 {x_plus_y : No &amp;
 (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
 (<span class="kr">forall</span> <span class="nv">r0</span> : R,
  x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y)}) 
  (yR r)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x_plus_yL_lt_yR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;),
(<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x &lt; y)
   (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l0</span> : L,
          (xL_plus l0).<span class="mi">1</span> y0 &lt;
          x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r0</span> : R,
          x_plus_y &lt;
          (xR_plus r0).<span class="mi">1</span> y0)}) x)
   (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l0</span> : L,
          (xL_plus l0).<span class="mi">1</span> y0 &lt;
          x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r0</span> : R,
          x_plus_y &lt;
          (xR_plus r0).<span class="mi">1</span> y0)}) y) =&gt;
 z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>) (yL l) (yR r) 
  (ycut l r) (x_plus_yL l)
  (x_plus_yR r)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L''</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">L + L&#39;</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R''</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">R + R&#39;</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">zL</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + L&#39; =&gt; No)
  (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt;
   (xL_plus l).<span class="mi">1</span> {{ yL | yR // ycut }})
  (<span class="kr">fun</span> <span class="nv">l</span> : L&#39; =&gt; (x_plus_yL l).<span class="mi">1</span>)
:
L&#39;&#39; -&gt; No</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L&#39;&#39; -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">zR</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + R&#39; =&gt; No)
  (<span class="kr">fun</span> <span class="nv">r</span> : R =&gt;
   (xR_plus r).<span class="mi">1</span> {{ yL | yR // ycut }})
  (<span class="kr">fun</span> <span class="nv">r</span> : R&#39; =&gt; (x_plus_yR r).<span class="mi">1</span>)
:
R&#39;&#39; -&gt; No</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R&#39;&#39; -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">zcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L&#39;&#39;) (<span class="nv">r</span> : R&#39;&#39;), zL l &lt; zR r</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
 {x_plus_y : No &amp;
 (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
 (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
  {{ yL | yR // ycut }}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk17"><span class="highlight"><span class="nb">assert</span> (InSort S L&#39;&#39; R&#39;&#39;) <span class="bp">by</span> (<span class="nb">apply</span> sum_options; <span class="bp">exact</span> _).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L, R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Sx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">{g : No -&gt; No &amp;
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt;= y -&gt; g x &lt;= g y) *
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt; y -&gt; g x &lt; g y)}</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_lt_xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R) (<span class="nv">x</span> : No),
(xL_plus l).<span class="mi">1</span> x &lt; (xR_plus r).<span class="mi">1</span> x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L', R'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L&#39; R&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">yL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L&#39; -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">yR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R&#39; -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ycut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;), yL l &lt; yR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x_plus_yL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : L&#39;,
(<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
 {x_plus_y : No &amp;
 (<span class="kr">forall</span> <span class="nv">l0</span> : L,
  (xL_plus l0).<span class="mi">1</span> y &lt; x_plus_y) *
 (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
  (yL l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x_plus_yR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">r</span> : R&#39;,
(<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
 {x_plus_y : No &amp;
 (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
 (<span class="kr">forall</span> <span class="nv">r0</span> : R,
  x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y)}) 
  (yR r)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x_plus_yL_lt_yR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;),
(<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x &lt; y)
   (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l0</span> : L,
          (xL_plus l0).<span class="mi">1</span> y0 &lt;
          x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r0</span> : R,
          x_plus_y &lt;
          (xR_plus r0).<span class="mi">1</span> y0)}) x)
   (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l0</span> : L,
          (xL_plus l0).<span class="mi">1</span> y0 &lt;
          x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r0</span> : R,
          x_plus_y &lt;
          (xR_plus r0).<span class="mi">1</span> y0)}) y) =&gt;
 z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>) (yL l) (yR r) 
  (ycut l r) (x_plus_yL l)
  (x_plus_yR r)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L''</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">L + L&#39;</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R''</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">R + R&#39;</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">zL</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + L&#39; =&gt; No)
  (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt;
   (xL_plus l).<span class="mi">1</span> {{ yL | yR // ycut }})
  (<span class="kr">fun</span> <span class="nv">l</span> : L&#39; =&gt; (x_plus_yL l).<span class="mi">1</span>)
:
L&#39;&#39; -&gt; No</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L&#39;&#39; -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">zR</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + R&#39; =&gt; No)
  (<span class="kr">fun</span> <span class="nv">r</span> : R =&gt;
   (xR_plus r).<span class="mi">1</span> {{ yL | yR // ycut }})
  (<span class="kr">fun</span> <span class="nv">r</span> : R&#39; =&gt; (x_plus_yR r).<span class="mi">1</span>)
:
R&#39;&#39; -&gt; No</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R&#39;&#39; -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">zcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L&#39;&#39;) (<span class="nv">r</span> : R&#39;&#39;), zL l &lt; zR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L&#39;&#39; R&#39;&#39;</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
 {x_plus_y : No &amp;
 (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
 (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
  {{ yL | yR // ycut }}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk18" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk18"><span class="highlight"><span class="kr">exists</span> ({{ zL | zR // zcut }}); <span class="nb">split</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L, R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Sx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">{g : No -&gt; No &amp;
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt;= y -&gt; g x &lt;= g y) *
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt; y -&gt; g x &lt; g y)}</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_lt_xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R) (<span class="nv">x</span> : No),
(xL_plus l).<span class="mi">1</span> x &lt; (xR_plus r).<span class="mi">1</span> x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L', R'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L&#39; R&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">yL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L&#39; -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">yR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R&#39; -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ycut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;), yL l &lt; yR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x_plus_yL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : L&#39;,
(<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
 {x_plus_y : No &amp;
 (<span class="kr">forall</span> <span class="nv">l0</span> : L,
  (xL_plus l0).<span class="mi">1</span> y &lt; x_plus_y) *
 (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
  (yL l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x_plus_yR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">r</span> : R&#39;,
(<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
 {x_plus_y : No &amp;
 (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
 (<span class="kr">forall</span> <span class="nv">r0</span> : R,
  x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y)}) 
  (yR r)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x_plus_yL_lt_yR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;),
(<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x &lt; y)
   (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l0</span> : L,
          (xL_plus l0).<span class="mi">1</span> y0 &lt;
          x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r0</span> : R,
          x_plus_y &lt;
          (xR_plus r0).<span class="mi">1</span> y0)}) x)
   (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l0</span> : L,
          (xL_plus l0).<span class="mi">1</span> y0 &lt;
          x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r0</span> : R,
          x_plus_y &lt;
          (xR_plus r0).<span class="mi">1</span> y0)}) y) =&gt;
 z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>) (yL l) (yR r) 
  (ycut l r) (x_plus_yL l)
  (x_plus_yR r)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L''</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">L + L&#39;</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R''</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">R + R&#39;</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">zL</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + L&#39; =&gt; No)
  (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt;
   (xL_plus l).<span class="mi">1</span> {{ yL | yR // ycut }})
  (<span class="kr">fun</span> <span class="nv">l</span> : L&#39; =&gt; (x_plus_yL l).<span class="mi">1</span>)
:
L&#39;&#39; -&gt; No</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L&#39;&#39; -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">zR</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + R&#39; =&gt; No)
  (<span class="kr">fun</span> <span class="nv">r</span> : R =&gt;
   (xR_plus r).<span class="mi">1</span> {{ yL | yR // ycut }})
  (<span class="kr">fun</span> <span class="nv">r</span> : R&#39; =&gt; (x_plus_yR r).<span class="mi">1</span>)
:
R&#39;&#39; -&gt; No</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R&#39;&#39; -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">zcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L&#39;&#39;) (<span class="nv">r</span> : R&#39;&#39;), zL l &lt; zR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L&#39;&#39; R&#39;&#39;</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : L,
(xL_plus l).<span class="mi">1</span> {{ yL | yR // ycut }} &lt;
{{ zL | zR // zcut }}</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="addition-v-chk19" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L, R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Sx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">{g : No -&gt; No &amp;
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt;= y -&gt; g x &lt;= g y) *
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt; y -&gt; g x &lt; g y)}</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_lt_xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R) (<span class="nv">x</span> : No),
(xL_plus l).<span class="mi">1</span> x &lt; (xR_plus r).<span class="mi">1</span> x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L', R'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L&#39; R&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">yL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L&#39; -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">yR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R&#39; -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ycut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;), yL l &lt; yR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x_plus_yL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : L&#39;,
(<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
 {x_plus_y : No &amp;
 (<span class="kr">forall</span> <span class="nv">l0</span> : L,
  (xL_plus l0).<span class="mi">1</span> y &lt; x_plus_y) *
 (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
  (yL l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x_plus_yR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">r</span> : R&#39;,
(<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
 {x_plus_y : No &amp;
 (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
 (<span class="kr">forall</span> <span class="nv">r0</span> : R,
  x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y)}) 
  (yR r)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x_plus_yL_lt_yR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;),
(<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x &lt; y)
   (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l0</span> : L,
          (xL_plus l0).<span class="mi">1</span> y0 &lt;
          x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r0</span> : R,
          x_plus_y &lt;
          (xR_plus r0).<span class="mi">1</span> y0)}) x)
   (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l0</span> : L,
          (xL_plus l0).<span class="mi">1</span> y0 &lt;
          x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r0</span> : R,
          x_plus_y &lt;
          (xR_plus r0).<span class="mi">1</span> y0)}) y) =&gt;
 z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>) (yL l) (yR r) 
  (ycut l r) (x_plus_yL l)
  (x_plus_yR r)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L''</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">L + L&#39;</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R''</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">R + R&#39;</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">zL</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + L&#39; =&gt; No)
  (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt;
   (xL_plus l).<span class="mi">1</span> {{ yL | yR // ycut }})
  (<span class="kr">fun</span> <span class="nv">l</span> : L&#39; =&gt; (x_plus_yL l).<span class="mi">1</span>)
:
L&#39;&#39; -&gt; No</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L&#39;&#39; -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">zR</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + R&#39; =&gt; No)
  (<span class="kr">fun</span> <span class="nv">r</span> : R =&gt;
   (xR_plus r).<span class="mi">1</span> {{ yL | yR // ycut }})
  (<span class="kr">fun</span> <span class="nv">r</span> : R&#39; =&gt; (x_plus_yR r).<span class="mi">1</span>)
:
R&#39;&#39; -&gt; No</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R&#39;&#39; -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">zcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L&#39;&#39;) (<span class="nv">r</span> : R&#39;&#39;), zL l &lt; zR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L&#39;&#39; R&#39;&#39;</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="addition-v-chk19"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">r</span> : R,
{{ zL | zR // zcut }} &lt;
(xR_plus r).<span class="mi">1</span> {{ yL | yR // ycut }}</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk1a"><span class="highlight">+</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L, R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Sx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">{g : No -&gt; No &amp;
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt;= y -&gt; g x &lt;= g y) *
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt; y -&gt; g x &lt; g y)}</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_lt_xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R) (<span class="nv">x</span> : No),
(xL_plus l).<span class="mi">1</span> x &lt; (xR_plus r).<span class="mi">1</span> x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L', R'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L&#39; R&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">yL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L&#39; -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">yR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R&#39; -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ycut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;), yL l &lt; yR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x_plus_yL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : L&#39;,
(<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
 {x_plus_y : No &amp;
 (<span class="kr">forall</span> <span class="nv">l0</span> : L,
  (xL_plus l0).<span class="mi">1</span> y &lt; x_plus_y) *
 (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
  (yL l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x_plus_yR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">r</span> : R&#39;,
(<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
 {x_plus_y : No &amp;
 (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
 (<span class="kr">forall</span> <span class="nv">r0</span> : R,
  x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y)}) 
  (yR r)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x_plus_yL_lt_yR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;),
(<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x &lt; y)
   (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l0</span> : L,
          (xL_plus l0).<span class="mi">1</span> y0 &lt;
          x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r0</span> : R,
          x_plus_y &lt;
          (xR_plus r0).<span class="mi">1</span> y0)}) x)
   (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l0</span> : L,
          (xL_plus l0).<span class="mi">1</span> y0 &lt;
          x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r0</span> : R,
          x_plus_y &lt;
          (xR_plus r0).<span class="mi">1</span> y0)}) y) =&gt;
 z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>) (yL l) (yR r) 
  (ycut l r) (x_plus_yL l)
  (x_plus_yR r)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L''</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">L + L&#39;</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R''</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">R + R&#39;</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">zL</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + L&#39; =&gt; No)
  (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt;
   (xL_plus l).<span class="mi">1</span> {{ yL | yR // ycut }})
  (<span class="kr">fun</span> <span class="nv">l</span> : L&#39; =&gt; (x_plus_yL l).<span class="mi">1</span>)
:
L&#39;&#39; -&gt; No</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L&#39;&#39; -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">zR</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + R&#39; =&gt; No)
  (<span class="kr">fun</span> <span class="nv">r</span> : R =&gt;
   (xR_plus r).<span class="mi">1</span> {{ yL | yR // ycut }})
  (<span class="kr">fun</span> <span class="nv">r</span> : R&#39; =&gt; (x_plus_yR r).<span class="mi">1</span>)
:
R&#39;&#39; -&gt; No</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R&#39;&#39; -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">zcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L&#39;&#39;) (<span class="nv">r</span> : R&#39;&#39;), zL l &lt; zR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L&#39;&#39; R&#39;&#39;</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : L,
(xL_plus l).<span class="mi">1</span> {{ yL | yR // ycut }} &lt;
{{ zL | zR // zcut }}</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk1b"><span class="highlight"><span class="nb">intros</span> l.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L, R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Sx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">{g : No -&gt; No &amp;
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt;= y -&gt; g x &lt;= g y) *
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt; y -&gt; g x &lt; g y)}</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_lt_xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R) (<span class="nv">x</span> : No),
(xL_plus l).<span class="mi">1</span> x &lt; (xR_plus r).<span class="mi">1</span> x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L', R'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L&#39; R&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">yL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L&#39; -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">yR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R&#39; -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ycut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;), yL l &lt; yR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x_plus_yL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : L&#39;,
(<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
 {x_plus_y : No &amp;
 (<span class="kr">forall</span> <span class="nv">l0</span> : L,
  (xL_plus l0).<span class="mi">1</span> y &lt; x_plus_y) *
 (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
  (yL l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x_plus_yR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">r</span> : R&#39;,
(<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
 {x_plus_y : No &amp;
 (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
 (<span class="kr">forall</span> <span class="nv">r0</span> : R,
  x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y)}) 
  (yR r)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x_plus_yL_lt_yR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;),
(<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x &lt; y)
   (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l0</span> : L,
          (xL_plus l0).<span class="mi">1</span> y0 &lt;
          x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r0</span> : R,
          x_plus_y &lt;
          (xR_plus r0).<span class="mi">1</span> y0)}) x)
   (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l0</span> : L,
          (xL_plus l0).<span class="mi">1</span> y0 &lt;
          x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r0</span> : R,
          x_plus_y &lt;
          (xR_plus r0).<span class="mi">1</span> y0)}) y) =&gt;
 z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>) (yL l) (yR r) 
  (ycut l r) (x_plus_yL l)
  (x_plus_yR r)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L''</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">L + L&#39;</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R''</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">R + R&#39;</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">zL</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + L&#39; =&gt; No)
  (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt;
   (xL_plus l).<span class="mi">1</span> {{ yL | yR // ycut }})
  (<span class="kr">fun</span> <span class="nv">l</span> : L&#39; =&gt; (x_plus_yL l).<span class="mi">1</span>)
:
L&#39;&#39; -&gt; No</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L&#39;&#39; -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">zR</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + R&#39; =&gt; No)
  (<span class="kr">fun</span> <span class="nv">r</span> : R =&gt;
   (xR_plus r).<span class="mi">1</span> {{ yL | yR // ycut }})
  (<span class="kr">fun</span> <span class="nv">r</span> : R&#39; =&gt; (x_plus_yR r).<span class="mi">1</span>)
:
R&#39;&#39; -&gt; No</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R&#39;&#39; -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">zcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L&#39;&#39;) (<span class="nv">r</span> : R&#39;&#39;), zL l &lt; zR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L&#39;&#39; R&#39;&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(xL_plus l).<span class="mi">1</span> {{ yL | yR // ycut }} &lt;
{{ zL | zR // zcut }}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">refine</span> (lt_lopt zL zR zcut (inl l)).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk1c"><span class="highlight">+</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L, R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Sx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">{g : No -&gt; No &amp;
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt;= y -&gt; g x &lt;= g y) *
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt; y -&gt; g x &lt; g y)}</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_lt_xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R) (<span class="nv">x</span> : No),
(xL_plus l).<span class="mi">1</span> x &lt; (xR_plus r).<span class="mi">1</span> x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L', R'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L&#39; R&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">yL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L&#39; -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">yR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R&#39; -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ycut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;), yL l &lt; yR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x_plus_yL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : L&#39;,
(<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
 {x_plus_y : No &amp;
 (<span class="kr">forall</span> <span class="nv">l0</span> : L,
  (xL_plus l0).<span class="mi">1</span> y &lt; x_plus_y) *
 (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
  (yL l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x_plus_yR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">r</span> : R&#39;,
(<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
 {x_plus_y : No &amp;
 (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
 (<span class="kr">forall</span> <span class="nv">r0</span> : R,
  x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y)}) 
  (yR r)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x_plus_yL_lt_yR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;),
(<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x &lt; y)
   (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l0</span> : L,
          (xL_plus l0).<span class="mi">1</span> y0 &lt;
          x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r0</span> : R,
          x_plus_y &lt;
          (xR_plus r0).<span class="mi">1</span> y0)}) x)
   (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l0</span> : L,
          (xL_plus l0).<span class="mi">1</span> y0 &lt;
          x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r0</span> : R,
          x_plus_y &lt;
          (xR_plus r0).<span class="mi">1</span> y0)}) y) =&gt;
 z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>) (yL l) (yR r) 
  (ycut l r) (x_plus_yL l)
  (x_plus_yR r)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L''</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">L + L&#39;</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R''</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">R + R&#39;</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">zL</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + L&#39; =&gt; No)
  (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt;
   (xL_plus l).<span class="mi">1</span> {{ yL | yR // ycut }})
  (<span class="kr">fun</span> <span class="nv">l</span> : L&#39; =&gt; (x_plus_yL l).<span class="mi">1</span>)
:
L&#39;&#39; -&gt; No</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L&#39;&#39; -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">zR</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + R&#39; =&gt; No)
  (<span class="kr">fun</span> <span class="nv">r</span> : R =&gt;
   (xR_plus r).<span class="mi">1</span> {{ yL | yR // ycut }})
  (<span class="kr">fun</span> <span class="nv">r</span> : R&#39; =&gt; (x_plus_yR r).<span class="mi">1</span>)
:
R&#39;&#39; -&gt; No</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R&#39;&#39; -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">zcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L&#39;&#39;) (<span class="nv">r</span> : R&#39;&#39;), zL l &lt; zR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L&#39;&#39; R&#39;&#39;</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">r</span> : R,
{{ zL | zR // zcut }} &lt;
(xR_plus r).<span class="mi">1</span> {{ yL | yR // ycut }}</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk1d"><span class="highlight"><span class="nb">intros</span> r.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L, R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Sx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">{g : No -&gt; No &amp;
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt;= y -&gt; g x &lt;= g y) *
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt; y -&gt; g x &lt; g y)}</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_lt_xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R) (<span class="nv">x</span> : No),
(xL_plus l).<span class="mi">1</span> x &lt; (xR_plus r).<span class="mi">1</span> x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L', R'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L&#39; R&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">yL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L&#39; -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">yR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R&#39; -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ycut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;), yL l &lt; yR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x_plus_yL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : L&#39;,
(<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
 {x_plus_y : No &amp;
 (<span class="kr">forall</span> <span class="nv">l0</span> : L,
  (xL_plus l0).<span class="mi">1</span> y &lt; x_plus_y) *
 (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
  (yL l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x_plus_yR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">r</span> : R&#39;,
(<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
 {x_plus_y : No &amp;
 (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
 (<span class="kr">forall</span> <span class="nv">r0</span> : R,
  x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y)}) 
  (yR r)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x_plus_yL_lt_yR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;),
(<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x &lt; y)
   (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l0</span> : L,
          (xL_plus l0).<span class="mi">1</span> y0 &lt;
          x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r0</span> : R,
          x_plus_y &lt;
          (xR_plus r0).<span class="mi">1</span> y0)}) x)
   (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l0</span> : L,
          (xL_plus l0).<span class="mi">1</span> y0 &lt;
          x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r0</span> : R,
          x_plus_y &lt;
          (xR_plus r0).<span class="mi">1</span> y0)}) y) =&gt;
 z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>) (yL l) (yR r) 
  (ycut l r) (x_plus_yL l)
  (x_plus_yR r)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L''</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">L + L&#39;</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">R''</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">R + R&#39;</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">zL</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + L&#39; =&gt; No)
  (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt;
   (xL_plus l).<span class="mi">1</span> {{ yL | yR // ycut }})
  (<span class="kr">fun</span> <span class="nv">l</span> : L&#39; =&gt; (x_plus_yL l).<span class="mi">1</span>)
:
L&#39;&#39; -&gt; No</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L&#39;&#39; -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">zR</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + R&#39; =&gt; No)
  (<span class="kr">fun</span> <span class="nv">r</span> : R =&gt;
   (xR_plus r).<span class="mi">1</span> {{ yL | yR // ycut }})
  (<span class="kr">fun</span> <span class="nv">r</span> : R&#39; =&gt; (x_plus_yR r).<span class="mi">1</span>)
:
R&#39;&#39; -&gt; No</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R&#39;&#39; -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">zcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L&#39;&#39;) (<span class="nv">r</span> : R&#39;&#39;), zL l &lt; zR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L&#39;&#39; R&#39;&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">r</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{{ zL | zR // zcut }} &lt;
(xR_plus r).<span class="mi">1</span> {{ yL | yR // ycut }}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">refine</span> (lt_ropt zL zR zcut (inl r)).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk1e"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L, R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Sx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">{g : No -&gt; No &amp;
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt;= y -&gt; g x &lt;= g y) *
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt; y -&gt; g x &lt; g y)}</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_lt_xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R) (<span class="nv">x</span> : No),
(xL_plus l).<span class="mi">1</span> x &lt; (xR_plus r).<span class="mi">1</span> x</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S)
(<span class="nv">a</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
      {x_plus_y : No &amp;
      (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y0 &lt; x_plus_y) *
      (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y0)}) x)
(<span class="nv">b</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
      {x_plus_y : No &amp;
      (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y0 &lt; x_plus_y) *
      (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y0)}) y)
(<span class="nv">p</span> : x &lt;= y) (<span class="nv">q</span> : y &lt;= x),
(<span class="kr">fun</span> (<span class="nv">x0</span> <span class="nv">y0</span> : GenNo S) (<span class="nv">_</span> : x0 &lt;= y0)
   (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y1</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y1 &lt; x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y1)})
          x0)
   (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y1</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y1 &lt; x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y1)})
          y0) =&gt; z.<span class="mi">1</span> &lt;= w.<span class="mi">1</span>) x y p a b -&gt;
(<span class="kr">fun</span> (<span class="nv">x0</span> <span class="nv">y0</span> : GenNo S) (<span class="nv">_</span> : x0 &lt;= y0)
   (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y1</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y1 &lt; x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y1)})
          x0)
   (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y1</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y1 &lt; x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y1)})
          y0) =&gt; z.<span class="mi">1</span> &lt;= w.<span class="mi">1</span>) y x q b a -&gt;
transport
  (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
   {x_plus_y : No &amp;
   (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y0 &lt; x_plus_y) *
   (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y0)})
  (path_No x y p q) a = b</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kp">abstract</span> (
        <span class="nb">intros</span> x y [a ?] [b ?] p q r s;
        <span class="nb">rewrite</span> transport_sigma; <span class="nb">cbn</span> <span class="kr">in</span> *;
        <span class="nb">apply</span> path_sigma_hprop, path_No; <span class="nb">cbn</span>;
        <span class="nb">rewrite</span> transport_const; <span class="bp">assumption</span>).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk1f"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L, R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Sx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">{g : No -&gt; No &amp;
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt;= y -&gt; g x &lt;= g y) *
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt; y -&gt; g x &lt; g y)}</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_lt_xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R) (<span class="nv">x</span> : No),
(xL_plus l).<span class="mi">1</span> x &lt; (xR_plus r).<span class="mi">1</span> x</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">L0</span> <span class="nv">R0</span> : <span class="kt">Type</span>) (<span class="nv">s</span> : InSort S L0 R0)
(<span class="nv">xL</span> : L0 -&gt; GenNo S) (<span class="nv">xR</span> : R0 -&gt; GenNo S)
(<span class="nv">xcut</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L0) (<span class="nv">r</span> : R0), xL l &lt; xR r)
(<span class="nv">fxL</span> : <span class="kr">forall</span> <span class="nv">l</span> : L0,
       (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
        {x_plus_y : No &amp;
        (<span class="kr">forall</span> <span class="nv">l0</span> : L, (xL_plus l0).<span class="mi">1</span> y &lt; x_plus_y) *
        (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
         (xL l))
(<span class="nv">fxR</span> : <span class="kr">forall</span> <span class="nv">r</span> : R0,
       (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
        {x_plus_y : No &amp;
        (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
        (<span class="kr">forall</span> <span class="nv">r0</span> : R, x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y)})
         (xR r))
(<span class="nv">fxcut</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L0) (<span class="nv">r</span> : R0),
         (<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x &lt; y)
            (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
                  {x_plus_y : No &amp;
                  (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                   (xL_plus l0).<span class="mi">1</span> y0 &lt; x_plus_y) *
                  (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                   x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y0)}) x)
            (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
                  {x_plus_y : No &amp;
                  (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                   (xL_plus l0).<span class="mi">1</span> y0 &lt; x_plus_y) *
                  (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                   x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y0)}) y)
          =&gt; z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>) (xL l) (xR r) (xcut l r)
           (fxL l) (fxR r)) (<span class="nv">L&#39;</span> <span class="nv">R&#39;</span> : <span class="kt">Type</span>)
(<span class="nv">s&#39;</span> : InSort S L&#39; R&#39;) (<span class="nv">yL</span> : L&#39; -&gt; GenNo S)
(<span class="nv">yR</span> : R&#39; -&gt; GenNo S)
(<span class="nv">ycut</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;), yL l &lt; yR r)
(<span class="nv">fyL</span> : <span class="kr">forall</span> <span class="nv">l</span> : L&#39;,
       (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
        {x_plus_y : No &amp;
        (<span class="kr">forall</span> <span class="nv">l0</span> : L, (xL_plus l0).<span class="mi">1</span> y &lt; x_plus_y) *
        (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
         (yL l))
(<span class="nv">fyR</span> : <span class="kr">forall</span> <span class="nv">r</span> : R&#39;,
       (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
        {x_plus_y : No &amp;
        (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
        (<span class="kr">forall</span> <span class="nv">r0</span> : R, x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y)})
         (yR r))
(<span class="nv">fycut</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;),
         (<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x &lt; y)
            (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
                  {x_plus_y : No &amp;
                  (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                   (xL_plus l0).<span class="mi">1</span> y0 &lt; x_plus_y) *
                  (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                   x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y0)}) x)
            (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
                  {x_plus_y : No &amp;
                  (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                   (xL_plus l0).<span class="mi">1</span> y0 &lt; x_plus_y) *
                  (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                   x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y0)}) y)
          =&gt; z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>) (yL l) (yR r) (ycut l r)
           (fyL l) (fyR r))
(<span class="nv">p</span> : <span class="kr">forall</span> <span class="nv">l</span> : L0, xL l &lt; {{ yL | yR // ycut }}),
(<span class="kr">forall</span> <span class="nv">l</span> : L0,
 (<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x &lt; y)
    (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
          {x_plus_y : No &amp;
          (<span class="kr">forall</span> <span class="nv">l0</span> : L, (xL_plus l0).<span class="mi">1</span> y0 &lt; x_plus_y) *
          (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y0)})
           x)
    (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
          {x_plus_y : No &amp;
          (<span class="kr">forall</span> <span class="nv">l0</span> : L, (xL_plus l0).<span class="mi">1</span> y0 &lt; x_plus_y) *
          (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y0)})
           y) =&gt; z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>) (xL l)
   {{ yL | yR // ycut }} (p l) (fxL l)
   ((<span class="kr">fun</span> (<span class="nv">L&#39;0</span> <span class="nv">R&#39;0</span> : <span class="kt">Type</span>) (<span class="nv">s0</span> : InSort S L&#39;0 R&#39;0)
       (<span class="nv">yL0</span> : L&#39;0 -&gt; GenNo S) (<span class="nv">yR0</span> : R&#39;0 -&gt; GenNo S)
       (<span class="nv">ycut0</span> : <span class="kr">forall</span> (<span class="nv">l0</span> : L&#39;0) (<span class="nv">r</span> : R&#39;0),
                yL0 l0 &lt; yR0 r)
       (<span class="nv">x_plus_yL</span> : <span class="kr">forall</span> <span class="nv">l0</span> : L&#39;0,
                    (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
                     {x_plus_y : No &amp;
                     (<span class="kr">forall</span> <span class="nv">l1</span> : L,
                      (xL_plus l1).<span class="mi">1</span> y &lt; x_plus_y) *
                     (<span class="kr">forall</span> <span class="nv">r</span> : R,
                      x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
                      (yL0 l0))
       (<span class="nv">x_plus_yR</span> : <span class="kr">forall</span> <span class="nv">r</span> : R&#39;0,
                    (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
                     {x_plus_y : No &amp;
                     (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                      (xL_plus l0).<span class="mi">1</span> y &lt; x_plus_y) *
                     (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                      x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y)})
                      (yR0 r))
       (<span class="nv">x_plus_yL_lt_yR</span> : <span class="kr">forall</span> (<span class="nv">l0</span> : L&#39;0) (<span class="nv">r</span> : R&#39;0),
                          (<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S)
                             (<span class="nv">_</span> : x &lt; y)
                             (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
                                   {x_plus_y : No &amp;
                                   (<span class="kr">forall</span> <span class="nv">l1</span> : L,
                                    (...).<span class="mi">1</span> y0 &lt;
                                    x_plus_y) *
                                   (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                                    x_plus_y &lt;
                                    (...).<span class="mi">1</span> y0)}) x)
                             (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
                                   {x_plus_y : No &amp;
                                   (<span class="kr">forall</span> <span class="nv">l1</span> : L,
                                    (...).<span class="mi">1</span> y0 &lt;
                                    x_plus_y) *
                                   (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                                    x_plus_y &lt;
                                    (...).<span class="mi">1</span> y0)}) y)
                           =&gt; z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>) (yL0 l0)
                            (yR0 r) (ycut0 l0 r)
                            (x_plus_yL l0)
                            (x_plus_yR r)) =&gt;
     <span class="kr">let</span> <span class="nv">L&#39;&#39;</span> := L + L&#39;0 <span class="kr">in</span>
     <span class="kr">let</span> <span class="nv">R&#39;&#39;</span> := R + R&#39;0 <span class="kr">in</span>
     <span class="kr">let</span> <span class="nv">zL</span> :=
       sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + L&#39;0 =&gt; No)
         (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt;
          (xL_plus l0).<span class="mi">1</span> {{ yL0 | yR0 // ycut0 }})
         (<span class="kr">fun</span> <span class="nv">l0</span> : L&#39;0 =&gt; (x_plus_yL l0).<span class="mi">1</span>)
       :
       L&#39;&#39; -&gt; No <span class="kr">in</span>
     <span class="kr">let</span> <span class="nv">zR</span> :=
       sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + R&#39;0 =&gt; No)
         (<span class="kr">fun</span> <span class="nv">r</span> : R =&gt;
          (xR_plus r).<span class="mi">1</span> {{ yL0 | yR0 // ycut0 }})
         (<span class="kr">fun</span> <span class="nv">r</span> : R&#39;0 =&gt; (x_plus_yR r).<span class="mi">1</span>)
       :
       R&#39;&#39; -&gt; No <span class="kr">in</span>
     <span class="kr">let</span> <span class="nv">zcut</span> :=
       plus_inner_subproof L&#39;0 R&#39;0 s0 yL0 yR0 ycut0
         x_plus_yL x_plus_yR x_plus_yL_lt_yR <span class="kr">in</span>
     <span class="kr">let</span> <span class="nv">X</span> := sum_options L R L&#39;0 R&#39;0 Sx s0 <span class="kr">in</span>
     ({{ zL | zR // zcut }};
     (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt; lt_lopt zL zR zcut (inl l0),
     <span class="kr">fun</span> <span class="nv">r</span> : R =&gt; lt_ropt zL zR zcut (inl r)))) L&#39; R&#39;
      s&#39; yL yR ycut fyL fyR fycut)) -&gt;
<span class="kr">forall</span>
<span class="nv">q</span> : <span class="kr">forall</span> <span class="nv">r</span> : R&#39;, {{ xL | xR // xcut }} &lt; yR r,
(<span class="kr">forall</span> <span class="nv">r</span> : R&#39;,
 (<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x &lt; y)
    (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
          {x_plus_y : No &amp;
          (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y0 &lt; x_plus_y) *
          (<span class="kr">forall</span> <span class="nv">r0</span> : R, x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y0)})
           x)
    (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
          {x_plus_y : No &amp;
          (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y0 &lt; x_plus_y) *
          (<span class="kr">forall</span> <span class="nv">r0</span> : R, x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y0)})
           y) =&gt; z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>) {{ xL | xR // xcut }}
   (yR r) (q r)
   ((<span class="kr">fun</span> (<span class="nv">L&#39;0</span> <span class="nv">R&#39;0</span> : <span class="kt">Type</span>) (<span class="nv">s0</span> : InSort S L&#39;0 R&#39;0)
       (<span class="nv">yL0</span> : L&#39;0 -&gt; GenNo S) (<span class="nv">yR0</span> : R&#39;0 -&gt; GenNo S)
       (<span class="nv">ycut0</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L&#39;0) (<span class="nv">r0</span> : R&#39;0),
                yL0 l &lt; yR0 r0)
       (<span class="nv">x_plus_yL</span> : <span class="kr">forall</span> <span class="nv">l</span> : L&#39;0,
                    (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
                     {x_plus_y : No &amp;
                     (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                      (xL_plus l0).<span class="mi">1</span> y &lt; x_plus_y) *
                     (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                      x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y)})
                      (yL0 l))
       (<span class="nv">x_plus_yR</span> : <span class="kr">forall</span> <span class="nv">r0</span> : R&#39;0,
                    (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
                     {x_plus_y : No &amp;
                     (<span class="kr">forall</span> <span class="nv">l</span> : L,
                      (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
                     (<span class="kr">forall</span> <span class="nv">r1</span> : R,
                      x_plus_y &lt; (xR_plus r1).<span class="mi">1</span> y)})
                      (yR0 r0))
       (<span class="nv">x_plus_yL_lt_yR</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L&#39;0) (<span class="nv">r0</span> : R&#39;0),
                          (<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S)
                             (<span class="nv">_</span> : x &lt; y)
                             (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
                                   {x_plus_y : No &amp;
                                   (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                                    ... &lt; x_plus_y) *
                                   (<span class="kr">forall</span> <span class="nv">r1</span> : R,
                                    x_plus_y &lt; ...)})
                                    x)
                             (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
                                   {x_plus_y : No &amp;
                                   (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                                    ... &lt; x_plus_y) *
                                   (<span class="kr">forall</span> <span class="nv">r1</span> : R,
                                    x_plus_y &lt; ...)})
                                    y) =&gt; z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>)
                            (yL0 l) (yR0 r0)
                            (ycut0 l r0) (x_plus_yL l)
                            (x_plus_yR r0)) =&gt;
     <span class="kr">let</span> <span class="nv">L&#39;&#39;</span> := L + L&#39;0 <span class="kr">in</span>
     <span class="kr">let</span> <span class="nv">R&#39;&#39;</span> := R + R&#39;0 <span class="kr">in</span>
     <span class="kr">let</span> <span class="nv">zL</span> :=
       sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + L&#39;0 =&gt; No)
         (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt;
          (xL_plus l).<span class="mi">1</span> {{ yL0 | yR0 // ycut0 }})
         (<span class="kr">fun</span> <span class="nv">l</span> : L&#39;0 =&gt; (x_plus_yL l).<span class="mi">1</span>)
       :
       L&#39;&#39; -&gt; No <span class="kr">in</span>
     <span class="kr">let</span> <span class="nv">zR</span> :=
       sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + R&#39;0 =&gt; No)
         (<span class="kr">fun</span> <span class="nv">r0</span> : R =&gt;
          (xR_plus r0).<span class="mi">1</span> {{ yL0 | yR0 // ycut0 }})
         (<span class="kr">fun</span> <span class="nv">r0</span> : R&#39;0 =&gt; (x_plus_yR r0).<span class="mi">1</span>)
       :
       R&#39;&#39; -&gt; No <span class="kr">in</span>
     <span class="kr">let</span> <span class="nv">zcut</span> :=
       plus_inner_subproof L&#39;0 R&#39;0 s0 yL0 yR0 ycut0
         x_plus_yL x_plus_yR x_plus_yL_lt_yR <span class="kr">in</span>
     <span class="kr">let</span> <span class="nv">X</span> := sum_options L R L&#39;0 R&#39;0 Sx s0 <span class="kr">in</span>
     ({{ zL | zR // zcut }};
     (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt; lt_lopt zL zR zcut (inl l),
     <span class="kr">fun</span> <span class="nv">r0</span> : R =&gt; lt_ropt zL zR zcut (inl r0)))) L0
      R0 s xL xR xcut fxL fxR fxcut) (fyR r)) -&gt;
(<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x &lt;= y)
   (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y0 &lt; x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y0)})
          x)
   (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y0 &lt; x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y0)})
          y) =&gt; z.<span class="mi">1</span> &lt;= w.<span class="mi">1</span>) {{ xL | xR // xcut }}
  {{ yL | yR // ycut }}
  (le_lr xL xR xcut yL yR ycut p q)
  ((<span class="kr">fun</span> (<span class="nv">L&#39;0</span> <span class="nv">R&#39;0</span> : <span class="kt">Type</span>) (<span class="nv">s0</span> : InSort S L&#39;0 R&#39;0)
      (<span class="nv">yL0</span> : L&#39;0 -&gt; GenNo S) (<span class="nv">yR0</span> : R&#39;0 -&gt; GenNo S)
      (<span class="nv">ycut0</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L&#39;0) (<span class="nv">r</span> : R&#39;0),
               yL0 l &lt; yR0 r)
      (<span class="nv">x_plus_yL</span> : <span class="kr">forall</span> <span class="nv">l</span> : L&#39;0,
                   (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
                    {x_plus_y : No &amp;
                    (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                     (xL_plus l0).<span class="mi">1</span> y &lt; x_plus_y) *
                    (<span class="kr">forall</span> <span class="nv">r</span> : R,
                     x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
                     (yL0 l))
      (<span class="nv">x_plus_yR</span> : <span class="kr">forall</span> <span class="nv">r</span> : R&#39;0,
                   (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
                    {x_plus_y : No &amp;
                    (<span class="kr">forall</span> <span class="nv">l</span> : L,
                     (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
                    (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                     x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y)})
                     (yR0 r))
      (<span class="nv">x_plus_yL_lt_yR</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L&#39;0) (<span class="nv">r</span> : R&#39;0),
                         (<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S)
                            (<span class="nv">_</span> : x &lt; y)
                            (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
                                  {x_plus_y : No &amp;
                                  (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                                   (...).<span class="mi">1</span> y0 &lt;
                                   x_plus_y) *
                                  (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                                   x_plus_y &lt;
                                   (...).<span class="mi">1</span> y0)}) x)
                            (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
                                  {x_plus_y : No &amp;
                                  (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                                   (...).<span class="mi">1</span> y0 &lt;
                                   x_plus_y) *
                                  (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                                   x_plus_y &lt;
                                   (...).<span class="mi">1</span> y0)}) y) =&gt;
                          z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>) (yL0 l) (yR0 r)
                           (ycut0 l r) (x_plus_yL l)
                           (x_plus_yR r)) =&gt;
    <span class="kr">let</span> <span class="nv">L&#39;&#39;</span> := L + L&#39;0 <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">R&#39;&#39;</span> := R + R&#39;0 <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">zL</span> :=
      sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + L&#39;0 =&gt; No)
        (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt;
         (xL_plus l).<span class="mi">1</span> {{ yL0 | yR0 // ycut0 }})
        (<span class="kr">fun</span> <span class="nv">l</span> : L&#39;0 =&gt; (x_plus_yL l).<span class="mi">1</span>)
      :
      L&#39;&#39; -&gt; No <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">zR</span> :=
      sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + R&#39;0 =&gt; No)
        (<span class="kr">fun</span> <span class="nv">r</span> : R =&gt;
         (xR_plus r).<span class="mi">1</span> {{ yL0 | yR0 // ycut0 }})
        (<span class="kr">fun</span> <span class="nv">r</span> : R&#39;0 =&gt; (x_plus_yR r).<span class="mi">1</span>)
      :
      R&#39;&#39; -&gt; No <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">zcut</span> :=
      plus_inner_subproof L&#39;0 R&#39;0 s0 yL0 yR0 ycut0
        x_plus_yL x_plus_yR x_plus_yL_lt_yR <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">X</span> := sum_options L R L&#39;0 R&#39;0 Sx s0 <span class="kr">in</span>
    ({{ zL | zR // zcut }};
    (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt; lt_lopt zL zR zcut (inl l),
    <span class="kr">fun</span> <span class="nv">r</span> : R =&gt; lt_ropt zL zR zcut (inl r)))) L0 R0 s
     xL xR xcut fxL fxR fxcut)
  ((<span class="kr">fun</span> (<span class="nv">L&#39;0</span> <span class="nv">R&#39;0</span> : <span class="kt">Type</span>) (<span class="nv">s0</span> : InSort S L&#39;0 R&#39;0)
      (<span class="nv">yL0</span> : L&#39;0 -&gt; GenNo S) (<span class="nv">yR0</span> : R&#39;0 -&gt; GenNo S)
      (<span class="nv">ycut0</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L&#39;0) (<span class="nv">r</span> : R&#39;0),
               yL0 l &lt; yR0 r)
      (<span class="nv">x_plus_yL</span> : <span class="kr">forall</span> <span class="nv">l</span> : L&#39;0,
                   (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
                    {x_plus_y : No &amp;
                    (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                     (xL_plus l0).<span class="mi">1</span> y &lt; x_plus_y) *
                    (<span class="kr">forall</span> <span class="nv">r</span> : R,
                     x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
                     (yL0 l))
      (<span class="nv">x_plus_yR</span> : <span class="kr">forall</span> <span class="nv">r</span> : R&#39;0,
                   (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
                    {x_plus_y : No &amp;
                    (<span class="kr">forall</span> <span class="nv">l</span> : L,
                     (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
                    (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                     x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y)})
                     (yR0 r))
      (<span class="nv">x_plus_yL_lt_yR</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L&#39;0) (<span class="nv">r</span> : R&#39;0),
                         (<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S)
                            (<span class="nv">_</span> : x &lt; y)
                            (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
                                  {x_plus_y : No &amp;
                                  (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                                   (...).<span class="mi">1</span> y0 &lt;
                                   x_plus_y) *
                                  (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                                   x_plus_y &lt;
                                   (...).<span class="mi">1</span> y0)}) x)
                            (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
                                  {x_plus_y : No &amp;
                                  (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                                   (...).<span class="mi">1</span> y0 &lt;
                                   x_plus_y) *
                                  (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                                   x_plus_y &lt;
                                   (...).<span class="mi">1</span> y0)}) y) =&gt;
                          z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>) (yL0 l) (yR0 r)
                           (ycut0 l r) (x_plus_yL l)
                           (x_plus_yR r)) =&gt;
    <span class="kr">let</span> <span class="nv">L&#39;&#39;</span> := L + L&#39;0 <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">R&#39;&#39;</span> := R + R&#39;0 <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">zL</span> :=
      sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + L&#39;0 =&gt; No)
        (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt;
         (xL_plus l).<span class="mi">1</span> {{ yL0 | yR0 // ycut0 }})
        (<span class="kr">fun</span> <span class="nv">l</span> : L&#39;0 =&gt; (x_plus_yL l).<span class="mi">1</span>)
      :
      L&#39;&#39; -&gt; No <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">zR</span> :=
      sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + R&#39;0 =&gt; No)
        (<span class="kr">fun</span> <span class="nv">r</span> : R =&gt;
         (xR_plus r).<span class="mi">1</span> {{ yL0 | yR0 // ycut0 }})
        (<span class="kr">fun</span> <span class="nv">r</span> : R&#39;0 =&gt; (x_plus_yR r).<span class="mi">1</span>)
      :
      R&#39;&#39; -&gt; No <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">zcut</span> :=
      plus_inner_subproof L&#39;0 R&#39;0 s0 yL0 yR0 ycut0
        x_plus_yL x_plus_yR x_plus_yL_lt_yR <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">X</span> := sum_options L R L&#39;0 R&#39;0 Sx s0 <span class="kr">in</span>
    ({{ zL | zR // zcut }};
    (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt; lt_lopt zL zR zcut (inl l),
    <span class="kr">fun</span> <span class="nv">r</span> : R =&gt; lt_ropt zL zR zcut (inl r)))) L&#39; R&#39;
     s&#39; yL yR ycut fyL fyR fycut)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kp">abstract</span> (
        <span class="nb">intros</span> L&#39; R&#39; ? yL yR ycut x_plus_yL x_plus_yR x_plus_yL_lt_yR
               L&#39;&#39; R&#39;&#39; ? zL zR zcut x_plus_zL x_plus_zR x_plus_zL_lt_zR
               yL_lt_z x_plus_yL_lt_z y_lt_zR x_plus_y_lt_zR;
        <span class="nb">cbn</span> <span class="kr">in</span> *;
        <span class="nb">apply</span> le_lr; [ <span class="nb">intros</span> [l|l] | <span class="nb">intros</span> [r|r] ]; <span class="nb">cbn</span>;
        [ <span class="nb">refine</span> (le_lt_trans (fst (xL_plus l).<span class="mi">2</span> _ {{ zL | zR // zcut}} _) _);
          [ <span class="bp">by</span> (<span class="nb">apply</span> le_lr; <span class="bp">assumption</span>)
          | <span class="nb">refine</span> (lt_lopt _ _ _ (inl l)) ]
        | <span class="bp">exact</span> (x_plus_yL_lt_z l)
        | <span class="nb">refine</span> (lt_le_trans _
                    (fst (xR_plus r).<span class="mi">2</span> {{ yL | yR // ycut}} _ _));
          [ <span class="nb">refine</span> (lt_ropt _ _ _ (inl r))
          | <span class="bp">by</span> (<span class="nb">apply</span> le_lr; <span class="bp">assumption</span>) ]
        | <span class="bp">exact</span> (x_plus_y_lt_zR r) ] ).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk20"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L, R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Sx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">{g : No -&gt; No &amp;
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt;= y -&gt; g x &lt;= g y) *
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt; y -&gt; g x &lt; g y)}</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_lt_xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R) (<span class="nv">x</span> : No),
(xL_plus l).<span class="mi">1</span> x &lt; (xR_plus r).<span class="mi">1</span> x</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">L0</span> <span class="nv">R0</span> : <span class="kt">Type</span>) (<span class="nv">s</span> : InSort S L0 R0)
(<span class="nv">xL</span> : L0 -&gt; GenNo S) (<span class="nv">xR</span> : R0 -&gt; GenNo S)
(<span class="nv">xcut</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L0) (<span class="nv">r</span> : R0), xL l &lt; xR r)
(<span class="nv">fxL</span> : <span class="kr">forall</span> <span class="nv">l</span> : L0,
       (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
        {x_plus_y : No &amp;
        (<span class="kr">forall</span> <span class="nv">l0</span> : L, (xL_plus l0).<span class="mi">1</span> y &lt; x_plus_y) *
        (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
         (xL l))
(<span class="nv">fxR</span> : <span class="kr">forall</span> <span class="nv">r</span> : R0,
       (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
        {x_plus_y : No &amp;
        (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
        (<span class="kr">forall</span> <span class="nv">r0</span> : R, x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y)})
         (xR r))
(<span class="nv">fxcut</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L0) (<span class="nv">r</span> : R0),
         (<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x &lt; y)
            (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
                  {x_plus_y : No &amp;
                  (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                   (xL_plus l0).<span class="mi">1</span> y0 &lt; x_plus_y) *
                  (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                   x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y0)}) x)
            (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
                  {x_plus_y : No &amp;
                  (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                   (xL_plus l0).<span class="mi">1</span> y0 &lt; x_plus_y) *
                  (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                   x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y0)}) y)
          =&gt; z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>) (xL l) (xR r) (xcut l r)
           (fxL l) (fxR r)) (<span class="nv">L&#39;</span> <span class="nv">R&#39;</span> : <span class="kt">Type</span>)
(<span class="nv">s&#39;</span> : InSort S L&#39; R&#39;) (<span class="nv">yL</span> : L&#39; -&gt; GenNo S)
(<span class="nv">yR</span> : R&#39; -&gt; GenNo S)
(<span class="nv">ycut</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;), yL l &lt; yR r)
(<span class="nv">fyL</span> : <span class="kr">forall</span> <span class="nv">l</span> : L&#39;,
       (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
        {x_plus_y : No &amp;
        (<span class="kr">forall</span> <span class="nv">l0</span> : L, (xL_plus l0).<span class="mi">1</span> y &lt; x_plus_y) *
        (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
         (yL l))
(<span class="nv">fyR</span> : <span class="kr">forall</span> <span class="nv">r</span> : R&#39;,
       (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
        {x_plus_y : No &amp;
        (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
        (<span class="kr">forall</span> <span class="nv">r0</span> : R, x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y)})
         (yR r))
(<span class="nv">fycut</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;),
         (<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x &lt; y)
            (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
                  {x_plus_y : No &amp;
                  (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                   (xL_plus l0).<span class="mi">1</span> y0 &lt; x_plus_y) *
                  (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                   x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y0)}) x)
            (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
                  {x_plus_y : No &amp;
                  (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                   (xL_plus l0).<span class="mi">1</span> y0 &lt; x_plus_y) *
                  (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                   x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y0)}) y)
          =&gt; z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>) (yL l) (yR r) (ycut l r)
           (fyL l) (fyR r)) (<span class="nv">l</span> : L&#39;)
(<span class="nv">p</span> : {{ xL | xR // xcut }} &lt;= yL l),
(<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x &lt;= y)
   (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l0</span> : L, (xL_plus l0).<span class="mi">1</span> y0 &lt; x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y0)})
          x)
   (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l0</span> : L, (xL_plus l0).<span class="mi">1</span> y0 &lt; x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y0)})
          y) =&gt; z.<span class="mi">1</span> &lt;= w.<span class="mi">1</span>) {{ xL | xR // xcut }}
  (yL l) p
  ((<span class="kr">fun</span> (<span class="nv">L&#39;0</span> <span class="nv">R&#39;0</span> : <span class="kt">Type</span>) (<span class="nv">s0</span> : InSort S L&#39;0 R&#39;0)
      (<span class="nv">yL0</span> : L&#39;0 -&gt; GenNo S) (<span class="nv">yR0</span> : R&#39;0 -&gt; GenNo S)
      (<span class="nv">ycut0</span> : <span class="kr">forall</span> (<span class="nv">l0</span> : L&#39;0) (<span class="nv">r</span> : R&#39;0),
               yL0 l0 &lt; yR0 r)
      (<span class="nv">x_plus_yL</span> : <span class="kr">forall</span> <span class="nv">l0</span> : L&#39;0,
                   (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
                    {x_plus_y : No &amp;
                    (<span class="kr">forall</span> <span class="nv">l1</span> : L,
                     (xL_plus l1).<span class="mi">1</span> y &lt; x_plus_y) *
                    (<span class="kr">forall</span> <span class="nv">r</span> : R,
                     x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
                     (yL0 l0))
      (<span class="nv">x_plus_yR</span> : <span class="kr">forall</span> <span class="nv">r</span> : R&#39;0,
                   (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
                    {x_plus_y : No &amp;
                    (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                     (xL_plus l0).<span class="mi">1</span> y &lt; x_plus_y) *
                    (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                     x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y)})
                     (yR0 r))
      (<span class="nv">x_plus_yL_lt_yR</span> : <span class="kr">forall</span> (<span class="nv">l0</span> : L&#39;0) (<span class="nv">r</span> : R&#39;0),
                         (<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S)
                            (<span class="nv">_</span> : x &lt; y)
                            (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
                                  {x_plus_y : No &amp;
                                  (<span class="kr">forall</span> <span class="nv">l1</span> : L,
                                   (xL_plus l1).<span class="mi">1</span> y0 &lt;
                                   x_plus_y) *
                                  (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                                   x_plus_y &lt;
                                   (xR_plus r0).<span class="mi">1</span> y0)})
                                   x)
                            (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
                                  {x_plus_y : No &amp;
                                  (<span class="kr">forall</span> <span class="nv">l1</span> : L,
                                   (xL_plus l1).<span class="mi">1</span> y0 &lt;
                                   x_plus_y) *
                                  (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                                   x_plus_y &lt;
                                   (xR_plus r0).<span class="mi">1</span> y0)})
                                   y) =&gt; z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>)
                           (yL0 l0) (yR0 r)
                           (ycut0 l0 r) (x_plus_yL l0)
                           (x_plus_yR r)) =&gt;
    <span class="kr">let</span> <span class="nv">L&#39;&#39;</span> := L + L&#39;0 <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">R&#39;&#39;</span> := R + R&#39;0 <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">zL</span> :=
      sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + L&#39;0 =&gt; No)
        (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt;
         (xL_plus l0).<span class="mi">1</span> {{ yL0 | yR0 // ycut0 }})
        (<span class="kr">fun</span> <span class="nv">l0</span> : L&#39;0 =&gt; (x_plus_yL l0).<span class="mi">1</span>)
      :
      L&#39;&#39; -&gt; No <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">zR</span> :=
      sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + R&#39;0 =&gt; No)
        (<span class="kr">fun</span> <span class="nv">r</span> : R =&gt;
         (xR_plus r).<span class="mi">1</span> {{ yL0 | yR0 // ycut0 }})
        (<span class="kr">fun</span> <span class="nv">r</span> : R&#39;0 =&gt; (x_plus_yR r).<span class="mi">1</span>)
      :
      R&#39;&#39; -&gt; No <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">zcut</span> :=
      plus_inner_subproof L&#39;0 R&#39;0 s0 yL0 yR0 ycut0
        x_plus_yL x_plus_yR x_plus_yL_lt_yR <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">X</span> := sum_options L R L&#39;0 R&#39;0 Sx s0 <span class="kr">in</span>
    ({{ zL | zR // zcut }};
    (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt; lt_lopt zL zR zcut (inl l0),
    <span class="kr">fun</span> <span class="nv">r</span> : R =&gt; lt_ropt zL zR zcut (inl r)))) L0 R0 s
     xL xR xcut fxL fxR fxcut) (fyL l) -&gt;
(<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x &lt; y)
   (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l0</span> : L, (xL_plus l0).<span class="mi">1</span> y0 &lt; x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y0)})
          x)
   (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l0</span> : L, (xL_plus l0).<span class="mi">1</span> y0 &lt; x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y0)})
          y) =&gt; z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>) {{ xL | xR // xcut }}
  {{ yL | yR // ycut }}
  (lt_l xL xR xcut yL yR ycut l p)
  ((<span class="kr">fun</span> (<span class="nv">L&#39;0</span> <span class="nv">R&#39;0</span> : <span class="kt">Type</span>) (<span class="nv">s0</span> : InSort S L&#39;0 R&#39;0)
      (<span class="nv">yL0</span> : L&#39;0 -&gt; GenNo S) (<span class="nv">yR0</span> : R&#39;0 -&gt; GenNo S)
      (<span class="nv">ycut0</span> : <span class="kr">forall</span> (<span class="nv">l0</span> : L&#39;0) (<span class="nv">r</span> : R&#39;0),
               yL0 l0 &lt; yR0 r)
      (<span class="nv">x_plus_yL</span> : <span class="kr">forall</span> <span class="nv">l0</span> : L&#39;0,
                   (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
                    {x_plus_y : No &amp;
                    (<span class="kr">forall</span> <span class="nv">l1</span> : L,
                     (xL_plus l1).<span class="mi">1</span> y &lt; x_plus_y) *
                    (<span class="kr">forall</span> <span class="nv">r</span> : R,
                     x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
                     (yL0 l0))
      (<span class="nv">x_plus_yR</span> : <span class="kr">forall</span> <span class="nv">r</span> : R&#39;0,
                   (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
                    {x_plus_y : No &amp;
                    (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                     (xL_plus l0).<span class="mi">1</span> y &lt; x_plus_y) *
                    (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                     x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y)})
                     (yR0 r))
      (<span class="nv">x_plus_yL_lt_yR</span> : <span class="kr">forall</span> (<span class="nv">l0</span> : L&#39;0) (<span class="nv">r</span> : R&#39;0),
                         (<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S)
                            (<span class="nv">_</span> : x &lt; y)
                            (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
                                  {x_plus_y : No &amp;
                                  (<span class="kr">forall</span> <span class="nv">l1</span> : L,
                                   (xL_plus l1).<span class="mi">1</span> y0 &lt;
                                   x_plus_y) *
                                  (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                                   x_plus_y &lt;
                                   (xR_plus r0).<span class="mi">1</span> y0)})
                                   x)
                            (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
                                  {x_plus_y : No &amp;
                                  (<span class="kr">forall</span> <span class="nv">l1</span> : L,
                                   (xL_plus l1).<span class="mi">1</span> y0 &lt;
                                   x_plus_y) *
                                  (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                                   x_plus_y &lt;
                                   (xR_plus r0).<span class="mi">1</span> y0)})
                                   y) =&gt; z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>)
                           (yL0 l0) (yR0 r)
                           (ycut0 l0 r) (x_plus_yL l0)
                           (x_plus_yR r)) =&gt;
    <span class="kr">let</span> <span class="nv">L&#39;&#39;</span> := L + L&#39;0 <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">R&#39;&#39;</span> := R + R&#39;0 <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">zL</span> :=
      sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + L&#39;0 =&gt; No)
        (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt;
         (xL_plus l0).<span class="mi">1</span> {{ yL0 | yR0 // ycut0 }})
        (<span class="kr">fun</span> <span class="nv">l0</span> : L&#39;0 =&gt; (x_plus_yL l0).<span class="mi">1</span>)
      :
      L&#39;&#39; -&gt; No <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">zR</span> :=
      sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + R&#39;0 =&gt; No)
        (<span class="kr">fun</span> <span class="nv">r</span> : R =&gt;
         (xR_plus r).<span class="mi">1</span> {{ yL0 | yR0 // ycut0 }})
        (<span class="kr">fun</span> <span class="nv">r</span> : R&#39;0 =&gt; (x_plus_yR r).<span class="mi">1</span>)
      :
      R&#39;&#39; -&gt; No <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">zcut</span> :=
      plus_inner_subproof L&#39;0 R&#39;0 s0 yL0 yR0 ycut0
        x_plus_yL x_plus_yR x_plus_yL_lt_yR <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">X</span> := sum_options L R L&#39;0 R&#39;0 Sx s0 <span class="kr">in</span>
    ({{ zL | zR // zcut }};
    (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt; lt_lopt zL zR zcut (inl l0),
    <span class="kr">fun</span> <span class="nv">r</span> : R =&gt; lt_ropt zL zR zcut (inl r)))) L0 R0 s
     xL xR xcut fxL fxR fxcut)
  ((<span class="kr">fun</span> (<span class="nv">L&#39;0</span> <span class="nv">R&#39;0</span> : <span class="kt">Type</span>) (<span class="nv">s0</span> : InSort S L&#39;0 R&#39;0)
      (<span class="nv">yL0</span> : L&#39;0 -&gt; GenNo S) (<span class="nv">yR0</span> : R&#39;0 -&gt; GenNo S)
      (<span class="nv">ycut0</span> : <span class="kr">forall</span> (<span class="nv">l0</span> : L&#39;0) (<span class="nv">r</span> : R&#39;0),
               yL0 l0 &lt; yR0 r)
      (<span class="nv">x_plus_yL</span> : <span class="kr">forall</span> <span class="nv">l0</span> : L&#39;0,
                   (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
                    {x_plus_y : No &amp;
                    (<span class="kr">forall</span> <span class="nv">l1</span> : L,
                     (xL_plus l1).<span class="mi">1</span> y &lt; x_plus_y) *
                    (<span class="kr">forall</span> <span class="nv">r</span> : R,
                     x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
                     (yL0 l0))
      (<span class="nv">x_plus_yR</span> : <span class="kr">forall</span> <span class="nv">r</span> : R&#39;0,
                   (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
                    {x_plus_y : No &amp;
                    (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                     (xL_plus l0).<span class="mi">1</span> y &lt; x_plus_y) *
                    (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                     x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y)})
                     (yR0 r))
      (<span class="nv">x_plus_yL_lt_yR</span> : <span class="kr">forall</span> (<span class="nv">l0</span> : L&#39;0) (<span class="nv">r</span> : R&#39;0),
                         (<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S)
                            (<span class="nv">_</span> : x &lt; y)
                            (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
                                  {x_plus_y : No &amp;
                                  (<span class="kr">forall</span> <span class="nv">l1</span> : L,
                                   (xL_plus l1).<span class="mi">1</span> y0 &lt;
                                   x_plus_y) *
                                  (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                                   x_plus_y &lt;
                                   (xR_plus r0).<span class="mi">1</span> y0)})
                                   x)
                            (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
                                  {x_plus_y : No &amp;
                                  (<span class="kr">forall</span> <span class="nv">l1</span> : L,
                                   (xL_plus l1).<span class="mi">1</span> y0 &lt;
                                   x_plus_y) *
                                  (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                                   x_plus_y &lt;
                                   (xR_plus r0).<span class="mi">1</span> y0)})
                                   y) =&gt; z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>)
                           (yL0 l0) (yR0 r)
                           (ycut0 l0 r) (x_plus_yL l0)
                           (x_plus_yR r)) =&gt;
    <span class="kr">let</span> <span class="nv">L&#39;&#39;</span> := L + L&#39;0 <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">R&#39;&#39;</span> := R + R&#39;0 <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">zL</span> :=
      sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + L&#39;0 =&gt; No)
        (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt;
         (xL_plus l0).<span class="mi">1</span> {{ yL0 | yR0 // ycut0 }})
        (<span class="kr">fun</span> <span class="nv">l0</span> : L&#39;0 =&gt; (x_plus_yL l0).<span class="mi">1</span>)
      :
      L&#39;&#39; -&gt; No <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">zR</span> :=
      sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + R&#39;0 =&gt; No)
        (<span class="kr">fun</span> <span class="nv">r</span> : R =&gt;
         (xR_plus r).<span class="mi">1</span> {{ yL0 | yR0 // ycut0 }})
        (<span class="kr">fun</span> <span class="nv">r</span> : R&#39;0 =&gt; (x_plus_yR r).<span class="mi">1</span>)
      :
      R&#39;&#39; -&gt; No <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">zcut</span> :=
      plus_inner_subproof L&#39;0 R&#39;0 s0 yL0 yR0 ycut0
        x_plus_yL x_plus_yR x_plus_yL_lt_yR <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">X</span> := sum_options L R L&#39;0 R&#39;0 Sx s0 <span class="kr">in</span>
    ({{ zL | zR // zcut }};
    (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt; lt_lopt zL zR zcut (inl l0),
    <span class="kr">fun</span> <span class="nv">r</span> : R =&gt; lt_ropt zL zR zcut (inl r)))) L&#39; R&#39;
     s&#39; yL yR ycut fyL fyR fycut)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kp">abstract</span> (
        <span class="nb">intros</span> L&#39; R&#39; ? yL yR ycut x_plus_yL x_plus_yR x_plus_yL_lt_yR
               L&#39;&#39; R&#39;&#39; ? zL zR zcut x_plus_zL x_plus_zR x_plus_zL_lt_zR
               l y_le_zL x_plus_y_le_zL; <span class="nb">cbn</span>;
        <span class="nb">apply</span> lt_l <span class="kr">with</span> (inr l);
        <span class="nb">apply</span> x_plus_y_le_zL ).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk21"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L, R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Sx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">{g : No -&gt; No &amp;
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt;= y -&gt; g x &lt;= g y) *
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt; y -&gt; g x &lt; g y)}</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_lt_xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R) (<span class="nv">x</span> : No),
(xL_plus l).<span class="mi">1</span> x &lt; (xR_plus r).<span class="mi">1</span> x</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">L0</span> <span class="nv">R0</span> : <span class="kt">Type</span>) (<span class="nv">s</span> : InSort S L0 R0)
(<span class="nv">xL</span> : L0 -&gt; GenNo S) (<span class="nv">xR</span> : R0 -&gt; GenNo S)
(<span class="nv">xcut</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L0) (<span class="nv">r</span> : R0), xL l &lt; xR r)
(<span class="nv">fxL</span> : <span class="kr">forall</span> <span class="nv">l</span> : L0,
       (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
        {x_plus_y : No &amp;
        (<span class="kr">forall</span> <span class="nv">l0</span> : L, (xL_plus l0).<span class="mi">1</span> y &lt; x_plus_y) *
        (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
         (xL l))
(<span class="nv">fxR</span> : <span class="kr">forall</span> <span class="nv">r</span> : R0,
       (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
        {x_plus_y : No &amp;
        (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
        (<span class="kr">forall</span> <span class="nv">r0</span> : R, x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y)})
         (xR r))
(<span class="nv">fxcut</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L0) (<span class="nv">r</span> : R0),
         (<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x &lt; y)
            (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
                  {x_plus_y : No &amp;
                  (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                   (xL_plus l0).<span class="mi">1</span> y0 &lt; x_plus_y) *
                  (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                   x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y0)}) x)
            (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
                  {x_plus_y : No &amp;
                  (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                   (xL_plus l0).<span class="mi">1</span> y0 &lt; x_plus_y) *
                  (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                   x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y0)}) y)
          =&gt; z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>) (xL l) (xR r) (xcut l r)
           (fxL l) (fxR r)) (<span class="nv">L&#39;</span> <span class="nv">R&#39;</span> : <span class="kt">Type</span>)
(<span class="nv">s&#39;</span> : InSort S L&#39; R&#39;) (<span class="nv">yL</span> : L&#39; -&gt; GenNo S)
(<span class="nv">yR</span> : R&#39; -&gt; GenNo S)
(<span class="nv">ycut</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;), yL l &lt; yR r)
(<span class="nv">fyL</span> : <span class="kr">forall</span> <span class="nv">l</span> : L&#39;,
       (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
        {x_plus_y : No &amp;
        (<span class="kr">forall</span> <span class="nv">l0</span> : L, (xL_plus l0).<span class="mi">1</span> y &lt; x_plus_y) *
        (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
         (yL l))
(<span class="nv">fyR</span> : <span class="kr">forall</span> <span class="nv">r</span> : R&#39;,
       (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
        {x_plus_y : No &amp;
        (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
        (<span class="kr">forall</span> <span class="nv">r0</span> : R, x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y)})
         (yR r))
(<span class="nv">fycut</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;),
         (<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x &lt; y)
            (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
                  {x_plus_y : No &amp;
                  (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                   (xL_plus l0).<span class="mi">1</span> y0 &lt; x_plus_y) *
                  (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                   x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y0)}) x)
            (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
                  {x_plus_y : No &amp;
                  (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                   (xL_plus l0).<span class="mi">1</span> y0 &lt; x_plus_y) *
                  (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                   x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y0)}) y)
          =&gt; z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>) (yL l) (yR r) (ycut l r)
           (fyL l) (fyR r)) (<span class="nv">r</span> : R0)
(<span class="nv">p</span> : xR r &lt;= {{ yL | yR // ycut }}),
(<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x &lt;= y)
   (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y0 &lt; x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r0</span> : R, x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y0)})
          x)
   (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y0 &lt; x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r0</span> : R, x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y0)})
          y) =&gt; z.<span class="mi">1</span> &lt;= w.<span class="mi">1</span>) (xR r)
  {{ yL | yR // ycut }} p (fxR r)
  ((<span class="kr">fun</span> (<span class="nv">L&#39;0</span> <span class="nv">R&#39;0</span> : <span class="kt">Type</span>) (<span class="nv">s0</span> : InSort S L&#39;0 R&#39;0)
      (<span class="nv">yL0</span> : L&#39;0 -&gt; GenNo S) (<span class="nv">yR0</span> : R&#39;0 -&gt; GenNo S)
      (<span class="nv">ycut0</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L&#39;0) (<span class="nv">r0</span> : R&#39;0),
               yL0 l &lt; yR0 r0)
      (<span class="nv">x_plus_yL</span> : <span class="kr">forall</span> <span class="nv">l</span> : L&#39;0,
                   (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
                    {x_plus_y : No &amp;
                    (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                     (xL_plus l0).<span class="mi">1</span> y &lt; x_plus_y) *
                    (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                     x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y)})
                     (yL0 l))
      (<span class="nv">x_plus_yR</span> : <span class="kr">forall</span> <span class="nv">r0</span> : R&#39;0,
                   (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
                    {x_plus_y : No &amp;
                    (<span class="kr">forall</span> <span class="nv">l</span> : L,
                     (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
                    (<span class="kr">forall</span> <span class="nv">r1</span> : R,
                     x_plus_y &lt; (xR_plus r1).<span class="mi">1</span> y)})
                     (yR0 r0))
      (<span class="nv">x_plus_yL_lt_yR</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L&#39;0) (<span class="nv">r0</span> : R&#39;0),
                         (<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S)
                            (<span class="nv">_</span> : x &lt; y)
                            (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
                                  {x_plus_y : No &amp;
                                  (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                                   (xL_plus l0).<span class="mi">1</span> y0 &lt;
                                   x_plus_y) *
                                  (<span class="kr">forall</span> <span class="nv">r1</span> : R,
                                   x_plus_y &lt;
                                   (xR_plus r1).<span class="mi">1</span> y0)})
                                   x)
                            (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
                                  {x_plus_y : No &amp;
                                  (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                                   (xL_plus l0).<span class="mi">1</span> y0 &lt;
                                   x_plus_y) *
                                  (<span class="kr">forall</span> <span class="nv">r1</span> : R,
                                   x_plus_y &lt;
                                   (xR_plus r1).<span class="mi">1</span> y0)})
                                   y) =&gt; z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>)
                           (yL0 l) (yR0 r0)
                           (ycut0 l r0) (x_plus_yL l)
                           (x_plus_yR r0)) =&gt;
    <span class="kr">let</span> <span class="nv">L&#39;&#39;</span> := L + L&#39;0 <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">R&#39;&#39;</span> := R + R&#39;0 <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">zL</span> :=
      sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + L&#39;0 =&gt; No)
        (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt;
         (xL_plus l).<span class="mi">1</span> {{ yL0 | yR0 // ycut0 }})
        (<span class="kr">fun</span> <span class="nv">l</span> : L&#39;0 =&gt; (x_plus_yL l).<span class="mi">1</span>)
      :
      L&#39;&#39; -&gt; No <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">zR</span> :=
      sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + R&#39;0 =&gt; No)
        (<span class="kr">fun</span> <span class="nv">r0</span> : R =&gt;
         (xR_plus r0).<span class="mi">1</span> {{ yL0 | yR0 // ycut0 }})
        (<span class="kr">fun</span> <span class="nv">r0</span> : R&#39;0 =&gt; (x_plus_yR r0).<span class="mi">1</span>)
      :
      R&#39;&#39; -&gt; No <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">zcut</span> :=
      plus_inner_subproof L&#39;0 R&#39;0 s0 yL0 yR0 ycut0
        x_plus_yL x_plus_yR x_plus_yL_lt_yR <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">X</span> := sum_options L R L&#39;0 R&#39;0 Sx s0 <span class="kr">in</span>
    ({{ zL | zR // zcut }};
    (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt; lt_lopt zL zR zcut (inl l),
    <span class="kr">fun</span> <span class="nv">r0</span> : R =&gt; lt_ropt zL zR zcut (inl r0)))) L&#39; R&#39;
     s&#39; yL yR ycut fyL fyR fycut) -&gt;
(<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x &lt; y)
   (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y0 &lt; x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r0</span> : R, x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y0)})
          x)
   (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
         {x_plus_y : No &amp;
         (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y0 &lt; x_plus_y) *
         (<span class="kr">forall</span> <span class="nv">r0</span> : R, x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y0)})
          y) =&gt; z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>) {{ xL | xR // xcut }}
  {{ yL | yR // ycut }}
  (lt_r xL xR xcut yL yR ycut r p)
  ((<span class="kr">fun</span> (<span class="nv">L&#39;0</span> <span class="nv">R&#39;0</span> : <span class="kt">Type</span>) (<span class="nv">s0</span> : InSort S L&#39;0 R&#39;0)
      (<span class="nv">yL0</span> : L&#39;0 -&gt; GenNo S) (<span class="nv">yR0</span> : R&#39;0 -&gt; GenNo S)
      (<span class="nv">ycut0</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L&#39;0) (<span class="nv">r0</span> : R&#39;0),
               yL0 l &lt; yR0 r0)
      (<span class="nv">x_plus_yL</span> : <span class="kr">forall</span> <span class="nv">l</span> : L&#39;0,
                   (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
                    {x_plus_y : No &amp;
                    (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                     (xL_plus l0).<span class="mi">1</span> y &lt; x_plus_y) *
                    (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                     x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y)})
                     (yL0 l))
      (<span class="nv">x_plus_yR</span> : <span class="kr">forall</span> <span class="nv">r0</span> : R&#39;0,
                   (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
                    {x_plus_y : No &amp;
                    (<span class="kr">forall</span> <span class="nv">l</span> : L,
                     (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
                    (<span class="kr">forall</span> <span class="nv">r1</span> : R,
                     x_plus_y &lt; (xR_plus r1).<span class="mi">1</span> y)})
                     (yR0 r0))
      (<span class="nv">x_plus_yL_lt_yR</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L&#39;0) (<span class="nv">r0</span> : R&#39;0),
                         (<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S)
                            (<span class="nv">_</span> : x &lt; y)
                            (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
                                  {x_plus_y : No &amp;
                                  (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                                   (xL_plus l0).<span class="mi">1</span> y0 &lt;
                                   x_plus_y) *
                                  (<span class="kr">forall</span> <span class="nv">r1</span> : R,
                                   x_plus_y &lt;
                                   (xR_plus r1).<span class="mi">1</span> y0)})
                                   x)
                            (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
                                  {x_plus_y : No &amp;
                                  (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                                   (xL_plus l0).<span class="mi">1</span> y0 &lt;
                                   x_plus_y) *
                                  (<span class="kr">forall</span> <span class="nv">r1</span> : R,
                                   x_plus_y &lt;
                                   (xR_plus r1).<span class="mi">1</span> y0)})
                                   y) =&gt; z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>)
                           (yL0 l) (yR0 r0)
                           (ycut0 l r0) (x_plus_yL l)
                           (x_plus_yR r0)) =&gt;
    <span class="kr">let</span> <span class="nv">L&#39;&#39;</span> := L + L&#39;0 <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">R&#39;&#39;</span> := R + R&#39;0 <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">zL</span> :=
      sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + L&#39;0 =&gt; No)
        (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt;
         (xL_plus l).<span class="mi">1</span> {{ yL0 | yR0 // ycut0 }})
        (<span class="kr">fun</span> <span class="nv">l</span> : L&#39;0 =&gt; (x_plus_yL l).<span class="mi">1</span>)
      :
      L&#39;&#39; -&gt; No <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">zR</span> :=
      sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + R&#39;0 =&gt; No)
        (<span class="kr">fun</span> <span class="nv">r0</span> : R =&gt;
         (xR_plus r0).<span class="mi">1</span> {{ yL0 | yR0 // ycut0 }})
        (<span class="kr">fun</span> <span class="nv">r0</span> : R&#39;0 =&gt; (x_plus_yR r0).<span class="mi">1</span>)
      :
      R&#39;&#39; -&gt; No <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">zcut</span> :=
      plus_inner_subproof L&#39;0 R&#39;0 s0 yL0 yR0 ycut0
        x_plus_yL x_plus_yR x_plus_yL_lt_yR <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">X</span> := sum_options L R L&#39;0 R&#39;0 Sx s0 <span class="kr">in</span>
    ({{ zL | zR // zcut }};
    (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt; lt_lopt zL zR zcut (inl l),
    <span class="kr">fun</span> <span class="nv">r0</span> : R =&gt; lt_ropt zL zR zcut (inl r0)))) L0 R0
     s xL xR xcut fxL fxR fxcut)
  ((<span class="kr">fun</span> (<span class="nv">L&#39;0</span> <span class="nv">R&#39;0</span> : <span class="kt">Type</span>) (<span class="nv">s0</span> : InSort S L&#39;0 R&#39;0)
      (<span class="nv">yL0</span> : L&#39;0 -&gt; GenNo S) (<span class="nv">yR0</span> : R&#39;0 -&gt; GenNo S)
      (<span class="nv">ycut0</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L&#39;0) (<span class="nv">r0</span> : R&#39;0),
               yL0 l &lt; yR0 r0)
      (<span class="nv">x_plus_yL</span> : <span class="kr">forall</span> <span class="nv">l</span> : L&#39;0,
                   (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
                    {x_plus_y : No &amp;
                    (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                     (xL_plus l0).<span class="mi">1</span> y &lt; x_plus_y) *
                    (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                     x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y)})
                     (yL0 l))
      (<span class="nv">x_plus_yR</span> : <span class="kr">forall</span> <span class="nv">r0</span> : R&#39;0,
                   (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
                    {x_plus_y : No &amp;
                    (<span class="kr">forall</span> <span class="nv">l</span> : L,
                     (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
                    (<span class="kr">forall</span> <span class="nv">r1</span> : R,
                     x_plus_y &lt; (xR_plus r1).<span class="mi">1</span> y)})
                     (yR0 r0))
      (<span class="nv">x_plus_yL_lt_yR</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L&#39;0) (<span class="nv">r0</span> : R&#39;0),
                         (<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S)
                            (<span class="nv">_</span> : x &lt; y)
                            (<span class="nv">z</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
                                  {x_plus_y : No &amp;
                                  (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                                   (xL_plus l0).<span class="mi">1</span> y0 &lt;
                                   x_plus_y) *
                                  (<span class="kr">forall</span> <span class="nv">r1</span> : R,
                                   x_plus_y &lt;
                                   (xR_plus r1).<span class="mi">1</span> y0)})
                                   x)
                            (<span class="nv">w</span> : (<span class="kr">fun</span> <span class="nv">y0</span> : GenNo S =&gt;
                                  {x_plus_y : No &amp;
                                  (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                                   (xL_plus l0).<span class="mi">1</span> y0 &lt;
                                   x_plus_y) *
                                  (<span class="kr">forall</span> <span class="nv">r1</span> : R,
                                   x_plus_y &lt;
                                   (xR_plus r1).<span class="mi">1</span> y0)})
                                   y) =&gt; z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>)
                           (yL0 l) (yR0 r0)
                           (ycut0 l r0) (x_plus_yL l)
                           (x_plus_yR r0)) =&gt;
    <span class="kr">let</span> <span class="nv">L&#39;&#39;</span> := L + L&#39;0 <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">R&#39;&#39;</span> := R + R&#39;0 <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">zL</span> :=
      sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + L&#39;0 =&gt; No)
        (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt;
         (xL_plus l).<span class="mi">1</span> {{ yL0 | yR0 // ycut0 }})
        (<span class="kr">fun</span> <span class="nv">l</span> : L&#39;0 =&gt; (x_plus_yL l).<span class="mi">1</span>)
      :
      L&#39;&#39; -&gt; No <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">zR</span> :=
      sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + R&#39;0 =&gt; No)
        (<span class="kr">fun</span> <span class="nv">r0</span> : R =&gt;
         (xR_plus r0).<span class="mi">1</span> {{ yL0 | yR0 // ycut0 }})
        (<span class="kr">fun</span> <span class="nv">r0</span> : R&#39;0 =&gt; (x_plus_yR r0).<span class="mi">1</span>)
      :
      R&#39;&#39; -&gt; No <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">zcut</span> :=
      plus_inner_subproof L&#39;0 R&#39;0 s0 yL0 yR0 ycut0
        x_plus_yL x_plus_yR x_plus_yL_lt_yR <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">X</span> := sum_options L R L&#39;0 R&#39;0 Sx s0 <span class="kr">in</span>
    ({{ zL | zR // zcut }};
    (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt; lt_lopt zL zR zcut (inl l),
    <span class="kr">fun</span> <span class="nv">r0</span> : R =&gt; lt_ropt zL zR zcut (inl r0)))) L&#39; R&#39;
     s&#39; yL yR ycut fyL fyR fycut)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kp">abstract</span> (
        <span class="nb">intros</span> L&#39; R&#39; ? yL yR ycut x_plus_yL x_plus_yR x_plus_yL_lt_yR
               L&#39;&#39; R&#39;&#39; ? zL zR zcut x_plus_zL x_plus_zR x_plus_zL_lt_zR
               r yR_le_z x_plus_yR_le_z; <span class="nb">cbn</span>;
        <span class="nb">apply</span> lt_r <span class="kr">with</span> (inr r);
        <span class="nb">apply</span> x_plus_yR_le_z).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Defined</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
    <span class="sd">(** We now prove a computation law for [plus_inner].  It holds definitionally, so we would like to prove it with just [:= 1] and then rewrite along it later, as we did above.  However, there is a subtlety in that the output should be a surreal defined by a cut, which in particular includes a proof of cut-ness, and that proof is rather long, so we would not like to see it in the type of this lemma.  Thus, instead we assert only that there *exists* some proof of cut-ness and an equality. *)</span>
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk22"><span class="highlight"><span class="kn">Definition</span> <span class="nf">plus_inner_cut</span>
               {<span class="nv">L&#39;</span> <span class="nv">R&#39;</span> : <span class="kt">Type</span>@{i} } {<span class="nv">Sy</span> : InSort@{i} S L&#39; R&#39;}
               (<span class="nv">yL</span> : L&#39; -&gt; No) (<span class="nv">yR</span> : R&#39; -&gt; No)
               (<span class="nv">ycut</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;), yL l &lt; yR r)
    : <span class="kr">let</span> <span class="nv">L&#39;&#39;</span> := L + L&#39; <span class="kr">in</span>
      <span class="kr">let</span> <span class="nv">R&#39;&#39;</span> := R + R&#39; <span class="kr">in</span>
      <span class="kr">let</span> <span class="nv">zL</span> := sum_ind (<span class="kr">fun</span> <span class="nv">_</span> =&gt; No)
                        (<span class="kr">fun</span> <span class="nv">l</span> =&gt; (xL_plus l).<span class="mi">1</span> {{ yL | yR // ycut }})
                        (<span class="kr">fun</span> <span class="nv">l</span> =&gt; (plus_inner.<span class="mi">1</span> (yL l)).<span class="mi">1</span>)
                : L&#39;&#39; -&gt; No <span class="kr">in</span>
      <span class="kr">let</span> <span class="nv">zR</span> := sum_ind (<span class="kr">fun</span> <span class="nv">_</span> =&gt; No)
                        (<span class="kr">fun</span> <span class="nv">r</span> =&gt; (xR_plus r).<span class="mi">1</span> {{ yL | yR // ycut }})
                        (<span class="kr">fun</span> <span class="nv">r</span> =&gt; (plus_inner.<span class="mi">1</span> (yR r)).<span class="mi">1</span>)
                : R&#39;&#39; -&gt; No <span class="kr">in</span>
      <span class="kr">let</span> <span class="nv">Sz</span> := sum_options L R L&#39; R&#39; _ _ <span class="kr">in</span>
      { zcut : <span class="kr">forall</span> (<span class="nv">l</span>:L&#39;&#39;) (<span class="nv">r</span>:R&#39;&#39;), zL l &lt; zR r &amp;
        (plus_inner.<span class="mi">1</span> {{ yL | yR // ycut }}).<span class="mi">1</span> = (@No_cut _ _ _ Sz zL zR zcut) }.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L, R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Sx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">{g : No -&gt; No &amp;
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt;= y -&gt; g x &lt;= g y) *
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt; y -&gt; g x &lt; g y)}</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_lt_xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R) (<span class="nv">x</span> : No),
(xL_plus l).<span class="mi">1</span> x &lt; (xR_plus r).<span class="mi">1</span> x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L', R'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Sy</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L&#39; R&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">yL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L&#39; -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">yR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R&#39; -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ycut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;), yL l &lt; yR r</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">let</span> <span class="nv">L&#39;&#39;</span> := L + L&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">R&#39;&#39;</span> := R + R&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">zL</span> :=
  sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + L&#39; =&gt; No)
    (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt; (xL_plus l).<span class="mi">1</span> {{ yL | yR // ycut }})
    (<span class="kr">fun</span> <span class="nv">l</span> : L&#39; =&gt; (plus_inner.<span class="mi">1</span> (yL l)).<span class="mi">1</span>) <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">zR</span> :=
  sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + R&#39; =&gt; No)
    (<span class="kr">fun</span> <span class="nv">r</span> : R =&gt; (xR_plus r).<span class="mi">1</span> {{ yL | yR // ycut }})
    (<span class="kr">fun</span> <span class="nv">r</span> : R&#39; =&gt; (plus_inner.<span class="mi">1</span> (yR r)).<span class="mi">1</span>) <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Sz</span> := sum_options L R L&#39; R&#39; Sx Sy <span class="kr">in</span>
{zcut : <span class="kr">forall</span> (<span class="nv">l</span> : L&#39;&#39;) (<span class="nv">r</span> : R&#39;&#39;), zL l &lt; zR r &amp;
(plus_inner.<span class="mi">1</span> {{ yL | yR // ycut }}).<span class="mi">1</span> =
{{ zL | zR // zcut }}}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk23"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L, R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Sx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">{g : No -&gt; No &amp;
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt;= y -&gt; g x &lt;= g y) *
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt; y -&gt; g x &lt; g y)}</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_lt_xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R) (<span class="nv">x</span> : No),
(xL_plus l).<span class="mi">1</span> x &lt; (xR_plus r).<span class="mi">1</span> x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L', R'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Sy</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L&#39; R&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">yL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L&#39; -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">yR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R&#39; -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ycut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;), yL l &lt; yR r</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">let</span> <span class="nv">L&#39;&#39;</span> := L + L&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">R&#39;&#39;</span> := R + R&#39; <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">zL</span> :=
  sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + L&#39; =&gt; No)
    (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt; (xL_plus l).<span class="mi">1</span> {{ yL | yR // ycut }})
    (<span class="kr">fun</span> <span class="nv">l</span> : L&#39; =&gt; (plus_inner.<span class="mi">1</span> (yL l)).<span class="mi">1</span>) <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">zR</span> :=
  sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + R&#39; =&gt; No)
    (<span class="kr">fun</span> <span class="nv">r</span> : R =&gt; (xR_plus r).<span class="mi">1</span> {{ yL | yR // ycut }})
    (<span class="kr">fun</span> <span class="nv">r</span> : R&#39; =&gt; (plus_inner.<span class="mi">1</span> (yR r)).<span class="mi">1</span>) <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">Sz</span> := sum_options L R L&#39; R&#39; Sx Sy <span class="kr">in</span>
{zcut : <span class="kr">forall</span> (<span class="nv">l</span> : L&#39;&#39;) (<span class="nv">r</span> : R&#39;&#39;), zL l &lt; zR r &amp;
(plus_inner.<span class="mi">1</span> {{ yL | yR // ycut }}).<span class="mi">1</span> =
{{ zL | zR // zcut }}}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">      <span class="sd">(** Now we tell Coq that we want the equality to be definitional, and let it figure out what the proof of cut-ness has to be. *)</span>
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk24"><span class="highlight"><span class="nb">eexists</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L, R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Sx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">{g : No -&gt; No &amp;
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt;= y -&gt; g x &lt;= g y) *
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt; y -&gt; g x &lt; g y)}</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_lt_xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R) (<span class="nv">x</span> : No),
(xL_plus l).<span class="mi">1</span> x &lt; (xR_plus r).<span class="mi">1</span> x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L', R'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Sy</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L&#39; R&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">yL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L&#39; -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">yR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R&#39; -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ycut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;), yL l &lt; yR r</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(plus_inner.<span class="mi">1</span> {{ yL | yR // ycut }}).<span class="mi">1</span> =
{{ sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + L&#39; =&gt; No)
     (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt; (xL_plus l).<span class="mi">1</span> {{ yL | yR // ycut }})
     (<span class="kr">fun</span> <span class="nv">l</span> : L&#39; =&gt; (plus_inner.<span class="mi">1</span> (yL l)).<span class="mi">1</span>) | sum_ind
                                                 (<span class="kr">fun</span>
                                                 <span class="nv">_</span> : 
                                                 R +
                                                 R&#39; =&gt;
                                                 No)
                                                 (<span class="kr">fun</span>
                                                 <span class="nv">r</span> : R
                                                 =&gt;
                                                 (xR_plus
                                                 r).<span class="mi">1</span>
                                                 {{ yL | yR // ycut }})
                                                 (<span class="kr">fun</span>
                                                 <span class="nv">r</span> : R&#39;
                                                 =&gt;
                                                 (plus_inner.<span class="mi">1</span>
                                                 (yR r)).<span class="mi">1</span>) // 
<span class="nl">?zcut</span> }}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">      <span class="sd">(** Adding [rel_hnf] here speeds things up considerably, possibly because it puts the terms in a form where the evar can be instantiated without unfolding or reduction, preventing backtracking across the evar instantiation. *)</span>
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk25" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk25"><span class="highlight">rel_hnf.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L, R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Sx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">{g : No -&gt; No &amp;
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt;= y -&gt; g x &lt;= g y) *
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : No, x &lt; y -&gt; g x &lt; g y)}</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL_lt_xR_plus</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R) (<span class="nv">x</span> : No),
(xL_plus l).<span class="mi">1</span> x &lt; (xR_plus r).<span class="mi">1</span> x</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L', R'</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Sy</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L&#39; R&#39;</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">yL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L&#39; -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">yR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R&#39; -&gt; No</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">ycut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;), yL l &lt; yR r</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{|
  game_of :=
    opt (L + L&#39;) (R + R&#39;)
      (sum_options L R L&#39; R&#39; Sx Sy)
      (<span class="kr">fun</span> <span class="nv">x</span> : L + L&#39; =&gt;
       game_of
         (sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + L&#39; =&gt; No)
            (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt;
             (xL_plus l).<span class="mi">1</span>
               {{ <span class="kr">fun</span> <span class="nv">l0</span> : L&#39; =&gt;
                  {|
                    game_of := game_of (yL l0);
                    isno_game_of :=
                      isno_game_of (yL l0)
                  |} | (<span class="kr">fun</span> <span class="nv">r</span> : R&#39; =&gt;
                        {|
                          game_of := game_of (yR r);
                          isno_game_of :=
                            isno_game_of (yR r)
                        |}) // ycut }})
            (<span class="kr">fun</span> <span class="nv">l</span> : L&#39; =&gt;
             (Core.Surreals.No_ind_internal
                (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
                 {x_plus_y : No &amp;
                 (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                  (xL_plus l0).<span class="mi">1</span> y &lt; x_plus_y) *
                 (<span class="kr">forall</span> <span class="nv">r</span> : R,
                  x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
                (<span class="kr">fun</span> (<span class="nv">x0</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x0 &lt;= y)
                   (<span class="nv">z</span> : {x_plus_y : No &amp;
                        (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                         (xL_plus l0).<span class="mi">1</span> x0 &lt; x_plus_y) *
                        (<span class="kr">forall</span> <span class="nv">r</span> : R,
                         x_plus_y &lt; (xR_plus r).<span class="mi">1</span> x0)})
                   (<span class="nv">w</span> : {x_plus_y : No &amp;
                        (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                         (xL_plus l0).<span class="mi">1</span> y &lt; x_plus_y) *
                        (<span class="kr">forall</span> <span class="nv">r</span> : R,
                         x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
                 =&gt; z.<span class="mi">1</span> &lt;= w.<span class="mi">1</span>)
                (<span class="kr">fun</span> (<span class="nv">x0</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x0 &lt; y)
                   (<span class="nv">z</span> : {x_plus_y : No &amp;
                        (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                         (xL_plus l0).<span class="mi">1</span> x0 &lt; x_plus_y) *
                        (<span class="kr">forall</span> <span class="nv">r</span> : R,
                         x_plus_y &lt; (xR_plus r).<span class="mi">1</span> x0)})
                   (<span class="nv">w</span> : {x_plus_y : No &amp;
                        (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                         (xL_plus l0).<span class="mi">1</span> y &lt; x_plus_y) *
                        (<span class="kr">forall</span> <span class="nv">r</span> : R,
                         x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
                 =&gt; z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>)
                (<span class="kr">fun</span> (<span class="nv">L&#39;</span> <span class="nv">R&#39;</span> : <span class="kt">Type</span>)
                   (<span class="nv">s</span> : InSort S L&#39; R&#39;)
                   (<span class="nv">yL</span> : L&#39; -&gt; GenNo S)
                   (<span class="nv">yR</span> : R&#39; -&gt; GenNo S)
                   (<span class="nv">ycut</span> : <span class="kr">forall</span> (<span class="nv">l0</span> : L&#39;) (<span class="nv">r</span> : R&#39;),
                           yL l0 &lt; yR r)
                   (<span class="nv">x_plus_yL</span> : <span class="kr">forall</span> <span class="nv">l0</span> : L&#39;,
                                {x_plus_y : No &amp;
                                (<span class="kr">forall</span> <span class="nv">l1</span> : L,
                                 (xL_plus l1).<span class="mi">1</span>
                                   (yL l0) &lt; x_plus_y) *
                                (<span class="kr">forall</span> <span class="nv">r</span> : R,
                                 x_plus_y &lt;
                                 (xR_plus r).<span class="mi">1</span> (yL l0))})
                   (<span class="nv">x_plus_yR</span> : <span class="kr">forall</span> <span class="nv">r</span> : R&#39;,
                                {x_plus_y : No &amp;
                                (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                                 (xL_plus l0).<span class="mi">1</span> (yR r) &lt;
                                 x_plus_y) *
                                (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                                 x_plus_y &lt;
                                 (xR_plus r0).<span class="mi">1</span> (yR r))})
                   (<span class="nv">x_plus_yL_lt_yR</span> : <span class="kr">forall</span> (<span class="nv">l0</span> : L&#39;)
                                      (<span class="nv">r</span> : R&#39;),
                                      (x_plus_yL l0).<span class="mi">1</span> &lt;
                                      (x_plus_yR r).<span class="mi">1</span>)
                 =&gt;
                 <span class="kr">let</span> <span class="nv">L&#39;&#39;</span> := L + L&#39; <span class="kr">in</span>
                 <span class="kr">let</span> <span class="nv">R&#39;&#39;</span> := R + R&#39; <span class="kr">in</span>
                 <span class="kr">let</span> <span class="nv">zL</span> :=
                   sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + L&#39; =&gt; No)
                     (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt;
                      (xL_plus l0).<span class="mi">1</span>
                        {{ yL | yR // ycut }})
                     (<span class="kr">fun</span> <span class="nv">l0</span> : L&#39; =&gt; (x_plus_yL l0).<span class="mi">1</span>)
                   <span class="kr">in</span>
                 <span class="kr">let</span> <span class="nv">zR</span> :=
                   sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + R&#39; =&gt; No)
                     (<span class="kr">fun</span> <span class="nv">r</span> : R =&gt;
                      (xR_plus r).<span class="mi">1</span>
                        {{ yL | yR // ycut }})
                     (<span class="kr">fun</span> <span class="nv">r</span> : R&#39; =&gt; (x_plus_yR r).<span class="mi">1</span>)
                   <span class="kr">in</span>
                 <span class="kr">let</span> <span class="nv">zcut</span> :=
                   plus_inner_subproof L&#39; R&#39; s yL yR
                     ycut x_plus_yL x_plus_yR
                     x_plus_yL_lt_yR <span class="kr">in</span>
                 <span class="kr">let</span> <span class="nv">X</span> := sum_options L R L&#39; R&#39; Sx s
                   <span class="kr">in</span>
                 ({{ zL | zR // zcut }};
                 (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt;
                  lt_lopt zL zR zcut (...),
                 <span class="kr">fun</span> <span class="nv">r</span> : R =&gt; lt_ropt zL zR zcut (...))))
                plus_inner_subproof0
                plus_inner_subproof1
                plus_inner_subproof2
                plus_inner_subproof3 (game_of (yL l))
                (isno_game_of (yL l))).<span class="mi">1</span>) x))
      (<span class="kr">fun</span> <span class="nv">x</span> : R + R&#39; =&gt;
       game_of
         (sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + R&#39; =&gt; No)
            (<span class="kr">fun</span> <span class="nv">r</span> : R =&gt;
             (xR_plus r).<span class="mi">1</span>
               {{ <span class="kr">fun</span> <span class="nv">l</span> : L&#39; =&gt;
                  {|
                    game_of := game_of (yL l);
                    isno_game_of :=
                      isno_game_of (yL l)
                  |} | (<span class="kr">fun</span> <span class="nv">r0</span> : R&#39; =&gt;
                        {|
                          game_of := game_of (yR r0);
                          isno_game_of :=
                            isno_game_of (yR r0)
                        |}) // ycut }})
            (<span class="kr">fun</span> <span class="nv">r</span> : R&#39; =&gt;
             (Core.Surreals.No_ind_internal
                (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
                 {x_plus_y : No &amp;
                 (<span class="kr">forall</span> <span class="nv">l</span> : L,
                  (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
                 (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                  x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y)})
                (<span class="kr">fun</span> (<span class="nv">x0</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x0 &lt;= y)
                   (<span class="nv">z</span> : {x_plus_y : No &amp;
                        (<span class="kr">forall</span> <span class="nv">l</span> : L,
                         (xL_plus l).<span class="mi">1</span> x0 &lt; x_plus_y) *
                        (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                         x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> x0)})
                   (<span class="nv">w</span> : {x_plus_y : No &amp;
                        (<span class="kr">forall</span> <span class="nv">l</span> : L,
                         (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
                        (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                         x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y)})
                 =&gt; z.<span class="mi">1</span> &lt;= w.<span class="mi">1</span>)
                (<span class="kr">fun</span> (<span class="nv">x0</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x0 &lt; y)
                   (<span class="nv">z</span> : {x_plus_y : No &amp;
                        (<span class="kr">forall</span> <span class="nv">l</span> : L,
                         (xL_plus l).<span class="mi">1</span> x0 &lt; x_plus_y) *
                        (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                         x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> x0)})
                   (<span class="nv">w</span> : {x_plus_y : No &amp;
                        (<span class="kr">forall</span> <span class="nv">l</span> : L,
                         (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
                        (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                         x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y)})
                 =&gt; z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>)
                (<span class="kr">fun</span> (<span class="nv">L&#39;</span> <span class="nv">R&#39;</span> : <span class="kt">Type</span>)
                   (<span class="nv">s</span> : InSort S L&#39; R&#39;)
                   (<span class="nv">yL</span> : L&#39; -&gt; GenNo S)
                   (<span class="nv">yR</span> : R&#39; -&gt; GenNo S)
                   (<span class="nv">ycut</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r0</span> : R&#39;),
                           yL l &lt; yR r0)
                   (<span class="nv">x_plus_yL</span> : <span class="kr">forall</span> <span class="nv">l</span> : L&#39;,
                                {x_plus_y : No &amp;
                                (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                                 (xL_plus l0).<span class="mi">1</span> (yL l) &lt;
                                 x_plus_y) *
                                (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                                 x_plus_y &lt;
                                 (xR_plus r0).<span class="mi">1</span> (yL l))})
                   (<span class="nv">x_plus_yR</span> : <span class="kr">forall</span> <span class="nv">r0</span> : R&#39;,
                                {x_plus_y : No &amp;
                                (<span class="kr">forall</span> <span class="nv">l</span> : L,
                                 (xL_plus l).<span class="mi">1</span> (yR r0) &lt;
                                 x_plus_y) *
                                (<span class="kr">forall</span> <span class="nv">r1</span> : R,
                                 x_plus_y &lt;
                                 (xR_plus r1).<span class="mi">1</span>
                                   (yR r0))})
                   (<span class="nv">x_plus_yL_lt_yR</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L&#39;)
                                      (<span class="nv">r0</span> : R&#39;),
                                      (x_plus_yL l).<span class="mi">1</span> &lt;
                                      (x_plus_yR r0).<span class="mi">1</span>)
                 =&gt;
                 <span class="kr">let</span> <span class="nv">L&#39;&#39;</span> := L + L&#39; <span class="kr">in</span>
                 <span class="kr">let</span> <span class="nv">R&#39;&#39;</span> := R + R&#39; <span class="kr">in</span>
                 <span class="kr">let</span> <span class="nv">zL</span> :=
                   sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + L&#39; =&gt; No)
                     (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt;
                      (xL_plus l).<span class="mi">1</span>
                        {{ yL | yR // ycut }})
                     (<span class="kr">fun</span> <span class="nv">l</span> : L&#39; =&gt; (x_plus_yL l).<span class="mi">1</span>)
                   <span class="kr">in</span>
                 <span class="kr">let</span> <span class="nv">zR</span> :=
                   sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + R&#39; =&gt; No)
                     (<span class="kr">fun</span> <span class="nv">r0</span> : R =&gt;
                      (xR_plus r0).<span class="mi">1</span>
                        {{ yL | yR // ycut }})
                     (<span class="kr">fun</span> <span class="nv">r0</span> : R&#39; =&gt; (x_plus_yR r0).<span class="mi">1</span>)
                   <span class="kr">in</span>
                 <span class="kr">let</span> <span class="nv">zcut</span> :=
                   plus_inner_subproof L&#39; R&#39; s yL yR
                     ycut x_plus_yL x_plus_yR
                     x_plus_yL_lt_yR <span class="kr">in</span>
                 <span class="kr">let</span> <span class="nv">X</span> := sum_options L R L&#39; R&#39; Sx s
                   <span class="kr">in</span>
                 ({{ zL | zR // zcut }};
                 (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt;
                  lt_lopt zL zR zcut (...),
                 <span class="kr">fun</span> <span class="nv">r0</span> : R =&gt;
                 lt_ropt zL zR zcut (...))))
                plus_inner_subproof0
                plus_inner_subproof1
                plus_inner_subproof2
                plus_inner_subproof3 (game_of (yR r))
                (isno_game_of (yR r))).<span class="mi">1</span>) x));
  isno_game_of :=
    isno (L + L&#39;) (R + R&#39;)
      (sum_options L R L&#39; R&#39; Sx Sy)
      (<span class="kr">fun</span> <span class="nv">x</span> : L + L&#39; =&gt;
       game_of
         (sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + L&#39; =&gt; No)
            (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt;
             (xL_plus l).<span class="mi">1</span>
               {{ <span class="kr">fun</span> <span class="nv">l0</span> : L&#39; =&gt;
                  {|
                    game_of := game_of (yL l0);
                    isno_game_of :=
                      isno_game_of (yL l0)
                  |} | (<span class="kr">fun</span> <span class="nv">r</span> : R&#39; =&gt;
                        {|
                          game_of := game_of (yR r);
                          isno_game_of :=
                            isno_game_of (yR r)
                        |}) // ycut }})
            (<span class="kr">fun</span> <span class="nv">l</span> : L&#39; =&gt;
             (Core.Surreals.No_ind_internal
                (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
                 {x_plus_y : No &amp;
                 (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                  (xL_plus l0).<span class="mi">1</span> y &lt; x_plus_y) *
                 (<span class="kr">forall</span> <span class="nv">r</span> : R,
                  x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
                (<span class="kr">fun</span> (<span class="nv">x0</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x0 &lt;= y)
                   (<span class="nv">z</span> : {x_plus_y : No &amp;
                        (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                         (xL_plus l0).<span class="mi">1</span> x0 &lt; x_plus_y) *
                        (<span class="kr">forall</span> <span class="nv">r</span> : R,
                         x_plus_y &lt; (xR_plus r).<span class="mi">1</span> x0)})
                   (<span class="nv">w</span> : {x_plus_y : No &amp;
                        (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                         (xL_plus l0).<span class="mi">1</span> y &lt; x_plus_y) *
                        (<span class="kr">forall</span> <span class="nv">r</span> : R,
                         x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
                 =&gt; z.<span class="mi">1</span> &lt;= w.<span class="mi">1</span>)
                (<span class="kr">fun</span> (<span class="nv">x0</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x0 &lt; y)
                   (<span class="nv">z</span> : {x_plus_y : No &amp;
                        (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                         (xL_plus l0).<span class="mi">1</span> x0 &lt; x_plus_y) *
                        (<span class="kr">forall</span> <span class="nv">r</span> : R,
                         x_plus_y &lt; (xR_plus r).<span class="mi">1</span> x0)})
                   (<span class="nv">w</span> : {x_plus_y : No &amp;
                        (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                         (xL_plus l0).<span class="mi">1</span> y &lt; x_plus_y) *
                        (<span class="kr">forall</span> <span class="nv">r</span> : R,
                         x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
                 =&gt; z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>)
                (<span class="kr">fun</span> (<span class="nv">L&#39;</span> <span class="nv">R&#39;</span> : <span class="kt">Type</span>)
                   (<span class="nv">s</span> : InSort S L&#39; R&#39;)
                   (<span class="nv">yL</span> : L&#39; -&gt; GenNo S)
                   (<span class="nv">yR</span> : R&#39; -&gt; GenNo S)
                   (<span class="nv">ycut</span> : <span class="kr">forall</span> (<span class="nv">l0</span> : L&#39;) (<span class="nv">r</span> : R&#39;),
                           yL l0 &lt; yR r)
                   (<span class="nv">x_plus_yL</span> : <span class="kr">forall</span> <span class="nv">l0</span> : L&#39;,
                                {x_plus_y : No &amp;
                                (<span class="kr">forall</span> <span class="nv">l1</span> : L,
                                 (xL_plus l1).<span class="mi">1</span>
                                   (yL l0) &lt; x_plus_y) *
                                (<span class="kr">forall</span> <span class="nv">r</span> : R,
                                 x_plus_y &lt;
                                 (xR_plus r).<span class="mi">1</span> (yL l0))})
                   (<span class="nv">x_plus_yR</span> : <span class="kr">forall</span> <span class="nv">r</span> : R&#39;,
                                {x_plus_y : No &amp;
                                (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                                 (xL_plus l0).<span class="mi">1</span> (yR r) &lt;
                                 x_plus_y) *
                                (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                                 x_plus_y &lt;
                                 (xR_plus r0).<span class="mi">1</span> (yR r))})
                   (<span class="nv">x_plus_yL_lt_yR</span> : <span class="kr">forall</span> (<span class="nv">l0</span> : L&#39;)
                                      (<span class="nv">r</span> : R&#39;),
                                      (x_plus_yL l0).<span class="mi">1</span> &lt;
                                      (x_plus_yR r).<span class="mi">1</span>)
                 =&gt;
                 <span class="kr">let</span> <span class="nv">L&#39;&#39;</span> := L + L&#39; <span class="kr">in</span>
                 <span class="kr">let</span> <span class="nv">R&#39;&#39;</span> := R + R&#39; <span class="kr">in</span>
                 <span class="kr">let</span> <span class="nv">zL</span> :=
                   sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + L&#39; =&gt; No)
                     (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt;
                      (xL_plus l0).<span class="mi">1</span>
                        {{ yL | yR // ycut }})
                     (<span class="kr">fun</span> <span class="nv">l0</span> : L&#39; =&gt; (x_plus_yL l0).<span class="mi">1</span>)
                   <span class="kr">in</span>
                 <span class="kr">let</span> <span class="nv">zR</span> :=
                   sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + R&#39; =&gt; No)
                     (<span class="kr">fun</span> <span class="nv">r</span> : R =&gt;
                      (xR_plus r).<span class="mi">1</span>
                        {{ yL | yR // ycut }})
                     (<span class="kr">fun</span> <span class="nv">r</span> : R&#39; =&gt; (x_plus_yR r).<span class="mi">1</span>)
                   <span class="kr">in</span>
                 <span class="kr">let</span> <span class="nv">zcut</span> :=
                   plus_inner_subproof L&#39; R&#39; s yL yR
                     ycut x_plus_yL x_plus_yR
                     x_plus_yL_lt_yR <span class="kr">in</span>
                 <span class="kr">let</span> <span class="nv">X</span> := sum_options L R L&#39; R&#39; Sx s
                   <span class="kr">in</span>
                 ({{ zL | zR // zcut }};
                 (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt;
                  lt_lopt zL zR zcut (...),
                 <span class="kr">fun</span> <span class="nv">r</span> : R =&gt; lt_ropt zL zR zcut (...))))
                plus_inner_subproof0
                plus_inner_subproof1
                plus_inner_subproof2
                plus_inner_subproof3 (game_of (yL l))
                (isno_game_of (yL l))).<span class="mi">1</span>) x))
      (<span class="kr">fun</span> <span class="nv">x</span> : R + R&#39; =&gt;
       game_of
         (sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + R&#39; =&gt; No)
            (<span class="kr">fun</span> <span class="nv">r</span> : R =&gt;
             (xR_plus r).<span class="mi">1</span>
               {{ <span class="kr">fun</span> <span class="nv">l</span> : L&#39; =&gt;
                  {|
                    game_of := game_of (yL l);
                    isno_game_of :=
                      isno_game_of (yL l)
                  |} | (<span class="kr">fun</span> <span class="nv">r0</span> : R&#39; =&gt;
                        {|
                          game_of := game_of (yR r0);
                          isno_game_of :=
                            isno_game_of (yR r0)
                        |}) // ycut }})
            (<span class="kr">fun</span> <span class="nv">r</span> : R&#39; =&gt;
             (Core.Surreals.No_ind_internal
                (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
                 {x_plus_y : No &amp;
                 (<span class="kr">forall</span> <span class="nv">l</span> : L,
                  (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
                 (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                  x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y)})
                (<span class="kr">fun</span> (<span class="nv">x0</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x0 &lt;= y)
                   (<span class="nv">z</span> : {x_plus_y : No &amp;
                        (<span class="kr">forall</span> <span class="nv">l</span> : L,
                         (xL_plus l).<span class="mi">1</span> x0 &lt; x_plus_y) *
                        (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                         x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> x0)})
                   (<span class="nv">w</span> : {x_plus_y : No &amp;
                        (<span class="kr">forall</span> <span class="nv">l</span> : L,
                         (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
                        (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                         x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y)})
                 =&gt; z.<span class="mi">1</span> &lt;= w.<span class="mi">1</span>)
                (<span class="kr">fun</span> (<span class="nv">x0</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x0 &lt; y)
                   (<span class="nv">z</span> : {x_plus_y : No &amp;
                        (<span class="kr">forall</span> <span class="nv">l</span> : L,
                         (xL_plus l).<span class="mi">1</span> x0 &lt; x_plus_y) *
                        (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                         x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> x0)})
                   (<span class="nv">w</span> : {x_plus_y : No &amp;
                        (<span class="kr">forall</span> <span class="nv">l</span> : L,
                         (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
                        (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                         x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y)})
                 =&gt; z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>)
                (<span class="kr">fun</span> (<span class="nv">L&#39;</span> <span class="nv">R&#39;</span> : <span class="kt">Type</span>)
                   (<span class="nv">s</span> : InSort S L&#39; R&#39;)
                   (<span class="nv">yL</span> : L&#39; -&gt; GenNo S)
                   (<span class="nv">yR</span> : R&#39; -&gt; GenNo S)
                   (<span class="nv">ycut</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r0</span> : R&#39;),
                           yL l &lt; yR r0)
                   (<span class="nv">x_plus_yL</span> : <span class="kr">forall</span> <span class="nv">l</span> : L&#39;,
                                {x_plus_y : No &amp;
                                (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                                 (xL_plus l0).<span class="mi">1</span> (yL l) &lt;
                                 x_plus_y) *
                                (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                                 x_plus_y &lt;
                                 (xR_plus r0).<span class="mi">1</span> (yL l))})
                   (<span class="nv">x_plus_yR</span> : <span class="kr">forall</span> <span class="nv">r0</span> : R&#39;,
                                {x_plus_y : No &amp;
                                (<span class="kr">forall</span> <span class="nv">l</span> : L,
                                 (xL_plus l).<span class="mi">1</span> (yR r0) &lt;
                                 x_plus_y) *
                                (<span class="kr">forall</span> <span class="nv">r1</span> : R,
                                 x_plus_y &lt;
                                 (xR_plus r1).<span class="mi">1</span>
                                   (yR r0))})
                   (<span class="nv">x_plus_yL_lt_yR</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L&#39;)
                                      (<span class="nv">r0</span> : R&#39;),
                                      (x_plus_yL l).<span class="mi">1</span> &lt;
                                      (x_plus_yR r0).<span class="mi">1</span>)
                 =&gt;
                 <span class="kr">let</span> <span class="nv">L&#39;&#39;</span> := L + L&#39; <span class="kr">in</span>
                 <span class="kr">let</span> <span class="nv">R&#39;&#39;</span> := R + R&#39; <span class="kr">in</span>
                 <span class="kr">let</span> <span class="nv">zL</span> :=
                   sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + L&#39; =&gt; No)
                     (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt;
                      (xL_plus l).<span class="mi">1</span>
                        {{ yL | yR // ycut }})
                     (<span class="kr">fun</span> <span class="nv">l</span> : L&#39; =&gt; (x_plus_yL l).<span class="mi">1</span>)
                   <span class="kr">in</span>
                 <span class="kr">let</span> <span class="nv">zR</span> :=
                   sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + R&#39; =&gt; No)
                     (<span class="kr">fun</span> <span class="nv">r0</span> : R =&gt;
                      (xR_plus r0).<span class="mi">1</span>
                        {{ yL | yR // ycut }})
                     (<span class="kr">fun</span> <span class="nv">r0</span> : R&#39; =&gt; (x_plus_yR r0).<span class="mi">1</span>)
                   <span class="kr">in</span>
                 <span class="kr">let</span> <span class="nv">zcut</span> :=
                   plus_inner_subproof L&#39; R&#39; s yL yR
                     ycut x_plus_yL x_plus_yR
                     x_plus_yL_lt_yR <span class="kr">in</span>
                 <span class="kr">let</span> <span class="nv">X</span> := sum_options L R L&#39; R&#39; Sx s
                   <span class="kr">in</span>
                 ({{ zL | zR // zcut }};
                 (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt;
                  lt_lopt zL zR zcut (...),
                 <span class="kr">fun</span> <span class="nv">r0</span> : R =&gt;
                 lt_ropt zL zR zcut (...))))
                plus_inner_subproof0
                plus_inner_subproof1
                plus_inner_subproof2
                plus_inner_subproof3 (game_of (yR r))
                (isno_game_of (yR r))).<span class="mi">1</span>) x))
      (<span class="kr">fun</span> <span class="nv">x</span> : L + L&#39; =&gt;
       isno_game_of
         (sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + L&#39; =&gt; No)
            (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt;
             (xL_plus l).<span class="mi">1</span>
               {{ <span class="kr">fun</span> <span class="nv">l0</span> : L&#39; =&gt;
                  {|
                    game_of := game_of (yL l0);
                    isno_game_of :=
                      isno_game_of (yL l0)
                  |} | (<span class="kr">fun</span> <span class="nv">r</span> : R&#39; =&gt;
                        {|
                          game_of := game_of (yR r);
                          isno_game_of :=
                            isno_game_of (yR r)
                        |}) // ycut }})
            (<span class="kr">fun</span> <span class="nv">l</span> : L&#39; =&gt;
             (Core.Surreals.No_ind_internal
                (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
                 {x_plus_y : No &amp;
                 (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                  (xL_plus l0).<span class="mi">1</span> y &lt; x_plus_y) *
                 (<span class="kr">forall</span> <span class="nv">r</span> : R,
                  x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
                (<span class="kr">fun</span> (<span class="nv">x0</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x0 &lt;= y)
                   (<span class="nv">z</span> : {x_plus_y : No &amp;
                        (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                         (xL_plus l0).<span class="mi">1</span> x0 &lt; x_plus_y) *
                        (<span class="kr">forall</span> <span class="nv">r</span> : R,
                         x_plus_y &lt; (xR_plus r).<span class="mi">1</span> x0)})
                   (<span class="nv">w</span> : {x_plus_y : No &amp;
                        (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                         (xL_plus l0).<span class="mi">1</span> y &lt; x_plus_y) *
                        (<span class="kr">forall</span> <span class="nv">r</span> : R,
                         x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
                 =&gt; z.<span class="mi">1</span> &lt;= w.<span class="mi">1</span>)
                (<span class="kr">fun</span> (<span class="nv">x0</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x0 &lt; y)
                   (<span class="nv">z</span> : {x_plus_y : No &amp;
                        (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                         (xL_plus l0).<span class="mi">1</span> x0 &lt; x_plus_y) *
                        (<span class="kr">forall</span> <span class="nv">r</span> : R,
                         x_plus_y &lt; (xR_plus r).<span class="mi">1</span> x0)})
                   (<span class="nv">w</span> : {x_plus_y : No &amp;
                        (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                         (xL_plus l0).<span class="mi">1</span> y &lt; x_plus_y) *
                        (<span class="kr">forall</span> <span class="nv">r</span> : R,
                         x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
                 =&gt; z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>)
                (<span class="kr">fun</span> (<span class="nv">L&#39;</span> <span class="nv">R&#39;</span> : <span class="kt">Type</span>)
                   (<span class="nv">s</span> : InSort S L&#39; R&#39;)
                   (<span class="nv">yL</span> : L&#39; -&gt; GenNo S)
                   (<span class="nv">yR</span> : R&#39; -&gt; GenNo S)
                   (<span class="nv">ycut</span> : <span class="kr">forall</span> (<span class="nv">l0</span> : L&#39;) (<span class="nv">r</span> : R&#39;),
                           yL l0 &lt; yR r)
                   (<span class="nv">x_plus_yL</span> : <span class="kr">forall</span> <span class="nv">l0</span> : L&#39;,
                                {x_plus_y : No &amp;
                                (<span class="kr">forall</span> <span class="nv">l1</span> : L,
                                 (xL_plus l1).<span class="mi">1</span>
                                   (yL l0) &lt; x_plus_y) *
                                (<span class="kr">forall</span> <span class="nv">r</span> : R,
                                 x_plus_y &lt;
                                 (xR_plus r).<span class="mi">1</span> (yL l0))})
                   (<span class="nv">x_plus_yR</span> : <span class="kr">forall</span> <span class="nv">r</span> : R&#39;,
                                {x_plus_y : No &amp;
                                (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                                 (xL_plus l0).<span class="mi">1</span> (yR r) &lt;
                                 x_plus_y) *
                                (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                                 x_plus_y &lt;
                                 (xR_plus r0).<span class="mi">1</span> (yR r))})
                   (<span class="nv">x_plus_yL_lt_yR</span> : <span class="kr">forall</span> (<span class="nv">l0</span> : L&#39;)
                                      (<span class="nv">r</span> : R&#39;),
                                      (x_plus_yL l0).<span class="mi">1</span> &lt;
                                      (x_plus_yR r).<span class="mi">1</span>)
                 =&gt;
                 <span class="kr">let</span> <span class="nv">L&#39;&#39;</span> := L + L&#39; <span class="kr">in</span>
                 <span class="kr">let</span> <span class="nv">R&#39;&#39;</span> := R + R&#39; <span class="kr">in</span>
                 <span class="kr">let</span> <span class="nv">zL</span> :=
                   sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + L&#39; =&gt; No)
                     (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt;
                      (xL_plus l0).<span class="mi">1</span>
                        {{ yL | yR // ycut }})
                     (<span class="kr">fun</span> <span class="nv">l0</span> : L&#39; =&gt; (x_plus_yL l0).<span class="mi">1</span>)
                   <span class="kr">in</span>
                 <span class="kr">let</span> <span class="nv">zR</span> :=
                   sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + R&#39; =&gt; No)
                     (<span class="kr">fun</span> <span class="nv">r</span> : R =&gt;
                      (xR_plus r).<span class="mi">1</span>
                        {{ yL | yR // ycut }})
                     (<span class="kr">fun</span> <span class="nv">r</span> : R&#39; =&gt; (x_plus_yR r).<span class="mi">1</span>)
                   <span class="kr">in</span>
                 <span class="kr">let</span> <span class="nv">zcut</span> :=
                   plus_inner_subproof L&#39; R&#39; s yL yR
                     ycut x_plus_yL x_plus_yR
                     x_plus_yL_lt_yR <span class="kr">in</span>
                 <span class="kr">let</span> <span class="nv">X</span> := sum_options L R L&#39; R&#39; Sx s
                   <span class="kr">in</span>
                 ({{ zL | zR // zcut }};
                 (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt;
                  lt_lopt zL zR zcut (...),
                 <span class="kr">fun</span> <span class="nv">r</span> : R =&gt; lt_ropt zL zR zcut (...))))
                plus_inner_subproof0
                plus_inner_subproof1
                plus_inner_subproof2
                plus_inner_subproof3 (game_of (yL l))
                (isno_game_of (yL l))).<span class="mi">1</span>) x))
      (<span class="kr">fun</span> <span class="nv">x</span> : R + R&#39; =&gt;
       isno_game_of
         (sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + R&#39; =&gt; No)
            (<span class="kr">fun</span> <span class="nv">r</span> : R =&gt;
             (xR_plus r).<span class="mi">1</span>
               {{ <span class="kr">fun</span> <span class="nv">l</span> : L&#39; =&gt;
                  {|
                    game_of := game_of (yL l);
                    isno_game_of :=
                      isno_game_of (yL l)
                  |} | (<span class="kr">fun</span> <span class="nv">r0</span> : R&#39; =&gt;
                        {|
                          game_of := game_of (yR r0);
                          isno_game_of :=
                            isno_game_of (yR r0)
                        |}) // ycut }})
            (<span class="kr">fun</span> <span class="nv">r</span> : R&#39; =&gt;
             (Core.Surreals.No_ind_internal
                (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
                 {x_plus_y : No &amp;
                 (<span class="kr">forall</span> <span class="nv">l</span> : L,
                  (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
                 (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                  x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y)})
                (<span class="kr">fun</span> (<span class="nv">x0</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x0 &lt;= y)
                   (<span class="nv">z</span> : {x_plus_y : No &amp;
                        (<span class="kr">forall</span> <span class="nv">l</span> : L,
                         (xL_plus l).<span class="mi">1</span> x0 &lt; x_plus_y) *
                        (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                         x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> x0)})
                   (<span class="nv">w</span> : {x_plus_y : No &amp;
                        (<span class="kr">forall</span> <span class="nv">l</span> : L,
                         (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
                        (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                         x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y)})
                 =&gt; z.<span class="mi">1</span> &lt;= w.<span class="mi">1</span>)
                (<span class="kr">fun</span> (<span class="nv">x0</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x0 &lt; y)
                   (<span class="nv">z</span> : {x_plus_y : No &amp;
                        (<span class="kr">forall</span> <span class="nv">l</span> : L,
                         (xL_plus l).<span class="mi">1</span> x0 &lt; x_plus_y) *
                        (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                         x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> x0)})
                   (<span class="nv">w</span> : {x_plus_y : No &amp;
                        (<span class="kr">forall</span> <span class="nv">l</span> : L,
                         (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
                        (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                         x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y)})
                 =&gt; z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>)
                (<span class="kr">fun</span> (<span class="nv">L&#39;</span> <span class="nv">R&#39;</span> : <span class="kt">Type</span>)
                   (<span class="nv">s</span> : InSort S L&#39; R&#39;)
                   (<span class="nv">yL</span> : L&#39; -&gt; GenNo S)
                   (<span class="nv">yR</span> : R&#39; -&gt; GenNo S)
                   (<span class="nv">ycut</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r0</span> : R&#39;),
                           yL l &lt; yR r0)
                   (<span class="nv">x_plus_yL</span> : <span class="kr">forall</span> <span class="nv">l</span> : L&#39;,
                                {x_plus_y : No &amp;
                                (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                                 (xL_plus l0).<span class="mi">1</span> (yL l) &lt;
                                 x_plus_y) *
                                (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                                 x_plus_y &lt;
                                 (xR_plus r0).<span class="mi">1</span> (yL l))})
                   (<span class="nv">x_plus_yR</span> : <span class="kr">forall</span> <span class="nv">r0</span> : R&#39;,
                                {x_plus_y : No &amp;
                                (<span class="kr">forall</span> <span class="nv">l</span> : L,
                                 (xL_plus l).<span class="mi">1</span> (yR r0) &lt;
                                 x_plus_y) *
                                (<span class="kr">forall</span> <span class="nv">r1</span> : R,
                                 x_plus_y &lt;
                                 (xR_plus r1).<span class="mi">1</span>
                                   (yR r0))})
                   (<span class="nv">x_plus_yL_lt_yR</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L&#39;)
                                      (<span class="nv">r0</span> : R&#39;),
                                      (x_plus_yL l).<span class="mi">1</span> &lt;
                                      (x_plus_yR r0).<span class="mi">1</span>)
                 =&gt;
                 <span class="kr">let</span> <span class="nv">L&#39;&#39;</span> := L + L&#39; <span class="kr">in</span>
                 <span class="kr">let</span> <span class="nv">R&#39;&#39;</span> := R + R&#39; <span class="kr">in</span>
                 <span class="kr">let</span> <span class="nv">zL</span> :=
                   sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + L&#39; =&gt; No)
                     (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt;
                      (xL_plus l).<span class="mi">1</span>
                        {{ yL | yR // ycut }})
                     (<span class="kr">fun</span> <span class="nv">l</span> : L&#39; =&gt; (x_plus_yL l).<span class="mi">1</span>)
                   <span class="kr">in</span>
                 <span class="kr">let</span> <span class="nv">zR</span> :=
                   sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + R&#39; =&gt; No)
                     (<span class="kr">fun</span> <span class="nv">r0</span> : R =&gt;
                      (xR_plus r0).<span class="mi">1</span>
                        {{ yL | yR // ycut }})
                     (<span class="kr">fun</span> <span class="nv">r0</span> : R&#39; =&gt; (x_plus_yR r0).<span class="mi">1</span>)
                   <span class="kr">in</span>
                 <span class="kr">let</span> <span class="nv">zcut</span> :=
                   plus_inner_subproof L&#39; R&#39; s yL yR
                     ycut x_plus_yL x_plus_yR
                     x_plus_yL_lt_yR <span class="kr">in</span>
                 <span class="kr">let</span> <span class="nv">X</span> := sum_options L R L&#39; R&#39; Sx s
                   <span class="kr">in</span>
                 ({{ zL | zR // zcut }};
                 (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt;
                  lt_lopt zL zR zcut (...),
                 <span class="kr">fun</span> <span class="nv">r0</span> : R =&gt;
                 lt_ropt zL zR zcut (...))))
                plus_inner_subproof0
                plus_inner_subproof1
                plus_inner_subproof2
                plus_inner_subproof3 (game_of (yR r))
                (isno_game_of (yR r))).<span class="mi">1</span>) x))
      (plus_inner_subproof L&#39; R&#39; Sy
         (<span class="kr">fun</span> <span class="nv">l</span> : L&#39; =&gt;
          {|
            game_of := game_of (yL l);
            isno_game_of := isno_game_of (yL l)
          |})
         (<span class="kr">fun</span> <span class="nv">r</span> : R&#39; =&gt;
          {|
            game_of := game_of (yR r);
            isno_game_of := isno_game_of (yR r)
          |}) ycut
         (<span class="kr">fun</span> <span class="nv">l</span> : L&#39; =&gt;
          Core.Surreals.No_ind_internal
            (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
             {x_plus_y : No &amp;
             (<span class="kr">forall</span> <span class="nv">l0</span> : L,
              (xL_plus l0).<span class="mi">1</span> y &lt; x_plus_y) *
             (<span class="kr">forall</span> <span class="nv">r</span> : R, x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)})
            (<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x &lt;= y)
               (<span class="nv">z</span> : {x_plus_y : No &amp;
                    (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                     (xL_plus l0).<span class="mi">1</span> x &lt; x_plus_y) *
                    (<span class="kr">forall</span> <span class="nv">r</span> : R,
                     x_plus_y &lt; (xR_plus r).<span class="mi">1</span> x)})
               (<span class="nv">w</span> : {x_plus_y : No &amp;
                    (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                     (xL_plus l0).<span class="mi">1</span> y &lt; x_plus_y) *
                    (<span class="kr">forall</span> <span class="nv">r</span> : R,
                     x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)}) =&gt;
             z.<span class="mi">1</span> &lt;= w.<span class="mi">1</span>)
            (<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x &lt; y)
               (<span class="nv">z</span> : {x_plus_y : No &amp;
                    (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                     (xL_plus l0).<span class="mi">1</span> x &lt; x_plus_y) *
                    (<span class="kr">forall</span> <span class="nv">r</span> : R,
                     x_plus_y &lt; (xR_plus r).<span class="mi">1</span> x)})
               (<span class="nv">w</span> : {x_plus_y : No &amp;
                    (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                     (xL_plus l0).<span class="mi">1</span> y &lt; x_plus_y) *
                    (<span class="kr">forall</span> <span class="nv">r</span> : R,
                     x_plus_y &lt; (xR_plus r).<span class="mi">1</span> y)}) =&gt;
             z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>)
            (<span class="kr">fun</span> (<span class="nv">L&#39;</span> <span class="nv">R&#39;</span> : <span class="kt">Type</span>) (<span class="nv">s</span> : InSort S L&#39; R&#39;)
               (<span class="nv">yL</span> : L&#39; -&gt; GenNo S)
               (<span class="nv">yR</span> : R&#39; -&gt; GenNo S)
               (<span class="nv">ycut</span> : <span class="kr">forall</span> (<span class="nv">l0</span> : L&#39;) (<span class="nv">r</span> : R&#39;),
                       yL l0 &lt; yR r)
               (<span class="nv">x_plus_yL</span> : <span class="kr">forall</span> <span class="nv">l0</span> : L&#39;,
                            {x_plus_y : No &amp;
                            (<span class="kr">forall</span> <span class="nv">l1</span> : L,
                             (xL_plus l1).<span class="mi">1</span> (yL l0) &lt;
                             x_plus_y) *
                            (<span class="kr">forall</span> <span class="nv">r</span> : R,
                             x_plus_y &lt;
                             (xR_plus r).<span class="mi">1</span> (yL l0))})
               (<span class="nv">x_plus_yR</span> : <span class="kr">forall</span> <span class="nv">r</span> : R&#39;,
                            {x_plus_y : No &amp;
                            (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                             (xL_plus l0).<span class="mi">1</span> (yR r) &lt;
                             x_plus_y) *
                            (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                             x_plus_y &lt;
                             (xR_plus r0).<span class="mi">1</span> (yR r))})
               (<span class="nv">x_plus_yL_lt_yR</span> : <span class="kr">forall</span> (<span class="nv">l0</span> : L&#39;)
                                  (<span class="nv">r</span> : R&#39;),
                                  (x_plus_yL l0).<span class="mi">1</span> &lt;
                                  (x_plus_yR r).<span class="mi">1</span>) =&gt;
             <span class="kr">let</span> <span class="nv">L&#39;&#39;</span> := L + L&#39; <span class="kr">in</span>
             <span class="kr">let</span> <span class="nv">R&#39;&#39;</span> := R + R&#39; <span class="kr">in</span>
             <span class="kr">let</span> <span class="nv">zL</span> :=
               sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + L&#39; =&gt; No)
                 (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt;
                  (xL_plus l0).<span class="mi">1</span> {{ yL | yR // ycut }})
                 (<span class="kr">fun</span> <span class="nv">l0</span> : L&#39; =&gt; (x_plus_yL l0).<span class="mi">1</span>) <span class="kr">in</span>
             <span class="kr">let</span> <span class="nv">zR</span> :=
               sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + R&#39; =&gt; No)
                 (<span class="kr">fun</span> <span class="nv">r</span> : R =&gt;
                  (xR_plus r).<span class="mi">1</span> {{ yL | yR // ycut }})
                 (<span class="kr">fun</span> <span class="nv">r</span> : R&#39; =&gt; (x_plus_yR r).<span class="mi">1</span>) <span class="kr">in</span>
             <span class="kr">let</span> <span class="nv">zcut</span> :=
               plus_inner_subproof L&#39; R&#39; s yL yR ycut
                 x_plus_yL x_plus_yR x_plus_yL_lt_yR
               <span class="kr">in</span>
             <span class="kr">let</span> <span class="nv">X</span> := sum_options L R L&#39; R&#39; Sx s <span class="kr">in</span>
             ({{ zL | zR // zcut }};
             (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt;
              lt_lopt zL zR zcut (inl l0),
             <span class="kr">fun</span> <span class="nv">r</span> : R =&gt; lt_ropt zL zR zcut (inl r))))
            plus_inner_subproof0 plus_inner_subproof1
            plus_inner_subproof2 plus_inner_subproof3
            (game_of (yL l)) (isno_game_of (yL l)))
         (<span class="kr">fun</span> <span class="nv">r</span> : R&#39; =&gt;
          Core.Surreals.No_ind_internal
            (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
             {x_plus_y : No &amp;
             (<span class="kr">forall</span> <span class="nv">l</span> : L, (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
             (<span class="kr">forall</span> <span class="nv">r0</span> : R,
              x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y)})
            (<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x &lt;= y)
               (<span class="nv">z</span> : {x_plus_y : No &amp;
                    (<span class="kr">forall</span> <span class="nv">l</span> : L,
                     (xL_plus l).<span class="mi">1</span> x &lt; x_plus_y) *
                    (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                     x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> x)})
               (<span class="nv">w</span> : {x_plus_y : No &amp;
                    (<span class="kr">forall</span> <span class="nv">l</span> : L,
                     (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
                    (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                     x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y)}) =&gt;
             z.<span class="mi">1</span> &lt;= w.<span class="mi">1</span>)
            (<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x &lt; y)
               (<span class="nv">z</span> : {x_plus_y : No &amp;
                    (<span class="kr">forall</span> <span class="nv">l</span> : L,
                     (xL_plus l).<span class="mi">1</span> x &lt; x_plus_y) *
                    (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                     x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> x)})
               (<span class="nv">w</span> : {x_plus_y : No &amp;
                    (<span class="kr">forall</span> <span class="nv">l</span> : L,
                     (xL_plus l).<span class="mi">1</span> y &lt; x_plus_y) *
                    (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                     x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y)}) =&gt;
             z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>)
            (<span class="kr">fun</span> (<span class="nv">L&#39;</span> <span class="nv">R&#39;</span> : <span class="kt">Type</span>) (<span class="nv">s</span> : InSort S L&#39; R&#39;)
               (<span class="nv">yL</span> : L&#39; -&gt; GenNo S)
               (<span class="nv">yR</span> : R&#39; -&gt; GenNo S)
               (<span class="nv">ycut</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r0</span> : R&#39;),
                       yL l &lt; yR r0)
               (<span class="nv">x_plus_yL</span> : <span class="kr">forall</span> <span class="nv">l</span> : L&#39;,
                            {x_plus_y : No &amp;
                            (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                             (xL_plus l0).<span class="mi">1</span> (yL l) &lt;
                             x_plus_y) *
                            (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                             x_plus_y &lt;
                             (xR_plus r0).<span class="mi">1</span> (yL l))})
               (<span class="nv">x_plus_yR</span> : <span class="kr">forall</span> <span class="nv">r0</span> : R&#39;,
                            {x_plus_y : No &amp;
                            (<span class="kr">forall</span> <span class="nv">l</span> : L,
                             (xL_plus l).<span class="mi">1</span> (yR r0) &lt;
                             x_plus_y) *
                            (<span class="kr">forall</span> <span class="nv">r1</span> : R,
                             x_plus_y &lt;
                             (xR_plus r1).<span class="mi">1</span> (yR r0))})
               (<span class="nv">x_plus_yL_lt_yR</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L&#39;)
                                  (<span class="nv">r0</span> : R&#39;),
                                  (x_plus_yL l).<span class="mi">1</span> &lt;
                                  (x_plus_yR r0).<span class="mi">1</span>) =&gt;
             <span class="kr">let</span> <span class="nv">L&#39;&#39;</span> := L + L&#39; <span class="kr">in</span>
             <span class="kr">let</span> <span class="nv">R&#39;&#39;</span> := R + R&#39; <span class="kr">in</span>
             <span class="kr">let</span> <span class="nv">zL</span> :=
               sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + L&#39; =&gt; No)
                 (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt;
                  (xL_plus l).<span class="mi">1</span> {{ yL | yR // ycut }})
                 (<span class="kr">fun</span> <span class="nv">l</span> : L&#39; =&gt; (x_plus_yL l).<span class="mi">1</span>) <span class="kr">in</span>
             <span class="kr">let</span> <span class="nv">zR</span> :=
               sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + R&#39; =&gt; No)
                 (<span class="kr">fun</span> <span class="nv">r0</span> : R =&gt;
                  (xR_plus r0).<span class="mi">1</span> {{ yL | yR // ycut }})
                 (<span class="kr">fun</span> <span class="nv">r0</span> : R&#39; =&gt; (x_plus_yR r0).<span class="mi">1</span>) <span class="kr">in</span>
             <span class="kr">let</span> <span class="nv">zcut</span> :=
               plus_inner_subproof L&#39; R&#39; s yL yR ycut
                 x_plus_yL x_plus_yR x_plus_yL_lt_yR
               <span class="kr">in</span>
             <span class="kr">let</span> <span class="nv">X</span> := sum_options L R L&#39; R&#39; Sx s <span class="kr">in</span>
             ({{ zL | zR // zcut }};
             (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt; lt_lopt zL zR zcut (inl l),
             <span class="kr">fun</span> <span class="nv">r0</span> : R =&gt; lt_ropt zL zR zcut (inl r0))))
            plus_inner_subproof0 plus_inner_subproof1
            plus_inner_subproof2 plus_inner_subproof3
            (game_of (yR r)) (isno_game_of (yR r)))
         (<span class="kr">fun</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;) =&gt;
          <span class="kr">match</span>
            No_Empty_admitted
            <span class="kr">return</span>
              ((Core.Surreals.No_ind_internal
                  (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
                   {x_plus_y : No &amp;
                   (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                    (xL_plus l0).<span class="mi">1</span> y &lt; x_plus_y) *
                   (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                    x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y)})
                  (<span class="kr">fun</span> (<span class="nv">x0</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x0 &lt;= y)
                     (<span class="nv">z</span> : {x_plus_y : No &amp;
                          (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                           ....<span class="mi">1</span> x0 &lt; x_plus_y) *
                          (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                           x_plus_y &lt; ....<span class="mi">1</span> x0)})
                     (<span class="nv">w</span> : {x_plus_y : No &amp;
                          (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                           ....<span class="mi">1</span> y &lt; x_plus_y) *
                          (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                           x_plus_y &lt; ....<span class="mi">1</span> y)}) =&gt;
                   z.<span class="mi">1</span> &lt;= w.<span class="mi">1</span>)
                  (<span class="kr">fun</span> (<span class="nv">x0</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x0 &lt; y)
                     (<span class="nv">z</span> : {x_plus_y : No &amp;
                          (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                           ....<span class="mi">1</span> x0 &lt; x_plus_y) *
                          (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                           x_plus_y &lt; ....<span class="mi">1</span> x0)})
                     (<span class="nv">w</span> : {x_plus_y : No &amp;
                          (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                           ....<span class="mi">1</span> y &lt; x_plus_y) *
                          (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                           x_plus_y &lt; ....<span class="mi">1</span> y)}) =&gt;
                   z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>)
                  (<span class="kr">fun</span> (<span class="nv">L&#39;</span> <span class="nv">R&#39;</span> : <span class="kt">Type</span>)
                     (<span class="nv">s</span> : InSort S L&#39; R&#39;)
                     (<span class="nv">yL</span> : L&#39; -&gt; GenNo S)
                     (<span class="nv">yR</span> : R&#39; -&gt; GenNo S)
                     (<span class="nv">ycut</span> : <span class="kr">forall</span> (<span class="nv">l0</span> : L&#39;)
                             (<span class="nv">r0</span> : R&#39;), yL l0 &lt; yR r0)
                     (<span class="nv">x_plus_yL</span> : <span class="kr">forall</span> <span class="nv">l0</span> : L&#39;,
                                  {x_plus_y : No &amp;
                                  (<span class="kr">forall</span> <span class="nv">l1</span> : L,
                                   ... &lt; x_plus_y) *
                                  (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                                   x_plus_y &lt; ...)})
                     (<span class="nv">x_plus_yR</span> : <span class="kr">forall</span> <span class="nv">r0</span> : R&#39;,
                                  {x_plus_y : No &amp;
                                  (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                                   ... &lt; x_plus_y) *
                                  (<span class="kr">forall</span> <span class="nv">r1</span> : R,
                                   x_plus_y &lt; ...)})
                     (<span class="nv">x_plus_yL_lt_yR</span> : <span class="kr">forall</span>
                                        (<span class="nv">l0</span> : L&#39;)
                                        (<span class="nv">r0</span> : R&#39;),
                                        (x_plus_yL l0).<span class="mi">1</span> &lt;
                                        (x_plus_yR r0).<span class="mi">1</span>)
                   =&gt;
                   <span class="kr">let</span> <span class="nv">L&#39;&#39;</span> := L + L&#39; <span class="kr">in</span>
                   <span class="kr">let</span> <span class="nv">R&#39;&#39;</span> := R + R&#39; <span class="kr">in</span>
                   <span class="kr">let</span> <span class="nv">zL</span> :=
                     sum_ind (<span class="kr">fun</span> ... =&gt; No)
                       (<span class="kr">fun</span> ... =&gt;
                        ....<span class="mi">1</span> {{ yL | yR // ycut }})
                       (<span class="kr">fun</span> ... =&gt; (...).<span class="mi">1</span>) <span class="kr">in</span>
                   <span class="kr">let</span> <span class="nv">zR</span> :=
                     sum_ind (... =&gt; No) (... =&gt; ...)
                       (... =&gt; ....<span class="mi">1</span>) <span class="kr">in</span>
                   <span class="kr">let</span> <span class="nv">zcut</span> :=
                     plus_inner_subproof L&#39; R&#39; s yL yR
                       ycut x_plus_yL x_plus_yR
                       x_plus_yL_lt_yR <span class="kr">in</span>
                   <span class="kr">let</span> <span class="nv">X</span> := sum_options L R L&#39; R&#39; Sx s
                     <span class="kr">in</span>
                   ({{ zL | zR // zcut }}; (..., ...)))
                  plus_inner_subproof0
                  plus_inner_subproof1
                  plus_inner_subproof2
                  plus_inner_subproof3
                  (game_of (yL l))
                  (isno_game_of (yL l))).<span class="mi">1</span> &lt;
               (Core.Surreals.No_ind_internal
                  (<span class="kr">fun</span> <span class="nv">y</span> : GenNo S =&gt;
                   {x_plus_y : No &amp;
                   (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                    (xL_plus l0).<span class="mi">1</span> y &lt; x_plus_y) *
                   (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                    x_plus_y &lt; (xR_plus r0).<span class="mi">1</span> y)})
                  (<span class="kr">fun</span> (<span class="nv">x0</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x0 &lt;= y)
                     (<span class="nv">z</span> : {x_plus_y : No &amp;
                          (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                           ....<span class="mi">1</span> x0 &lt; x_plus_y) *
                          (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                           x_plus_y &lt; ....<span class="mi">1</span> x0)})
                     (<span class="nv">w</span> : {x_plus_y : No &amp;
                          (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                           ....<span class="mi">1</span> y &lt; x_plus_y) *
                          (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                           x_plus_y &lt; ....<span class="mi">1</span> y)}) =&gt;
                   z.<span class="mi">1</span> &lt;= w.<span class="mi">1</span>)
                  (<span class="kr">fun</span> (<span class="nv">x0</span> <span class="nv">y</span> : GenNo S) (<span class="nv">_</span> : x0 &lt; y)
                     (<span class="nv">z</span> : {x_plus_y : No &amp;
                          (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                           ....<span class="mi">1</span> x0 &lt; x_plus_y) *
                          (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                           x_plus_y &lt; ....<span class="mi">1</span> x0)})
                     (<span class="nv">w</span> : {x_plus_y : No &amp;
                          (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                           ....<span class="mi">1</span> y &lt; x_plus_y) *
                          (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                           x_plus_y &lt; ....<span class="mi">1</span> y)}) =&gt;
                   z.<span class="mi">1</span> &lt; w.<span class="mi">1</span>)
                  (<span class="kr">fun</span> (<span class="nv">L&#39;</span> <span class="nv">R&#39;</span> : <span class="kt">Type</span>)
                     (<span class="nv">s</span> : InSort S L&#39; R&#39;)
                     (<span class="nv">yL</span> : L&#39; -&gt; GenNo S)
                     (<span class="nv">yR</span> : R&#39; -&gt; GenNo S)
                     (<span class="nv">ycut</span> : <span class="kr">forall</span> (<span class="nv">l0</span> : L&#39;)
                             (<span class="nv">r0</span> : R&#39;), yL l0 &lt; yR r0)
                     (<span class="nv">x_plus_yL</span> : <span class="kr">forall</span> <span class="nv">l0</span> : L&#39;,
                                  {x_plus_y : No &amp;
                                  (<span class="kr">forall</span> <span class="nv">l1</span> : L,
                                   ... &lt; x_plus_y) *
                                  (<span class="kr">forall</span> <span class="nv">r0</span> : R,
                                   x_plus_y &lt; ...)})
                     (<span class="nv">x_plus_yR</span> : <span class="kr">forall</span> <span class="nv">r0</span> : R&#39;,
                                  {x_plus_y : No &amp;
                                  (<span class="kr">forall</span> <span class="nv">l0</span> : L,
                                   ... &lt; x_plus_y) *
                                  (<span class="kr">forall</span> <span class="nv">r1</span> : R,
                                   x_plus_y &lt; ...)})
                     (<span class="nv">x_plus_yL_lt_yR</span> : <span class="kr">forall</span>
                                        (<span class="nv">l0</span> : L&#39;)
                                        (<span class="nv">r0</span> : R&#39;),
                                        (x_plus_yL l0).<span class="mi">1</span> &lt;
                                        (x_plus_yR r0).<span class="mi">1</span>)
                   =&gt;
                   <span class="kr">let</span> <span class="nv">L&#39;&#39;</span> := L + L&#39; <span class="kr">in</span>
                   <span class="kr">let</span> <span class="nv">R&#39;&#39;</span> := R + R&#39; <span class="kr">in</span>
                   <span class="kr">let</span> <span class="nv">zL</span> :=
                     sum_ind (<span class="kr">fun</span> ... =&gt; No)
                       (<span class="kr">fun</span> ... =&gt;
                        ....<span class="mi">1</span> {{ yL | yR // ycut }})
                       (<span class="kr">fun</span> ... =&gt; (...).<span class="mi">1</span>) <span class="kr">in</span>
                   <span class="kr">let</span> <span class="nv">zR</span> :=
                     sum_ind (... =&gt; No) (... =&gt; ...)
                       (... =&gt; ....<span class="mi">1</span>) <span class="kr">in</span>
                   <span class="kr">let</span> <span class="nv">zcut</span> :=
                     plus_inner_subproof L&#39; R&#39; s yL yR
                       ycut x_plus_yL x_plus_yR
                       x_plus_yL_lt_yR <span class="kr">in</span>
                   <span class="kr">let</span> <span class="nv">X</span> := sum_options L R L&#39; R&#39; Sx s
                     <span class="kr">in</span>
                   ({{ zL | zR // zcut }}; (..., ...)))
                  plus_inner_subproof0
                  plus_inner_subproof1
                  plus_inner_subproof2
                  plus_inner_subproof3
                  (game_of (yR r))
                  (isno_game_of (yR r))).<span class="mi">1</span>)
          <span class="kr">with</span>
          <span class="kr">end</span>))
|} =
{|
  game_of :=
    opt (L + L&#39;) (R + R&#39;)
      (sum_options L R L&#39; R&#39; Sx Sy)
      (<span class="kr">fun</span> <span class="nv">x</span> : L + L&#39; =&gt;
       game_of
         (sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + L&#39; =&gt; No)
            (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt;
             (xL_plus l).<span class="mi">1</span> {{ yL | yR // ycut }})
            (<span class="kr">fun</span> <span class="nv">l</span> : L&#39; =&gt; (plus_inner.<span class="mi">1</span> (yL l)).<span class="mi">1</span>) x))
      (<span class="kr">fun</span> <span class="nv">x</span> : R + R&#39; =&gt;
       game_of
         (sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + R&#39; =&gt; No)
            (<span class="kr">fun</span> <span class="nv">r</span> : R =&gt;
             (xR_plus r).<span class="mi">1</span> {{ yL | yR // ycut }})
            (<span class="kr">fun</span> <span class="nv">r</span> : R&#39; =&gt; (plus_inner.<span class="mi">1</span> (yR r)).<span class="mi">1</span>) x));
  isno_game_of :=
    isno (L + L&#39;) (R + R&#39;)
      (sum_options L R L&#39; R&#39; Sx Sy)
      (<span class="kr">fun</span> <span class="nv">x</span> : L + L&#39; =&gt;
       game_of
         (sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + L&#39; =&gt; No)
            (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt;
             (xL_plus l).<span class="mi">1</span> {{ yL | yR // ycut }})
            (<span class="kr">fun</span> <span class="nv">l</span> : L&#39; =&gt; (plus_inner.<span class="mi">1</span> (yL l)).<span class="mi">1</span>) x))
      (<span class="kr">fun</span> <span class="nv">x</span> : R + R&#39; =&gt;
       game_of
         (sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + R&#39; =&gt; No)
            (<span class="kr">fun</span> <span class="nv">r</span> : R =&gt;
             (xR_plus r).<span class="mi">1</span> {{ yL | yR // ycut }})
            (<span class="kr">fun</span> <span class="nv">r</span> : R&#39; =&gt; (plus_inner.<span class="mi">1</span> (yR r)).<span class="mi">1</span>) x))
      (<span class="kr">fun</span> <span class="nv">x</span> : L + L&#39; =&gt;
       isno_game_of
         (sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + L&#39; =&gt; No)
            (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt;
             (xL_plus l).<span class="mi">1</span> {{ yL | yR // ycut }})
            (<span class="kr">fun</span> <span class="nv">l</span> : L&#39; =&gt; (plus_inner.<span class="mi">1</span> (yL l)).<span class="mi">1</span>) x))
      (<span class="kr">fun</span> <span class="nv">x</span> : R + R&#39; =&gt;
       isno_game_of
         (sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + R&#39; =&gt; No)
            (<span class="kr">fun</span> <span class="nv">r</span> : R =&gt;
             (xR_plus r).<span class="mi">1</span> {{ yL | yR // ycut }})
            (<span class="kr">fun</span> <span class="nv">r</span> : R&#39; =&gt; (plus_inner.<span class="mi">1</span> (yR r)).<span class="mi">1</span>) x))
      <span class="nl">?zcut</span>
|}</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">End</span> <span class="nf">Inner</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk26"><span class="highlight"><span class="kn">Definition</span> <span class="nf">plus_outer</span>
  : { f : No -&gt; { g : No -&gt; No &amp;
                  (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span>, x &lt;= y -&gt; g x &lt;= g y) *
                  (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span>, x &lt;  y -&gt; g x &lt;  g y) } &amp;
      (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span>, x &lt;= y -&gt; <span class="kr">forall</span> <span class="nv">z</span>, (f x).<span class="mi">1</span> z &lt;= (f y).<span class="mi">1</span> z) *
      (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span>, x &lt;  y -&gt; <span class="kr">forall</span> <span class="nv">z</span>, (f x).<span class="mi">1</span> z &lt;  (f y).<span class="mi">1</span> z) }.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{f
: No -&gt;
  {g : No -&gt; No &amp;
  (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt;= y -&gt; g x &lt;= g y) *
  (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt; y -&gt; g x &lt; g y)} &amp;
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S,
 x &lt;= y -&gt; <span class="kr">forall</span> <span class="nv">z</span> : No, (f x).<span class="mi">1</span> z &lt;= (f y).<span class="mi">1</span> z) *
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S,
 x &lt; y -&gt; <span class="kr">forall</span> <span class="nv">z</span> : No, (f x).<span class="mi">1</span> z &lt; (f y).<span class="mi">1</span> z)}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk27" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk27"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{f
: No -&gt;
  {g : No -&gt; No &amp;
  (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt;= y -&gt; g x &lt;= g y) *
  (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt; y -&gt; g x &lt; g y)} &amp;
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S,
 x &lt;= y -&gt; <span class="kr">forall</span> <span class="nv">z</span> : No, (f x).<span class="mi">1</span> z &lt;= (f y).<span class="mi">1</span> z) *
(<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S,
 x &lt; y -&gt; <span class="kr">forall</span> <span class="nv">z</span> : No, (f x).<span class="mi">1</span> z &lt; (f y).<span class="mi">1</span> z)}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk28"><span class="highlight"><span class="nb">refine</span> (No_rec_package
              {g : No -&gt; No &amp;
                (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span>, x &lt;= y -&gt; g x &lt;= g y) *
                (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span>, x &lt;  y -&gt; g x &lt;  g y) }
              (<span class="kr">fun</span> <span class="nv">g</span> <span class="nv">h</span> =&gt; <span class="kr">forall</span> <span class="nv">x</span>, g.<span class="mi">1</span> x &lt;= h.<span class="mi">1</span> x)
              (<span class="kr">fun</span> <span class="nv">g</span> <span class="nv">h</span> =&gt; <span class="kr">forall</span> <span class="nv">x</span>, g.<span class="mi">1</span> x &lt;  h.<span class="mi">1</span> x)
              (<span class="kr">fun</span> <span class="nv">L</span> <span class="nv">R</span> <span class="nv">Sx</span> <span class="nv">xL</span> <span class="nv">xR</span> <span class="nv">xcut</span> <span class="nv">xL_plus</span> <span class="nv">xR_plus</span> <span class="nv">xL_lt_xR_plus</span> =&gt;
                 <span class="kr">let</span> <span class="nv">g</span> := plus_inner xL_plus xR_plus xL_lt_xR_plus <span class="kr">in</span>
                 ((<span class="kr">fun</span> <span class="nv">y</span> =&gt; (g.<span class="mi">1</span> y).<span class="mi">1</span>) ; (g.<span class="mi">2</span>)))
               _ _ _ _).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span>
<span class="nv">a</span>
 <span class="nv">b</span> : {g : No -&gt; No &amp;
     (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt;= y -&gt; g x &lt;= g y) *
     (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt; y -&gt; g x &lt; g y)},
(<span class="kr">forall</span> <span class="nv">x</span> : No, a.<span class="mi">1</span> x &lt;= b.<span class="mi">1</span> x) -&gt;
(<span class="kr">forall</span> <span class="nv">x</span> : No, b.<span class="mi">1</span> x &lt;= a.<span class="mi">1</span> x) -&gt; a = b</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="addition-v-chk29" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="addition-v-chk29"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">L</span> <span class="nv">R</span> : <span class="kt">Type</span>) (<span class="nv">s</span> : InSort S L R)
(<span class="nv">xL</span> : L -&gt; GenNo S) (<span class="nv">xR</span> : R -&gt; GenNo S)
(<span class="nv">xcut</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r)
(<span class="nv">fxL</span> : L -&gt;
       {g : No -&gt; No &amp;
       (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt;= y -&gt; g x &lt;= g y) *
       (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt; y -&gt; g x &lt; g y)})
(<span class="nv">fxR</span> : R -&gt;
       {g : No -&gt; No &amp;
       (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt;= y -&gt; g x &lt;= g y) *
       (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt; y -&gt; g x &lt; g y)})
(<span class="nv">fxcut</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R) (<span class="nv">x</span> : No),
         (fxL l).<span class="mi">1</span> x &lt; (fxR r).<span class="mi">1</span> x) (<span class="nv">L&#39;</span> <span class="nv">R&#39;</span> : <span class="kt">Type</span>)
(<span class="nv">s&#39;</span> : InSort S L&#39; R&#39;) (<span class="nv">yL</span> : L&#39; -&gt; GenNo S)
(<span class="nv">yR</span> : R&#39; -&gt; GenNo S)
(<span class="nv">ycut</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;), yL l &lt; yR r)
(<span class="nv">fyL</span> : L&#39; -&gt;
       {g : No -&gt; No &amp;
       (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt;= y -&gt; g x &lt;= g y) *
       (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt; y -&gt; g x &lt; g y)})
(<span class="nv">fyR</span> : R&#39; -&gt;
       {g : No -&gt; No &amp;
       (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt;= y -&gt; g x &lt;= g y) *
       (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt; y -&gt; g x &lt; g y)})
(<span class="nv">fycut</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;) (<span class="nv">x</span> : No),
         (fyL l).<span class="mi">1</span> x &lt; (fyR r).<span class="mi">1</span> x),
(<span class="kr">forall</span> <span class="nv">l</span> : L, xL l &lt; {{ yL | yR // ycut }}) -&gt;
(<span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">x</span> : No),
 (fxL l).<span class="mi">1</span> x &lt;
 (<span class="kr">let</span> <span class="nv">g</span> := plus_inner fyL fyR fycut <span class="kr">in</span>
  (<span class="kr">fun</span> <span class="nv">y</span> : No =&gt; (g.<span class="mi">1</span> y).<span class="mi">1</span>; g.<span class="mi">2</span>)).<span class="mi">1</span> x) -&gt;
(<span class="kr">forall</span> <span class="nv">r</span> : R&#39;, {{ xL | xR // xcut }} &lt; yR r) -&gt;
(<span class="kr">forall</span> (<span class="nv">r</span> : R&#39;) (<span class="nv">x</span> : No),
 (<span class="kr">let</span> <span class="nv">g</span> := plus_inner fxL fxR fxcut <span class="kr">in</span>
  (<span class="kr">fun</span> <span class="nv">y</span> : No =&gt; (g.<span class="mi">1</span> y).<span class="mi">1</span>; g.<span class="mi">2</span>)).<span class="mi">1</span> x &lt; (fyR r).<span class="mi">1</span> x) -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : No,
(<span class="kr">let</span> <span class="nv">g</span> := plus_inner fxL fxR fxcut <span class="kr">in</span>
 (<span class="kr">fun</span> <span class="nv">y</span> : No =&gt; (g.<span class="mi">1</span> y).<span class="mi">1</span>; g.<span class="mi">2</span>)).<span class="mi">1</span> x &lt;=
(<span class="kr">let</span> <span class="nv">g</span> := plus_inner fyL fyR fycut <span class="kr">in</span>
 (<span class="kr">fun</span> <span class="nv">y</span> : No =&gt; (g.<span class="mi">1</span> y).<span class="mi">1</span>; g.<span class="mi">2</span>)).<span class="mi">1</span> x</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="addition-v-chk2a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="addition-v-chk2a"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">L</span> <span class="nv">R</span> : <span class="kt">Type</span>) (<span class="nv">s</span> : InSort S L R)
(<span class="nv">xL</span> : L -&gt; GenNo S) (<span class="nv">xR</span> : R -&gt; GenNo S)
(<span class="nv">xcut</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r)
(<span class="nv">fxL</span> : L -&gt;
       {g : No -&gt; No &amp;
       (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt;= y -&gt; g x &lt;= g y) *
       (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt; y -&gt; g x &lt; g y)})
(<span class="nv">fxR</span> : R -&gt;
       {g : No -&gt; No &amp;
       (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt;= y -&gt; g x &lt;= g y) *
       (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt; y -&gt; g x &lt; g y)})
(<span class="nv">fxcut</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R) (<span class="nv">x</span> : No),
         (fxL l).<span class="mi">1</span> x &lt; (fxR r).<span class="mi">1</span> x) (<span class="nv">L&#39;</span> <span class="nv">R&#39;</span> : <span class="kt">Type</span>)
(<span class="nv">s&#39;</span> : InSort S L&#39; R&#39;) (<span class="nv">yL</span> : L&#39; -&gt; GenNo S)
(<span class="nv">yR</span> : R&#39; -&gt; GenNo S),
(<span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;), yL l &lt; yR r) -&gt;
<span class="kr">forall</span>
(<span class="nv">fyL</span> : L&#39; -&gt;
       {g : No -&gt; No &amp;
       (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt;= y -&gt; g x &lt;= g y) *
       (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt; y -&gt; g x &lt; g y)})
(<span class="nv">fyR</span> : R&#39; -&gt;
       {g : No -&gt; No &amp;
       (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt;= y -&gt; g x &lt;= g y) *
       (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt; y -&gt; g x &lt; g y)})
(<span class="nv">fycut</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;) (<span class="nv">x</span> : No),
         (fyL l).<span class="mi">1</span> x &lt; (fyR r).<span class="mi">1</span> x) (<span class="nv">l</span> : L&#39;),
{{ xL | xR // xcut }} &lt;= yL l -&gt;
(<span class="kr">forall</span> <span class="nv">x</span> : No,
 (<span class="kr">let</span> <span class="nv">g</span> := plus_inner fxL fxR fxcut <span class="kr">in</span>
  (<span class="kr">fun</span> <span class="nv">y</span> : No =&gt; (g.<span class="mi">1</span> y).<span class="mi">1</span>; g.<span class="mi">2</span>)).<span class="mi">1</span> x &lt;= (fyL l).<span class="mi">1</span> x) -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : No,
(<span class="kr">let</span> <span class="nv">g</span> := plus_inner fxL fxR fxcut <span class="kr">in</span>
 (<span class="kr">fun</span> <span class="nv">y</span> : No =&gt; (g.<span class="mi">1</span> y).<span class="mi">1</span>; g.<span class="mi">2</span>)).<span class="mi">1</span> x &lt;
(<span class="kr">let</span> <span class="nv">g</span> := plus_inner fyL fyR fycut <span class="kr">in</span>
 (<span class="kr">fun</span> <span class="nv">y</span> : No =&gt; (g.<span class="mi">1</span> y).<span class="mi">1</span>; g.<span class="mi">2</span>)).<span class="mi">1</span> x</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="addition-v-chk2b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="addition-v-chk2b"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">L</span> <span class="nv">R</span> : <span class="kt">Type</span>) (<span class="nv">s</span> : InSort S L R)
(<span class="nv">xL</span> : L -&gt; GenNo S) (<span class="nv">xR</span> : R -&gt; GenNo S),
(<span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r) -&gt;
<span class="kr">forall</span>
(<span class="nv">fxL</span> : L -&gt;
       {g : No -&gt; No &amp;
       (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt;= y -&gt; g x &lt;= g y) *
       (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt; y -&gt; g x &lt; g y)})
(<span class="nv">fxR</span> : R -&gt;
       {g : No -&gt; No &amp;
       (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt;= y -&gt; g x &lt;= g y) *
       (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt; y -&gt; g x &lt; g y)})
(<span class="nv">fxcut</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R) (<span class="nv">x</span> : No),
         (fxL l).<span class="mi">1</span> x &lt; (fxR r).<span class="mi">1</span> x) (<span class="nv">L&#39;</span> <span class="nv">R&#39;</span> : <span class="kt">Type</span>)
(<span class="nv">s&#39;</span> : InSort S L&#39; R&#39;) (<span class="nv">yL</span> : L&#39; -&gt; GenNo S)
(<span class="nv">yR</span> : R&#39; -&gt; GenNo S)
(<span class="nv">ycut</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;), yL l &lt; yR r)
(<span class="nv">fyL</span> : L&#39; -&gt;
       {g : No -&gt; No &amp;
       (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt;= y -&gt; g x &lt;= g y) *
       (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt; y -&gt; g x &lt; g y)})
(<span class="nv">fyR</span> : R&#39; -&gt;
       {g : No -&gt; No &amp;
       (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt;= y -&gt; g x &lt;= g y) *
       (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt; y -&gt; g x &lt; g y)})
(<span class="nv">fycut</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;) (<span class="nv">x</span> : No),
         (fyL l).<span class="mi">1</span> x &lt; (fyR r).<span class="mi">1</span> x) (<span class="nv">r</span> : R),
xR r &lt;= {{ yL | yR // ycut }} -&gt;
(<span class="kr">forall</span> <span class="nv">x</span> : No,
 (fxR r).<span class="mi">1</span> x &lt;=
 (<span class="kr">let</span> <span class="nv">g</span> := plus_inner fyL fyR fycut <span class="kr">in</span>
  (<span class="kr">fun</span> <span class="nv">y</span> : No =&gt; (g.<span class="mi">1</span> y).<span class="mi">1</span>; g.<span class="mi">2</span>)).<span class="mi">1</span> x) -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : No,
(<span class="kr">let</span> <span class="nv">g</span> := plus_inner fxL fxR fxcut <span class="kr">in</span>
 (<span class="kr">fun</span> <span class="nv">y</span> : No =&gt; (g.<span class="mi">1</span> y).<span class="mi">1</span>; g.<span class="mi">2</span>)).<span class="mi">1</span> x &lt;
(<span class="kr">let</span> <span class="nv">g</span> := plus_inner fyL fyR fycut <span class="kr">in</span>
 (<span class="kr">fun</span> <span class="nv">y</span> : No =&gt; (g.<span class="mi">1</span> y).<span class="mi">1</span>; g.<span class="mi">2</span>)).<span class="mi">1</span> x</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk2c" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk2c"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span>
<span class="nv">a</span>
 <span class="nv">b</span> : {g : No -&gt; No &amp;
     (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt;= y -&gt; g x &lt;= g y) *
     (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt; y -&gt; g x &lt; g y)},
(<span class="kr">forall</span> <span class="nv">x</span> : No, a.<span class="mi">1</span> x &lt;= b.<span class="mi">1</span> x) -&gt;
(<span class="kr">forall</span> <span class="nv">x</span> : No, b.<span class="mi">1</span> x &lt;= a.<span class="mi">1</span> x) -&gt; a = b</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kp">abstract</span> (
      <span class="nb">intros</span> [g ?] [h ?] p q;
      <span class="nb">apply</span> path_sigma_hprop; <span class="nb">cbn</span> <span class="kr">in</span> *;
      <span class="nb">apply</span> path_arrow; <span class="nb">intros</span> x;
      <span class="nb">apply</span> path_No; [ <span class="nb">apply</span> p | <span class="nb">apply</span> q ] ).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk2d"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">L</span> <span class="nv">R</span> : <span class="kt">Type</span>) (<span class="nv">s</span> : InSort S L R)
(<span class="nv">xL</span> : L -&gt; GenNo S) (<span class="nv">xR</span> : R -&gt; GenNo S)
(<span class="nv">xcut</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r)
(<span class="nv">fxL</span> : L -&gt;
       {g : No -&gt; No &amp;
       (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt;= y -&gt; g x &lt;= g y) *
       (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt; y -&gt; g x &lt; g y)})
(<span class="nv">fxR</span> : R -&gt;
       {g : No -&gt; No &amp;
       (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt;= y -&gt; g x &lt;= g y) *
       (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt; y -&gt; g x &lt; g y)})
(<span class="nv">fxcut</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R) (<span class="nv">x</span> : No),
         (fxL l).<span class="mi">1</span> x &lt; (fxR r).<span class="mi">1</span> x) (<span class="nv">L&#39;</span> <span class="nv">R&#39;</span> : <span class="kt">Type</span>)
(<span class="nv">s&#39;</span> : InSort S L&#39; R&#39;) (<span class="nv">yL</span> : L&#39; -&gt; GenNo S)
(<span class="nv">yR</span> : R&#39; -&gt; GenNo S)
(<span class="nv">ycut</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;), yL l &lt; yR r)
(<span class="nv">fyL</span> : L&#39; -&gt;
       {g : No -&gt; No &amp;
       (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt;= y -&gt; g x &lt;= g y) *
       (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt; y -&gt; g x &lt; g y)})
(<span class="nv">fyR</span> : R&#39; -&gt;
       {g : No -&gt; No &amp;
       (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt;= y -&gt; g x &lt;= g y) *
       (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt; y -&gt; g x &lt; g y)})
(<span class="nv">fycut</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;) (<span class="nv">x</span> : No),
         (fyL l).<span class="mi">1</span> x &lt; (fyR r).<span class="mi">1</span> x),
(<span class="kr">forall</span> <span class="nv">l</span> : L, xL l &lt; {{ yL | yR // ycut }}) -&gt;
(<span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">x</span> : No),
 (fxL l).<span class="mi">1</span> x &lt;
 (<span class="kr">let</span> <span class="nv">g</span> := plus_inner fyL fyR fycut <span class="kr">in</span>
  (<span class="kr">fun</span> <span class="nv">y</span> : No =&gt; (g.<span class="mi">1</span> y).<span class="mi">1</span>; g.<span class="mi">2</span>)).<span class="mi">1</span> x) -&gt;
(<span class="kr">forall</span> <span class="nv">r</span> : R&#39;, {{ xL | xR // xcut }} &lt; yR r) -&gt;
(<span class="kr">forall</span> (<span class="nv">r</span> : R&#39;) (<span class="nv">x</span> : No),
 (<span class="kr">let</span> <span class="nv">g</span> := plus_inner fxL fxR fxcut <span class="kr">in</span>
  (<span class="kr">fun</span> <span class="nv">y</span> : No =&gt; (g.<span class="mi">1</span> y).<span class="mi">1</span>; g.<span class="mi">2</span>)).<span class="mi">1</span> x &lt; (fyR r).<span class="mi">1</span> x) -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : No,
(<span class="kr">let</span> <span class="nv">g</span> := plus_inner fxL fxR fxcut <span class="kr">in</span>
 (<span class="kr">fun</span> <span class="nv">y</span> : No =&gt; (g.<span class="mi">1</span> y).<span class="mi">1</span>; g.<span class="mi">2</span>)).<span class="mi">1</span> x &lt;=
(<span class="kr">let</span> <span class="nv">g</span> := plus_inner fyL fyR fycut <span class="kr">in</span>
 (<span class="kr">fun</span> <span class="nv">y</span> : No =&gt; (g.<span class="mi">1</span> y).<span class="mi">1</span>; g.<span class="mi">2</span>)).<span class="mi">1</span> x</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kp">abstract</span> (
      <span class="nb">intros</span> L R ? xL xR xcut xL_plus xR_plus xL_lt_xR_plus
           L&#39; R&#39; ? yL yR ycut yL_plus yR_plus yL_lt_yR_plus;
      <span class="nb">intros</span> xL_lt_y xL_lt_y_plus x_lt_yR x_lt_yR_plus z;
      <span class="nb">lazy</span> beta zeta <span class="kr">in</span> *; <span class="nb">cbn</span> [pr1] <span class="kr">in</span> *;
      <span class="nb">pattern</span> z; <span class="nb">refine</span> (No_ind_hprop _ _ z);
      <span class="nb">intros</span> L&#39;&#39; R&#39;&#39; ? zL zR zcut x_le_y_plus_zL x_le_y_plus_zR;
      <span class="nb">destruct</span> (plus_inner_cut xL_plus xR_plus xL_lt_xR_plus
                               zL zR zcut) <span class="kr">as</span> [xzcut p]; <span class="nb">rewrite</span> p;
      <span class="nb">destruct</span> (plus_inner_cut yL_plus yR_plus yL_lt_yR_plus
                               zL zR zcut) <span class="kr">as</span> [yzcut q];<span class="nb">rewrite</span> q;
      <span class="nb">apply</span> le_lr; [ <span class="nb">intros</span> [l|l] | <span class="nb">intros</span> [r|r] ];
      [ <span class="sd">(** x^L + z &lt; y + z *)</span>
        <span class="nb">specialize</span> (xL_lt_y_plus l {{ zL | zR // zcut }});
        <span class="nb">rewrite</span> q <span class="kr">in</span> xL_lt_y_plus;
        <span class="bp">exact</span> xL_lt_y_plus
      | <span class="sd">(** x + z^L &lt; y + z *)</span>
        <span class="nb">refine</span> (le_lt_trans (x_le_y_plus_zL l) _);
        <span class="nb">refine</span> (lt_lopt _ _ _ (inr l))
      | <span class="sd">(** x + z &lt; y^R + z *)</span>
        <span class="nb">specialize</span> (x_lt_yR_plus r {{ zL | zR // zcut }});
        <span class="nb">rewrite</span> p <span class="kr">in</span> x_lt_yR_plus;
        <span class="bp">exact</span> x_lt_yR_plus
      | <span class="sd">(** x + z &lt; y + z^R *)</span>
        <span class="nb">refine</span> (lt_le_trans _ (x_le_y_plus_zR r));
        <span class="nb">refine</span> (lt_ropt _ _ _ (inr r)) ]).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk2e" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk2e"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">L</span> <span class="nv">R</span> : <span class="kt">Type</span>) (<span class="nv">s</span> : InSort S L R)
(<span class="nv">xL</span> : L -&gt; GenNo S) (<span class="nv">xR</span> : R -&gt; GenNo S)
(<span class="nv">xcut</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r)
(<span class="nv">fxL</span> : L -&gt;
       {g : No -&gt; No &amp;
       (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt;= y -&gt; g x &lt;= g y) *
       (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt; y -&gt; g x &lt; g y)})
(<span class="nv">fxR</span> : R -&gt;
       {g : No -&gt; No &amp;
       (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt;= y -&gt; g x &lt;= g y) *
       (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt; y -&gt; g x &lt; g y)})
(<span class="nv">fxcut</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R) (<span class="nv">x</span> : No),
         (fxL l).<span class="mi">1</span> x &lt; (fxR r).<span class="mi">1</span> x) (<span class="nv">L&#39;</span> <span class="nv">R&#39;</span> : <span class="kt">Type</span>)
(<span class="nv">s&#39;</span> : InSort S L&#39; R&#39;) (<span class="nv">yL</span> : L&#39; -&gt; GenNo S)
(<span class="nv">yR</span> : R&#39; -&gt; GenNo S),
(<span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;), yL l &lt; yR r) -&gt;
<span class="kr">forall</span>
(<span class="nv">fyL</span> : L&#39; -&gt;
       {g : No -&gt; No &amp;
       (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt;= y -&gt; g x &lt;= g y) *
       (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt; y -&gt; g x &lt; g y)})
(<span class="nv">fyR</span> : R&#39; -&gt;
       {g : No -&gt; No &amp;
       (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt;= y -&gt; g x &lt;= g y) *
       (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt; y -&gt; g x &lt; g y)})
(<span class="nv">fycut</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;) (<span class="nv">x</span> : No),
         (fyL l).<span class="mi">1</span> x &lt; (fyR r).<span class="mi">1</span> x) (<span class="nv">l</span> : L&#39;),
{{ xL | xR // xcut }} &lt;= yL l -&gt;
(<span class="kr">forall</span> <span class="nv">x</span> : No,
 (<span class="kr">let</span> <span class="nv">g</span> := plus_inner fxL fxR fxcut <span class="kr">in</span>
  (<span class="kr">fun</span> <span class="nv">y</span> : No =&gt; (g.<span class="mi">1</span> y).<span class="mi">1</span>; g.<span class="mi">2</span>)).<span class="mi">1</span> x &lt;= (fyL l).<span class="mi">1</span> x) -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : No,
(<span class="kr">let</span> <span class="nv">g</span> := plus_inner fxL fxR fxcut <span class="kr">in</span>
 (<span class="kr">fun</span> <span class="nv">y</span> : No =&gt; (g.<span class="mi">1</span> y).<span class="mi">1</span>; g.<span class="mi">2</span>)).<span class="mi">1</span> x &lt;
(<span class="kr">let</span> <span class="nv">g</span> := plus_inner fyL fyR fycut <span class="kr">in</span>
 (<span class="kr">fun</span> <span class="nv">y</span> : No =&gt; (g.<span class="mi">1</span> y).<span class="mi">1</span>; g.<span class="mi">2</span>)).<span class="mi">1</span> x</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kp">abstract</span> (
      <span class="nb">intros</span> L R ? xL xR xcut xL_plus xR_plus xL_lt_xR_plus
             L&#39; R&#39; ? yL yR ycut yL_plus yR_plus yL_lt_yR_plus;
      <span class="nb">intros</span> l x_le_yL x_le_yL_plus z;
      <span class="nb">lazy</span> beta zeta <span class="kr">in</span> *; <span class="nb">cbn</span> [pr1] <span class="kr">in</span> *;
      <span class="nb">pattern</span> z; <span class="nb">refine</span> (No_ind_hprop _ _ z);
      <span class="nb">intros</span> L&#39;&#39; R&#39;&#39; ? zL zR zcut x_le_y_plus_zL x_le_y_plus_zR;
      <span class="nb">destruct</span> (plus_inner_cut xL_plus xR_plus xL_lt_xR_plus
                               zL zR zcut) <span class="kr">as</span> [xzcut p]; <span class="nb">rewrite</span> p;
      <span class="nb">destruct</span> (plus_inner_cut yL_plus yR_plus yL_lt_yR_plus
                               zL zR zcut) <span class="kr">as</span> [yzcut q];<span class="nb">rewrite</span> q;
      <span class="nb">refine</span> (le_lt_trans (x_le_yL_plus {{ zL | zR // zcut }}) _);
      <span class="nb">refine</span> (lt_lopt _ _ _ (inl l)) ).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk2f" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk2f"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">L</span> <span class="nv">R</span> : <span class="kt">Type</span>) (<span class="nv">s</span> : InSort S L R)
(<span class="nv">xL</span> : L -&gt; GenNo S) (<span class="nv">xR</span> : R -&gt; GenNo S),
(<span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r) -&gt;
<span class="kr">forall</span>
(<span class="nv">fxL</span> : L -&gt;
       {g : No -&gt; No &amp;
       (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt;= y -&gt; g x &lt;= g y) *
       (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt; y -&gt; g x &lt; g y)})
(<span class="nv">fxR</span> : R -&gt;
       {g : No -&gt; No &amp;
       (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt;= y -&gt; g x &lt;= g y) *
       (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt; y -&gt; g x &lt; g y)})
(<span class="nv">fxcut</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R) (<span class="nv">x</span> : No),
         (fxL l).<span class="mi">1</span> x &lt; (fxR r).<span class="mi">1</span> x) (<span class="nv">L&#39;</span> <span class="nv">R&#39;</span> : <span class="kt">Type</span>)
(<span class="nv">s&#39;</span> : InSort S L&#39; R&#39;) (<span class="nv">yL</span> : L&#39; -&gt; GenNo S)
(<span class="nv">yR</span> : R&#39; -&gt; GenNo S)
(<span class="nv">ycut</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;), yL l &lt; yR r)
(<span class="nv">fyL</span> : L&#39; -&gt;
       {g : No -&gt; No &amp;
       (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt;= y -&gt; g x &lt;= g y) *
       (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt; y -&gt; g x &lt; g y)})
(<span class="nv">fyR</span> : R&#39; -&gt;
       {g : No -&gt; No &amp;
       (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt;= y -&gt; g x &lt;= g y) *
       (<span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span> : GenNo S, x &lt; y -&gt; g x &lt; g y)})
(<span class="nv">fycut</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;) (<span class="nv">x</span> : No),
         (fyL l).<span class="mi">1</span> x &lt; (fyR r).<span class="mi">1</span> x) (<span class="nv">r</span> : R),
xR r &lt;= {{ yL | yR // ycut }} -&gt;
(<span class="kr">forall</span> <span class="nv">x</span> : No,
 (fxR r).<span class="mi">1</span> x &lt;=
 (<span class="kr">let</span> <span class="nv">g</span> := plus_inner fyL fyR fycut <span class="kr">in</span>
  (<span class="kr">fun</span> <span class="nv">y</span> : No =&gt; (g.<span class="mi">1</span> y).<span class="mi">1</span>; g.<span class="mi">2</span>)).<span class="mi">1</span> x) -&gt;
<span class="kr">forall</span> <span class="nv">x</span> : No,
(<span class="kr">let</span> <span class="nv">g</span> := plus_inner fxL fxR fxcut <span class="kr">in</span>
 (<span class="kr">fun</span> <span class="nv">y</span> : No =&gt; (g.<span class="mi">1</span> y).<span class="mi">1</span>; g.<span class="mi">2</span>)).<span class="mi">1</span> x &lt;
(<span class="kr">let</span> <span class="nv">g</span> := plus_inner fyL fyR fycut <span class="kr">in</span>
 (<span class="kr">fun</span> <span class="nv">y</span> : No =&gt; (g.<span class="mi">1</span> y).<span class="mi">1</span>; g.<span class="mi">2</span>)).<span class="mi">1</span> x</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kp">abstract</span> (
      <span class="nb">intros</span> L R ? xL xR xcut xL_plus xR_plus xL_lt_xR_plus
             L&#39; R&#39; ? yL yR ycut yL_plus yR_plus yL_lt_yR_plus;
      <span class="nb">intros</span> r xR_le_y xR_le_y_plus z;
      <span class="nb">lazy</span> beta zeta <span class="kr">in</span> *; <span class="nb">cbn</span> [pr1] <span class="kr">in</span> *;
      <span class="nb">pattern</span> z; <span class="nb">refine</span> (No_ind_hprop _ _ z);
      <span class="nb">intros</span> L&#39;&#39; R&#39;&#39; ? zL zR zcut x_le_y_plus_zL x_le_y_plus_zR;
      <span class="nb">destruct</span> (plus_inner_cut xL_plus xR_plus xL_lt_xR_plus
                               zL zR zcut) <span class="kr">as</span> [xzcut p]; <span class="nb">rewrite</span> p;
      <span class="nb">destruct</span> (plus_inner_cut yL_plus yR_plus yL_lt_yR_plus
                               zL zR zcut) <span class="kr">as</span> [yzcut q];<span class="nb">rewrite</span> q;
      <span class="nb">refine</span> (lt_le_trans _ (xR_le_y_plus {{ zL | zR // zcut }}));
      <span class="nb">refine</span> (lt_ropt _ _ _ (inl r)) ).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Defined</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">plus</span> (<span class="nv">x</span> <span class="nv">y</span> : No) : No
    := (plus_outer.<span class="mi">1</span> x).<span class="mi">1</span> y.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Infix</span> <span class="s2">&quot;+&quot;</span> := plus : surreal_scope.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">plus_le_l</span> (<span class="nv">x</span> <span class="nv">x&#39;</span> <span class="nv">y</span> : No) (<span class="nv">p</span> : x &lt;= x&#39;)
  : (x + y) &lt;= (x&#39; + y)
    := fst (plus_outer.<span class="mi">2</span>) x x&#39; p y.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">plus_lt_l</span> (<span class="nv">x</span> <span class="nv">x&#39;</span> <span class="nv">y</span> : No) (<span class="nv">p</span> : x &lt; x&#39;)
  : (x + y) &lt; (x&#39; + y)
    := snd (plus_outer.<span class="mi">2</span>) x x&#39; p y.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">plus_le_r</span> (<span class="nv">x</span> <span class="nv">y</span> <span class="nv">y&#39;</span> : No) (<span class="nv">p</span> : y &lt;= y&#39;)
  : (x + y) &lt;= (x + y&#39;)
    := fst (plus_outer.<span class="mi">1</span> x).<span class="mi">2</span> y y&#39; p.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">plus_lt_r</span> (<span class="nv">x</span> <span class="nv">y</span> <span class="nv">y&#39;</span> : No) (<span class="nv">p</span> : y &lt; y&#39;)
  : (x + y) &lt; (x + y&#39;)
    := snd (plus_outer.<span class="mi">1</span> x).<span class="mi">2</span> y y&#39; p.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
  <span class="sd">(** See the remarks above [plus_inner_cut] to explain the type of this lemma. *)</span>
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">plus_cut</span>
             {<span class="nv">L</span> <span class="nv">R</span> : <span class="kt">Type</span>@{i} } {<span class="nv">Sx</span> : InSort@{i} S L R}
             (<span class="nv">xL</span> : L -&gt; No) (<span class="nv">xR</span> : R -&gt; No)
             (<span class="nv">xcut</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r)
             {<span class="nv">L&#39;</span> <span class="nv">R&#39;</span> : <span class="kt">Type</span>@{i} } {<span class="nv">Sy</span> : InSort@{i} S L&#39; R&#39;}
             (<span class="nv">yL</span> : L&#39; -&gt; No) (<span class="nv">yR</span> : R&#39; -&gt; No)
             (<span class="nv">ycut</span> : <span class="kr">forall</span> (<span class="nv">l</span> : L&#39;) (<span class="nv">r</span> : R&#39;), yL l &lt; yR r)
  : <span class="kr">let</span> <span class="nv">L&#39;&#39;</span> := (L + L&#39;)%type <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">R&#39;&#39;</span> := (R + R&#39;)%type <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">x</span> := {{ xL | xR // xcut }} <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">y</span> := {{ yL | yR // ycut }} <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">zL</span> := sum_ind (<span class="kr">fun</span> <span class="nv">_</span> =&gt; No)
                      (<span class="kr">fun</span> <span class="nv">l</span> =&gt; (xL l) + y) (<span class="kr">fun</span> <span class="nv">l</span> =&gt; x + (yL l))
              : L&#39;&#39; -&gt; No <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">zR</span> := sum_ind (<span class="kr">fun</span> <span class="nv">_</span> =&gt; No)
                      (<span class="kr">fun</span> <span class="nv">r</span> =&gt; (xR r) + y) (<span class="kr">fun</span> <span class="nv">r</span> =&gt; x + (yR r))
              : R&#39;&#39; -&gt; No <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">Sz</span> := sum_options L R L&#39; R&#39; _ _ <span class="kr">in</span>
    { zcut : <span class="kr">forall</span> (<span class="nv">l</span>:L&#39;&#39;) (<span class="nv">r</span>:R&#39;&#39;), zL l &lt; zR r &amp;
      x + y = @No_cut _ _ _ Sz zL zR zcut }
    := plus_inner_cut (Sx := Sx)
         (<span class="kr">fun</span> <span class="nv">l</span> =&gt; plus_outer.<span class="mi">1</span> (xL l))
         (<span class="kr">fun</span> <span class="nv">r</span> =&gt; plus_outer.<span class="mi">1</span> (xR r))
         (<span class="kr">fun</span> <span class="nv">l</span> <span class="nv">r</span> =&gt; snd plus_outer.<span class="mi">2</span> (xL l) (xR r) (xcut l r))
         yL yR ycut.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
  <span class="sd">(** Because the conclusion of [plus_cut] is a sigma-type whose second component is the real equality we want to rewrite along, in order to rewrite along it we have to first destruct it.  This tactic takes care of that for us. *)</span>
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Ltac</span> <span class="nf">do_plus_cut</span> :=
    <span class="kp">repeat</span> <span class="kr">match goal with</span>
    | [ |- <span class="kp">context</span> ctx [ {{ <span class="nl">?xL</span> | <span class="nl">?xR</span> // <span class="nl">?xcut</span> }} + {{ <span class="nl">?yL</span> | <span class="nl">?yR</span> // <span class="nl">?ycut</span> }} ] ] =&gt;
      <span class="kr">let</span> <span class="nv">xycut</span> := <span class="kp">fresh</span> <span class="s2">&quot;cut&quot;</span> <span class="kr">in</span>
      <span class="kr">let</span> <span class="nv">p</span> := <span class="kp">fresh</span> <span class="s2">&quot;p&quot;</span> <span class="kr">in</span>
      <span class="nb">destruct</span> (plus_cut xL xR xcut yL yR ycut) <span class="kr">as</span> [xycut p];
        <span class="nb">rewrite</span> p; <span class="nb">clear</span> p
    <span class="kr">end</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
  <span class="sd">(** Conway proves the basic properties of arithmetic using &quot;one-line proofs&quot;.  We can&#39;t quite do them in one line of Ltac, but the following tactic does help a lot.  Note that it is specific to addition.  It requires the caller to specify the equivalences along which to identify the indexing types for the options, as well as a rewriting tactic for evaluating those equivalences on constructors.  Unfortunately, it doesn&#39;t usually manage to finish the whole proof, since in general it can&#39;t guess how to use the inductive hypotheses.  It&#39;s usually fairly easy to finish all the cases it leaves over, but we do generally have to refer by name to the inductive hypotheses that were automatically named by [intros] here.  I haven&#39;t thought of a good solution to that. *)</span>
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Local</span> <span class="kn">Opaque</span> No_cut plus. <span class="c">(* required to make [rewrite] fail quickly *)</span></span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Local Unset Keyed Unification</span>. <span class="c">(* shaves another second or two off of [rewrite] *)</span></span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Tactic Notation</span> <span class="s2">&quot;one_line_proof&quot;</span> <span class="kp">uconstr</span>(eL) <span class="kp">uconstr</span>(eR) :=
    <span class="nb">unfold</span> No <span class="kr">in</span> *;
    repeat_No_ind_hprop;
    do_plus_cut;
    <span class="nb">refine</span> (path_No_easy _ _ _ _ eL eR _ _ _ _);
    <span class="nb">intros</span>;
    <span class="kp">repeat</span> <span class="kr">match goal with</span>
           | [ H : (<span class="nl">?A</span> + <span class="nl">?B</span>)%type |- _ ] =&gt; <span class="nb">destruct</span> H
           <span class="kr">end</span>;
    <span class="kp">repeat</span> <span class="kr">match goal with</span>
           | [ |- <span class="kp">context</span>[@equiv_fun <span class="nl">?A</span> <span class="nl">?B</span> <span class="nl">?e</span> <span class="nl">?v</span>] ]
             =&gt; <span class="c">(* first check that we picked up either [eL] or [eR]; we can&#39;t use [unify] because it doesn&#39;t infer holes, and we can&#39;t Ltac-match on [eL] / [eR] because apparently matching on uconstr doesn&#39;t work when there are holes in the uconstr *)</span>
             <span class="kp">first</span> [ <span class="kr">let</span> <span class="nv">unif</span> := <span class="kp">constr</span>:(idpath : e = eL) <span class="kr">in</span> <span class="kp">idtac</span>
                   | <span class="kr">let</span> <span class="nv">unif</span> := <span class="kp">constr</span>:(idpath : e = eR) <span class="kr">in</span> <span class="kp">idtac</span> ];
             <span class="c">(* assume that the term reduces to a constructor; use [hnf] to get that constructor *)</span>
             <span class="kr">let</span> <span class="nv">ef</span> := <span class="kp">constr</span>:(@equiv_fun A B e v) <span class="kr">in</span>
             <span class="kr">let</span> <span class="nv">ef&#39;</span> := (<span class="kp">eval</span> <span class="nb">hnf</span> <span class="kr">in</span> ef) <span class="kr">in</span>
             <span class="kp">progress</span> <span class="nb">change</span> ef <span class="kr">with</span> ef&#39;
           <span class="kr">end</span>;
    <span class="kp">repeat</span> <span class="nb">cbn</span> [sum_ind];
    <span class="c">(* rewrite with induction hypotheses from [repeat_No_ind_hprop] and [do_plus_cut] *)</span>
    <span class="kp">repeat</span> <span class="kr">match goal with</span>
           | [ |- <span class="nl">?x</span> = <span class="nl">?x</span> ] =&gt; <span class="bp">reflexivity</span>
           | [ |- <span class="nl">?a</span> + _ = <span class="nl">?a</span> + _ ] =&gt; <span class="nb">apply</span> ap
           | [ |- _ + <span class="nl">?a</span> = _ + <span class="nl">?a</span> ] =&gt; <span class="nb">apply</span> (ap (<span class="kr">fun</span> <span class="nv">x</span> =&gt; x + a))
           | [ e : Empty |- _ ] =&gt; <span class="nb">elim</span> e
           | [ IH : (<span class="kr">forall</span> <span class="nv">lr</span>, _ + _ = _) |- _ ]
             =&gt; <span class="nb">rewrite</span> IH; <span class="nb">clear</span> IH
           | [ IH : (<span class="kr">forall</span> <span class="nv">lr</span>, _ + _ = _ + _) |- _ ]
             =&gt; <span class="kp">first</span> [ <span class="nb">rewrite</span> IH | <span class="nb">rewrite</span> &lt;- IH ]; <span class="nb">clear</span> IH
           | [ IH : (<span class="kr">forall</span> <span class="nv">lr</span> (<span class="nv">y</span> : GenNo _), _ + _ = _ + _) |- _ ]
             =&gt; <span class="kp">first</span> [ <span class="nb">rewrite</span> IH | <span class="nb">rewrite</span> &lt;- IH ]; <span class="nb">clear</span> IH
           | [ IH : (<span class="kr">forall</span> <span class="nv">lr</span> (<span class="nv">y</span> <span class="nv">z</span> : GenNo _), _ + _ = _ + _) |- _ ]
             =&gt; <span class="kp">first</span> [ <span class="nb">rewrite</span> IH | <span class="nb">rewrite</span> &lt;- IH ]; <span class="nb">clear</span> IH
           <span class="kr">end</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
  <span class="sd">(** At last we are ready to prove that the surreal numbers are a commutative monoid under addition. *)</span>

</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk30"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">plus_comm</span> (<span class="nv">x</span> <span class="nv">y</span> : No) : x + y = y + x.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">No</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">x + y = y + x</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk31"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">No</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">x + y = y + x</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight">one_line_proof (equiv_sum_symm _ _) (equiv_sum_symm _ _).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Defined</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk32" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk32"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">plus_assoc</span> (<span class="nv">x</span> <span class="nv">y</span> <span class="nv">z</span> : No) : (x + y) + z = x + (y + z).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, y, z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">No</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">x + y + z = x + (y + z)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk33" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk33"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x, y, z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">No</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">x + y + z = x + (y + z)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight">one_line_proof (equiv_sum_assoc _ _ _) (equiv_sum_assoc _ _ _);
      one_line_proof <span class="mi">1</span>%equiv <span class="mi">1</span>%equiv.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Defined</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk34" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk34"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">plus_zero</span> (<span class="nv">x</span> : No) : x + zero = x.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">No</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">x + zero = x</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk35"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">No</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">x + zero = x</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk36"><span class="highlight"><span class="nb">unfold</span> zero.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">No</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">x + {{ Empty_rec | Empty_rec // lempty_cut }} = x</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight">one_line_proof (sum_empty_r _) (sum_empty_r _).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Defined</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk37" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk37"><span class="highlight"><span class="kn">Theorem</span> <span class="nf">zero_plus</span> (<span class="nv">x</span> : No) : zero + x = x.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">No</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">zero + x = x</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk38" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk38"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">No</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">zero + x = x</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk39" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk39"><span class="highlight"><span class="nb">unfold</span> zero.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">No</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{{ Empty_rec | Empty_rec // lempty_cut }} + x = x</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight">one_line_proof (sum_empty_l _) (sum_empty_l _).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Defined</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
  <span class="sd">(** If we also have negation, we can prove that it gives additive inverses, so that we have an abelian group. *)</span>
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Context</span> `{HasNegation S}.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk3a" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk3a"><span class="highlight"><span class="kn">Definition</span> <span class="nf">plus_negate</span> (<span class="nv">x</span> : No) : x + negate x = zero.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasNegation S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">No</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">x + negate x = zero</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk3b" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk3b"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasNegation S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">No</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">x + negate x = zero</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk3c" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk3c"><span class="highlight"><span class="nb">unfold</span> No <span class="kr">in</span> *;
    repeat_No_ind_hprop;
    <span class="nb">destruct</span> (negate_cut xL xR xcut) <span class="kr">as</span> [nxcut p];
    <span class="nb">rewrite</span> p; <span class="nb">clear</span> p;
    do_plus_cut.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasNegation S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L, R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : L, xL l + negate (xL l) = zero</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">r</span> : R, xR r + negate (xR r) = zero</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nxcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">r</span> : R) (<span class="nv">l</span> : L),
negate (xR r) &lt; negate (xL l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L + R) (<span class="nv">r</span> : R + L),
sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + R =&gt; No)
  (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt;
   xL l0 +
   {{ <span class="kr">fun</span> <span class="nv">r0</span> : R =&gt; negate (xR r0) | 
   (<span class="kr">fun</span> <span class="nv">l1</span> : L =&gt; negate (xL l1)) // nxcut }})
  (<span class="kr">fun</span> <span class="nv">l0</span> : R =&gt;
   {{ xL | xR // xcut }} + negate (xR l0)) l &lt;
sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + L =&gt; No)
  (<span class="kr">fun</span> <span class="nv">r0</span> : R =&gt;
   xR r0 +
   {{ <span class="kr">fun</span> <span class="nv">r1</span> : R =&gt; negate (xR r1) | 
   (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt; negate (xL l0)) // nxcut }})
  (<span class="kr">fun</span> <span class="nv">r0</span> : L =&gt;
   {{ xL | xR // xcut }} + negate (xL r0)) r</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{{ sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + R =&gt; No)
     (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt;
      xL l +
      {{ <span class="kr">fun</span> <span class="nv">r</span> : R =&gt; negate (xR r) | (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt;
                                       negate (xL l0)) // nxcut }})
     (<span class="kr">fun</span> <span class="nv">l</span> : R =&gt;
      {{ xL | xR // xcut }} + negate (xR l)) | sum_ind
                                                 (<span class="kr">fun</span>
                                                 <span class="nv">_</span> : 
                                                 R + L
                                                 =&gt; No)
                                                 (<span class="kr">fun</span>
                                                 <span class="nv">r</span> : R
                                                 =&gt;
                                                 xR r +
                                                 {{ 
                                                 <span class="kr">fun</span>
                                                 <span class="nv">r0</span> : R
                                                 =&gt;
                                                 negate
                                                 (xR
                                                 r0) | 
                                                 (<span class="kr">fun</span>
                                                 <span class="nv">l</span> : L
                                                 =&gt;
                                                 negate
                                                 (xL l)) // nxcut }})
                                                 (<span class="kr">fun</span>
                                                 <span class="nv">r</span> : L
                                                 =&gt;
                                                 {{ xL | xR // xcut }} +
                                                 negate
                                                 (xL r)) // <span class="nb">cut</span> }} =
zero</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk3d" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk3d"><span class="highlight"><span class="nb">apply</span> path_No.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasNegation S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L, R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : L, xL l + negate (xL l) = zero</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">r</span> : R, xR r + negate (xR r) = zero</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nxcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">r</span> : R) (<span class="nv">l</span> : L),
negate (xR r) &lt; negate (xL l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L + R) (<span class="nv">r</span> : R + L),
sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + R =&gt; No)
  (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt;
   xL l0 +
   {{ <span class="kr">fun</span> <span class="nv">r0</span> : R =&gt; negate (xR r0) | 
   (<span class="kr">fun</span> <span class="nv">l1</span> : L =&gt; negate (xL l1)) // nxcut }})
  (<span class="kr">fun</span> <span class="nv">l0</span> : R =&gt;
   {{ xL | xR // xcut }} + negate (xR l0)) l &lt;
sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + L =&gt; No)
  (<span class="kr">fun</span> <span class="nv">r0</span> : R =&gt;
   xR r0 +
   {{ <span class="kr">fun</span> <span class="nv">r1</span> : R =&gt; negate (xR r1) | 
   (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt; negate (xL l0)) // nxcut }})
  (<span class="kr">fun</span> <span class="nv">r0</span> : L =&gt;
   {{ xL | xR // xcut }} + negate (xL r0)) r</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{{ sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + R =&gt; No)
     (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt;
      xL l +
      {{ <span class="kr">fun</span> <span class="nv">r</span> : R =&gt; negate (xR r) | (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt;
                                       negate (xL l0)) // nxcut }})
     (<span class="kr">fun</span> <span class="nv">l</span> : R =&gt;
      {{ xL | xR // xcut }} + negate (xR l)) | sum_ind
                                                 (<span class="kr">fun</span>
                                                 <span class="nv">_</span> : 
                                                 R + L
                                                 =&gt; No)
                                                 (<span class="kr">fun</span>
                                                 <span class="nv">r</span> : R
                                                 =&gt;
                                                 xR r +
                                                 {{ 
                                                 <span class="kr">fun</span>
                                                 <span class="nv">r0</span> : R
                                                 =&gt;
                                                 negate
                                                 (xR
                                                 r0) | 
                                                 (<span class="kr">fun</span>
                                                 <span class="nv">l</span> : L
                                                 =&gt;
                                                 negate
                                                 (xL l)) // nxcut }})
                                                 (<span class="kr">fun</span>
                                                 <span class="nv">r</span> : L
                                                 =&gt;
                                                 {{ xL | xR // xcut }} +
                                                 negate
                                                 (xL r)) // <span class="nb">cut</span> }} &lt;=
zero</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="addition-v-chk3e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasNegation S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L, R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : L, xL l + negate (xL l) = zero</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">r</span> : R, xR r + negate (xR r) = zero</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nxcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">r</span> : R) (<span class="nv">l</span> : L),
negate (xR r) &lt; negate (xL l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L + R) (<span class="nv">r</span> : R + L),
sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + R =&gt; No)
  (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt;
   xL l0 +
   {{ <span class="kr">fun</span> <span class="nv">r0</span> : R =&gt; negate (xR r0) | 
   (<span class="kr">fun</span> <span class="nv">l1</span> : L =&gt; negate (xL l1)) // nxcut }})
  (<span class="kr">fun</span> <span class="nv">l0</span> : R =&gt;
   {{ xL | xR // xcut }} + negate (xR l0)) l &lt;
sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + L =&gt; No)
  (<span class="kr">fun</span> <span class="nv">r0</span> : R =&gt;
   xR r0 +
   {{ <span class="kr">fun</span> <span class="nv">r1</span> : R =&gt; negate (xR r1) | 
   (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt; negate (xL l0)) // nxcut }})
  (<span class="kr">fun</span> <span class="nv">r0</span> : L =&gt;
   {{ xL | xR // xcut }} + negate (xL r0)) r</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="addition-v-chk3e"><hr></label><div class="goal-conclusion"><span class="highlight">zero &lt;=
{{ sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + R =&gt; No)
     (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt;
      xL l +
      {{ <span class="kr">fun</span> <span class="nv">r</span> : R =&gt; negate (xR r) | 
      (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt; negate (xL l0)) // nxcut }})
     (<span class="kr">fun</span> <span class="nv">l</span> : R =&gt;
      {{ xL | xR // xcut }} + negate (xR l)) | 
sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + L =&gt; No)
  (<span class="kr">fun</span> <span class="nv">r</span> : R =&gt;
   xR r +
   {{ <span class="kr">fun</span> <span class="nv">r0</span> : R =&gt; negate (xR r0) | 
   (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt; negate (xL l)) // nxcut }})
  (<span class="kr">fun</span> <span class="nv">r</span> : L =&gt; {{ xL | xR // xcut }} + negate (xL r)) // <span class="nb">cut</span> }}</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk3f" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk3f"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasNegation S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L, R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : L, xL l + negate (xL l) = zero</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">r</span> : R, xR r + negate (xR r) = zero</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nxcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">r</span> : R) (<span class="nv">l</span> : L),
negate (xR r) &lt; negate (xL l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L + R) (<span class="nv">r</span> : R + L),
sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + R =&gt; No)
  (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt;
   xL l0 +
   {{ <span class="kr">fun</span> <span class="nv">r0</span> : R =&gt; negate (xR r0) | 
   (<span class="kr">fun</span> <span class="nv">l1</span> : L =&gt; negate (xL l1)) // nxcut }})
  (<span class="kr">fun</span> <span class="nv">l0</span> : R =&gt;
   {{ xL | xR // xcut }} + negate (xR l0)) l &lt;
sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + L =&gt; No)
  (<span class="kr">fun</span> <span class="nv">r0</span> : R =&gt;
   xR r0 +
   {{ <span class="kr">fun</span> <span class="nv">r1</span> : R =&gt; negate (xR r1) | 
   (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt; negate (xL l0)) // nxcut }})
  (<span class="kr">fun</span> <span class="nv">r0</span> : L =&gt;
   {{ xL | xR // xcut }} + negate (xL r0)) r</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{{ sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + R =&gt; No)
     (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt;
      xL l +
      {{ <span class="kr">fun</span> <span class="nv">r</span> : R =&gt; negate (xR r) | (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt;
                                       negate (xL l0)) // nxcut }})
     (<span class="kr">fun</span> <span class="nv">l</span> : R =&gt;
      {{ xL | xR // xcut }} + negate (xR l)) | sum_ind
                                                 (<span class="kr">fun</span>
                                                 <span class="nv">_</span> : 
                                                 R + L
                                                 =&gt; No)
                                                 (<span class="kr">fun</span>
                                                 <span class="nv">r</span> : R
                                                 =&gt;
                                                 xR r +
                                                 {{ 
                                                 <span class="kr">fun</span>
                                                 <span class="nv">r0</span> : R
                                                 =&gt;
                                                 negate
                                                 (xR
                                                 r0) | 
                                                 (<span class="kr">fun</span>
                                                 <span class="nv">l</span> : L
                                                 =&gt;
                                                 negate
                                                 (xL l)) // nxcut }})
                                                 (<span class="kr">fun</span>
                                                 <span class="nv">r</span> : L
                                                 =&gt;
                                                 {{ xL | xR // xcut }} +
                                                 negate
                                                 (xL r)) // <span class="nb">cut</span> }} &lt;=
zero</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk40" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk40"><span class="highlight"><span class="nb">apply</span> le_lr; [ <span class="nb">intros</span> [l|r]; <span class="nb">cbn</span> [sum_ind] | <span class="nb">intros</span> [] ].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasNegation S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L, R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : L, xL l + negate (xL l) = zero</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">r</span> : R, xR r + negate (xR r) = zero</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nxcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">r</span> : R) (<span class="nv">l</span> : L),
negate (xR r) &lt; negate (xL l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L + R) (<span class="nv">r</span> : R + L),
sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + R =&gt; No)
  (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt;
   xL l0 +
   {{ <span class="kr">fun</span> <span class="nv">r0</span> : R =&gt; negate (xR r0) | 
   (<span class="kr">fun</span> <span class="nv">l1</span> : L =&gt; negate (xL l1)) // nxcut }})
  (<span class="kr">fun</span> <span class="nv">l0</span> : R =&gt;
   {{ xL | xR // xcut }} + negate (xR l0)) l &lt;
sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + L =&gt; No)
  (<span class="kr">fun</span> <span class="nv">r0</span> : R =&gt;
   xR r0 +
   {{ <span class="kr">fun</span> <span class="nv">r1</span> : R =&gt; negate (xR r1) | 
   (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt; negate (xL l0)) // nxcut }})
  (<span class="kr">fun</span> <span class="nv">r0</span> : L =&gt;
   {{ xL | xR // xcut }} + negate (xL r0)) r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">xL l +
{{ <span class="kr">fun</span> <span class="nv">r</span> : R =&gt; negate (xR r) | (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt;
                                 negate (xL l)) // nxcut }} &lt;
{{ Empty_rec | Empty_rec // lempty_cut }}</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="addition-v-chk41" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasNegation S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L, R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : L, xL l + negate (xL l) = zero</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">r</span> : R, xR r + negate (xR r) = zero</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nxcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">r</span> : R) (<span class="nv">l</span> : L),
negate (xR r) &lt; negate (xL l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L + R) (<span class="nv">r</span> : R + L),
sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + R =&gt; No)
  (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt;
   xL l0 +
   {{ <span class="kr">fun</span> <span class="nv">r0</span> : R =&gt; negate (xR r0) | 
   (<span class="kr">fun</span> <span class="nv">l1</span> : L =&gt; negate (xL l1)) // nxcut }})
  (<span class="kr">fun</span> <span class="nv">l0</span> : R =&gt;
   {{ xL | xR // xcut }} + negate (xR l0)) l &lt;
sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + L =&gt; No)
  (<span class="kr">fun</span> <span class="nv">r0</span> : R =&gt;
   xR r0 +
   {{ <span class="kr">fun</span> <span class="nv">r1</span> : R =&gt; negate (xR r1) | 
   (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt; negate (xL l0)) // nxcut }})
  (<span class="kr">fun</span> <span class="nv">r0</span> : L =&gt;
   {{ xL | xR // xcut }} + negate (xL r0)) r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">r</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="addition-v-chk41"><hr></label><div class="goal-conclusion"><span class="highlight">{{ xL | xR // xcut }} + negate (xR r) &lt;
{{ Empty_rec | Empty_rec // lempty_cut }}</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk42" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk42"><span class="highlight">+</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasNegation S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L, R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : L, xL l + negate (xL l) = zero</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">r</span> : R, xR r + negate (xR r) = zero</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nxcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">r</span> : R) (<span class="nv">l</span> : L),
negate (xR r) &lt; negate (xL l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L + R) (<span class="nv">r</span> : R + L),
sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + R =&gt; No)
  (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt;
   xL l0 +
   {{ <span class="kr">fun</span> <span class="nv">r0</span> : R =&gt; negate (xR r0) | 
   (<span class="kr">fun</span> <span class="nv">l1</span> : L =&gt; negate (xL l1)) // nxcut }})
  (<span class="kr">fun</span> <span class="nv">l0</span> : R =&gt;
   {{ xL | xR // xcut }} + negate (xR l0)) l &lt;
sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + L =&gt; No)
  (<span class="kr">fun</span> <span class="nv">r0</span> : R =&gt;
   xR r0 +
   {{ <span class="kr">fun</span> <span class="nv">r1</span> : R =&gt; negate (xR r1) | 
   (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt; negate (xL l0)) // nxcut }})
  (<span class="kr">fun</span> <span class="nv">r0</span> : L =&gt;
   {{ xL | xR // xcut }} + negate (xL r0)) r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">xL l +
{{ <span class="kr">fun</span> <span class="nv">r</span> : R =&gt; negate (xR r) | (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt;
                                 negate (xL l)) // nxcut }} &lt;
{{ Empty_rec | Empty_rec // lempty_cut }}</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk43" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk43"><span class="highlight"><span class="nb">unfold</span> zero <span class="kr">in</span> IHL; <span class="nb">rewrite</span> &lt;- (IHL l); <span class="nb">clear</span> IHL.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasNegation S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L, R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">r</span> : R, xR r + negate (xR r) = zero</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nxcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">r</span> : R) (<span class="nv">l</span> : L),
negate (xR r) &lt; negate (xL l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L + R) (<span class="nv">r</span> : R + L),
sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + R =&gt; No)
  (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt;
   xL l0 +
   {{ <span class="kr">fun</span> <span class="nv">r0</span> : R =&gt; negate (xR r0) | 
   (<span class="kr">fun</span> <span class="nv">l1</span> : L =&gt; negate (xL l1)) // nxcut }})
  (<span class="kr">fun</span> <span class="nv">l0</span> : R =&gt;
   {{ xL | xR // xcut }} + negate (xR l0)) l &lt;
sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + L =&gt; No)
  (<span class="kr">fun</span> <span class="nv">r0</span> : R =&gt;
   xR r0 +
   {{ <span class="kr">fun</span> <span class="nv">r1</span> : R =&gt; negate (xR r1) | 
   (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt; negate (xL l0)) // nxcut }})
  (<span class="kr">fun</span> <span class="nv">r0</span> : L =&gt;
   {{ xL | xR // xcut }} + negate (xL r0)) r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">xL l +
{{ <span class="kr">fun</span> <span class="nv">r</span> : R =&gt; negate (xR r) | (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt;
                                 negate (xL l)) // nxcut }} &lt;
xL l + negate (xL l)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk44" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk44"><span class="highlight"><span class="nb">apply</span> plus_lt_r.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasNegation S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L, R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">r</span> : R, xR r + negate (xR r) = zero</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nxcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">r</span> : R) (<span class="nv">l</span> : L),
negate (xR r) &lt; negate (xL l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L + R) (<span class="nv">r</span> : R + L),
sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + R =&gt; No)
  (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt;
   xL l0 +
   {{ <span class="kr">fun</span> <span class="nv">r0</span> : R =&gt; negate (xR r0) | 
   (<span class="kr">fun</span> <span class="nv">l1</span> : L =&gt; negate (xL l1)) // nxcut }})
  (<span class="kr">fun</span> <span class="nv">l0</span> : R =&gt;
   {{ xL | xR // xcut }} + negate (xR l0)) l &lt;
sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + L =&gt; No)
  (<span class="kr">fun</span> <span class="nv">r0</span> : R =&gt;
   xR r0 +
   {{ <span class="kr">fun</span> <span class="nv">r1</span> : R =&gt; negate (xR r1) | 
   (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt; negate (xL l0)) // nxcut }})
  (<span class="kr">fun</span> <span class="nv">r0</span> : L =&gt;
   {{ xL | xR // xcut }} + negate (xL r0)) r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{{ <span class="kr">fun</span> <span class="nv">r</span> : R =&gt; negate (xR r) | (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt;
                                 negate (xL l)) // nxcut }} &lt;
negate (xL l)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">refine</span> (lt_ropt _ _ _ l).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk45" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk45"><span class="highlight">+</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasNegation S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L, R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : L, xL l + negate (xL l) = zero</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">r</span> : R, xR r + negate (xR r) = zero</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nxcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">r</span> : R) (<span class="nv">l</span> : L),
negate (xR r) &lt; negate (xL l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L + R) (<span class="nv">r</span> : R + L),
sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + R =&gt; No)
  (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt;
   xL l0 +
   {{ <span class="kr">fun</span> <span class="nv">r0</span> : R =&gt; negate (xR r0) | 
   (<span class="kr">fun</span> <span class="nv">l1</span> : L =&gt; negate (xL l1)) // nxcut }})
  (<span class="kr">fun</span> <span class="nv">l0</span> : R =&gt;
   {{ xL | xR // xcut }} + negate (xR l0)) l &lt;
sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + L =&gt; No)
  (<span class="kr">fun</span> <span class="nv">r0</span> : R =&gt;
   xR r0 +
   {{ <span class="kr">fun</span> <span class="nv">r1</span> : R =&gt; negate (xR r1) | 
   (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt; negate (xL l0)) // nxcut }})
  (<span class="kr">fun</span> <span class="nv">r0</span> : L =&gt;
   {{ xL | xR // xcut }} + negate (xL r0)) r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">r</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{{ xL | xR // xcut }} + negate (xR r) &lt;
{{ Empty_rec | Empty_rec // lempty_cut }}</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk46" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk46"><span class="highlight"><span class="nb">unfold</span> zero <span class="kr">in</span> IHR; <span class="nb">rewrite</span> &lt;- (IHR r); <span class="nb">clear</span> IHR.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasNegation S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L, R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : L, xL l + negate (xL l) = zero</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nxcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">r</span> : R) (<span class="nv">l</span> : L),
negate (xR r) &lt; negate (xL l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L + R) (<span class="nv">r</span> : R + L),
sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + R =&gt; No)
  (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt;
   xL l0 +
   {{ <span class="kr">fun</span> <span class="nv">r0</span> : R =&gt; negate (xR r0) | 
   (<span class="kr">fun</span> <span class="nv">l1</span> : L =&gt; negate (xL l1)) // nxcut }})
  (<span class="kr">fun</span> <span class="nv">l0</span> : R =&gt;
   {{ xL | xR // xcut }} + negate (xR l0)) l &lt;
sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + L =&gt; No)
  (<span class="kr">fun</span> <span class="nv">r0</span> : R =&gt;
   xR r0 +
   {{ <span class="kr">fun</span> <span class="nv">r1</span> : R =&gt; negate (xR r1) | 
   (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt; negate (xL l0)) // nxcut }})
  (<span class="kr">fun</span> <span class="nv">r0</span> : L =&gt;
   {{ xL | xR // xcut }} + negate (xL r0)) r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">r</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{{ xL | xR // xcut }} + negate (xR r) &lt;
xR r + negate (xR r)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk47" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk47"><span class="highlight"><span class="nb">apply</span> plus_lt_l.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasNegation S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L, R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : L, xL l + negate (xL l) = zero</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nxcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">r</span> : R) (<span class="nv">l</span> : L),
negate (xR r) &lt; negate (xL l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L + R) (<span class="nv">r</span> : R + L),
sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + R =&gt; No)
  (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt;
   xL l0 +
   {{ <span class="kr">fun</span> <span class="nv">r0</span> : R =&gt; negate (xR r0) | 
   (<span class="kr">fun</span> <span class="nv">l1</span> : L =&gt; negate (xL l1)) // nxcut }})
  (<span class="kr">fun</span> <span class="nv">l0</span> : R =&gt;
   {{ xL | xR // xcut }} + negate (xR l0)) l &lt;
sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + L =&gt; No)
  (<span class="kr">fun</span> <span class="nv">r0</span> : R =&gt;
   xR r0 +
   {{ <span class="kr">fun</span> <span class="nv">r1</span> : R =&gt; negate (xR r1) | 
   (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt; negate (xL l0)) // nxcut }})
  (<span class="kr">fun</span> <span class="nv">r0</span> : L =&gt;
   {{ xL | xR // xcut }} + negate (xL r0)) r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">r</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{{ xL | xR // xcut }} &lt; xR r</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">refine</span> (lt_ropt _ _ _ r).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk48" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk48"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasNegation S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L, R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : L, xL l + negate (xL l) = zero</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">r</span> : R, xR r + negate (xR r) = zero</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nxcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">r</span> : R) (<span class="nv">l</span> : L),
negate (xR r) &lt; negate (xL l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L + R) (<span class="nv">r</span> : R + L),
sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + R =&gt; No)
  (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt;
   xL l0 +
   {{ <span class="kr">fun</span> <span class="nv">r0</span> : R =&gt; negate (xR r0) | 
   (<span class="kr">fun</span> <span class="nv">l1</span> : L =&gt; negate (xL l1)) // nxcut }})
  (<span class="kr">fun</span> <span class="nv">l0</span> : R =&gt;
   {{ xL | xR // xcut }} + negate (xR l0)) l &lt;
sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + L =&gt; No)
  (<span class="kr">fun</span> <span class="nv">r0</span> : R =&gt;
   xR r0 +
   {{ <span class="kr">fun</span> <span class="nv">r1</span> : R =&gt; negate (xR r1) | 
   (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt; negate (xL l0)) // nxcut }})
  (<span class="kr">fun</span> <span class="nv">r0</span> : L =&gt;
   {{ xL | xR // xcut }} + negate (xL r0)) r</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">zero &lt;=
{{ sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + R =&gt; No)
     (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt;
      xL l +
      {{ <span class="kr">fun</span> <span class="nv">r</span> : R =&gt; negate (xR r) | (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt;
                                       negate (xL l0)) // nxcut }})
     (<span class="kr">fun</span> <span class="nv">l</span> : R =&gt;
      {{ xL | xR // xcut }} + negate (xR l)) | sum_ind
                                                 (<span class="kr">fun</span>
                                                 <span class="nv">_</span> : 
                                                 R + L
                                                 =&gt; No)
                                                 (<span class="kr">fun</span>
                                                 <span class="nv">r</span> : R
                                                 =&gt;
                                                 xR r +
                                                 {{ 
                                                 <span class="kr">fun</span>
                                                 <span class="nv">r0</span> : R
                                                 =&gt;
                                                 negate
                                                 (xR
                                                 r0) | 
                                                 (<span class="kr">fun</span>
                                                 <span class="nv">l</span> : L
                                                 =&gt;
                                                 negate
                                                 (xL l)) // nxcut }})
                                                 (<span class="kr">fun</span>
                                                 <span class="nv">r</span> : L
                                                 =&gt;
                                                 {{ xL | xR // xcut }} +
                                                 negate
                                                 (xL r)) // <span class="nb">cut</span> }}</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk49" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk49"><span class="highlight"><span class="nb">apply</span> le_lr; [ <span class="nb">intros</span> [] | <span class="nb">intros</span> [r|l] ]; <span class="nb">cbn</span> [sum_ind].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasNegation S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L, R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : L, xL l + negate (xL l) = zero</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">r</span> : R, xR r + negate (xR r) = zero</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nxcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">r</span> : R) (<span class="nv">l</span> : L),
negate (xR r) &lt; negate (xL l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L + R) (<span class="nv">r</span> : R + L),
sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + R =&gt; No)
  (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt;
   xL l0 +
   {{ <span class="kr">fun</span> <span class="nv">r0</span> : R =&gt; negate (xR r0) | 
   (<span class="kr">fun</span> <span class="nv">l1</span> : L =&gt; negate (xL l1)) // nxcut }})
  (<span class="kr">fun</span> <span class="nv">l0</span> : R =&gt;
   {{ xL | xR // xcut }} + negate (xR l0)) l &lt;
sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + L =&gt; No)
  (<span class="kr">fun</span> <span class="nv">r0</span> : R =&gt;
   xR r0 +
   {{ <span class="kr">fun</span> <span class="nv">r1</span> : R =&gt; negate (xR r1) | 
   (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt; negate (xL l0)) // nxcut }})
  (<span class="kr">fun</span> <span class="nv">r0</span> : L =&gt;
   {{ xL | xR // xcut }} + negate (xL r0)) r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">r</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{{ Empty_rec | Empty_rec // lempty_cut }} &lt;
xR r +
{{ <span class="kr">fun</span> <span class="nv">r</span> : R =&gt; negate (xR r) | (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt;
                                 negate (xL l)) // nxcut }}</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="addition-v-chk4a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasNegation S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L, R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : L, xL l + negate (xL l) = zero</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">r</span> : R, xR r + negate (xR r) = zero</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nxcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">r</span> : R) (<span class="nv">l</span> : L),
negate (xR r) &lt; negate (xL l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L + R) (<span class="nv">r</span> : R + L),
sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + R =&gt; No)
  (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt;
   xL l0 +
   {{ <span class="kr">fun</span> <span class="nv">r0</span> : R =&gt; negate (xR r0) | 
   (<span class="kr">fun</span> <span class="nv">l1</span> : L =&gt; negate (xL l1)) // nxcut }})
  (<span class="kr">fun</span> <span class="nv">l0</span> : R =&gt;
   {{ xL | xR // xcut }} + negate (xR l0)) l &lt;
sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + L =&gt; No)
  (<span class="kr">fun</span> <span class="nv">r0</span> : R =&gt;
   xR r0 +
   {{ <span class="kr">fun</span> <span class="nv">r1</span> : R =&gt; negate (xR r1) | 
   (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt; negate (xL l0)) // nxcut }})
  (<span class="kr">fun</span> <span class="nv">r0</span> : L =&gt;
   {{ xL | xR // xcut }} + negate (xL r0)) r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="addition-v-chk4a"><hr></label><div class="goal-conclusion"><span class="highlight">{{ Empty_rec | Empty_rec // lempty_cut }} &lt;
{{ xL | xR // xcut }} + negate (xL l)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk4b" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk4b"><span class="highlight">+</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasNegation S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L, R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : L, xL l + negate (xL l) = zero</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">r</span> : R, xR r + negate (xR r) = zero</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nxcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">r</span> : R) (<span class="nv">l</span> : L),
negate (xR r) &lt; negate (xL l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L + R) (<span class="nv">r</span> : R + L),
sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + R =&gt; No)
  (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt;
   xL l0 +
   {{ <span class="kr">fun</span> <span class="nv">r0</span> : R =&gt; negate (xR r0) | 
   (<span class="kr">fun</span> <span class="nv">l1</span> : L =&gt; negate (xL l1)) // nxcut }})
  (<span class="kr">fun</span> <span class="nv">l0</span> : R =&gt;
   {{ xL | xR // xcut }} + negate (xR l0)) l &lt;
sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + L =&gt; No)
  (<span class="kr">fun</span> <span class="nv">r0</span> : R =&gt;
   xR r0 +
   {{ <span class="kr">fun</span> <span class="nv">r1</span> : R =&gt; negate (xR r1) | 
   (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt; negate (xL l0)) // nxcut }})
  (<span class="kr">fun</span> <span class="nv">r0</span> : L =&gt;
   {{ xL | xR // xcut }} + negate (xL r0)) r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">r</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{{ Empty_rec | Empty_rec // lempty_cut }} &lt;
xR r +
{{ <span class="kr">fun</span> <span class="nv">r</span> : R =&gt; negate (xR r) | (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt;
                                 negate (xL l)) // nxcut }}</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk4c" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk4c"><span class="highlight"><span class="nb">unfold</span> zero <span class="kr">in</span> IHR; <span class="nb">rewrite</span> &lt;- (IHR r); <span class="nb">clear</span> IHR.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasNegation S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L, R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : L, xL l + negate (xL l) = zero</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nxcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">r</span> : R) (<span class="nv">l</span> : L),
negate (xR r) &lt; negate (xL l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L + R) (<span class="nv">r</span> : R + L),
sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + R =&gt; No)
  (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt;
   xL l0 +
   {{ <span class="kr">fun</span> <span class="nv">r0</span> : R =&gt; negate (xR r0) | 
   (<span class="kr">fun</span> <span class="nv">l1</span> : L =&gt; negate (xL l1)) // nxcut }})
  (<span class="kr">fun</span> <span class="nv">l0</span> : R =&gt;
   {{ xL | xR // xcut }} + negate (xR l0)) l &lt;
sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + L =&gt; No)
  (<span class="kr">fun</span> <span class="nv">r0</span> : R =&gt;
   xR r0 +
   {{ <span class="kr">fun</span> <span class="nv">r1</span> : R =&gt; negate (xR r1) | 
   (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt; negate (xL l0)) // nxcut }})
  (<span class="kr">fun</span> <span class="nv">r0</span> : L =&gt;
   {{ xL | xR // xcut }} + negate (xL r0)) r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">r</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">xR r + negate (xR r) &lt;
xR r +
{{ <span class="kr">fun</span> <span class="nv">r</span> : R =&gt; negate (xR r) | (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt;
                                 negate (xL l)) // nxcut }}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk4d" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk4d"><span class="highlight"><span class="nb">apply</span> plus_lt_r.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasNegation S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L, R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : L, xL l + negate (xL l) = zero</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nxcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">r</span> : R) (<span class="nv">l</span> : L),
negate (xR r) &lt; negate (xL l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L + R) (<span class="nv">r</span> : R + L),
sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + R =&gt; No)
  (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt;
   xL l0 +
   {{ <span class="kr">fun</span> <span class="nv">r0</span> : R =&gt; negate (xR r0) | 
   (<span class="kr">fun</span> <span class="nv">l1</span> : L =&gt; negate (xL l1)) // nxcut }})
  (<span class="kr">fun</span> <span class="nv">l0</span> : R =&gt;
   {{ xL | xR // xcut }} + negate (xR l0)) l &lt;
sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + L =&gt; No)
  (<span class="kr">fun</span> <span class="nv">r0</span> : R =&gt;
   xR r0 +
   {{ <span class="kr">fun</span> <span class="nv">r1</span> : R =&gt; negate (xR r1) | 
   (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt; negate (xL l0)) // nxcut }})
  (<span class="kr">fun</span> <span class="nv">r0</span> : L =&gt;
   {{ xL | xR // xcut }} + negate (xL r0)) r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">r</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">negate (xR r) &lt;
{{ <span class="kr">fun</span> <span class="nv">r</span> : R =&gt; negate (xR r) | (<span class="kr">fun</span> <span class="nv">l</span> : L =&gt;
                                 negate (xL l)) // nxcut }}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">refine</span> (lt_lopt _ _ _ r).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk4e" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk4e"><span class="highlight">+</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasNegation S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L, R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : L, xL l + negate (xL l) = zero</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">r</span> : R, xR r + negate (xR r) = zero</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nxcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">r</span> : R) (<span class="nv">l</span> : L),
negate (xR r) &lt; negate (xL l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L + R) (<span class="nv">r</span> : R + L),
sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + R =&gt; No)
  (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt;
   xL l0 +
   {{ <span class="kr">fun</span> <span class="nv">r0</span> : R =&gt; negate (xR r0) | 
   (<span class="kr">fun</span> <span class="nv">l1</span> : L =&gt; negate (xL l1)) // nxcut }})
  (<span class="kr">fun</span> <span class="nv">l0</span> : R =&gt;
   {{ xL | xR // xcut }} + negate (xR l0)) l &lt;
sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + L =&gt; No)
  (<span class="kr">fun</span> <span class="nv">r0</span> : R =&gt;
   xR r0 +
   {{ <span class="kr">fun</span> <span class="nv">r1</span> : R =&gt; negate (xR r1) | 
   (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt; negate (xL l0)) // nxcut }})
  (<span class="kr">fun</span> <span class="nv">r0</span> : L =&gt;
   {{ xL | xR // xcut }} + negate (xL r0)) r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{{ Empty_rec | Empty_rec // lempty_cut }} &lt;
{{ xL | xR // xcut }} + negate (xL l)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk4f" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk4f"><span class="highlight"><span class="nb">unfold</span> zero <span class="kr">in</span> IHL; <span class="nb">rewrite</span> &lt;- (IHL l); <span class="nb">clear</span> IHL.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasNegation S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L, R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">r</span> : R, xR r + negate (xR r) = zero</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nxcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">r</span> : R) (<span class="nv">l</span> : L),
negate (xR r) &lt; negate (xL l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L + R) (<span class="nv">r</span> : R + L),
sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + R =&gt; No)
  (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt;
   xL l0 +
   {{ <span class="kr">fun</span> <span class="nv">r0</span> : R =&gt; negate (xR r0) | 
   (<span class="kr">fun</span> <span class="nv">l1</span> : L =&gt; negate (xL l1)) // nxcut }})
  (<span class="kr">fun</span> <span class="nv">l0</span> : R =&gt;
   {{ xL | xR // xcut }} + negate (xR l0)) l &lt;
sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + L =&gt; No)
  (<span class="kr">fun</span> <span class="nv">r0</span> : R =&gt;
   xR r0 +
   {{ <span class="kr">fun</span> <span class="nv">r1</span> : R =&gt; negate (xR r1) | 
   (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt; negate (xL l0)) // nxcut }})
  (<span class="kr">fun</span> <span class="nv">r0</span> : L =&gt;
   {{ xL | xR // xcut }} + negate (xL r0)) r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">xL l + negate (xL l) &lt;
{{ xL | xR // xcut }} + negate (xL l)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="addition-v-chk50" style="display: none" type="checkbox"><label class="alectryon-input" for="addition-v-chk50"><span class="highlight"><span class="nb">apply</span> plus_lt_l.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">S</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">OptionSort</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasAddition S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">No</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">GenNo S</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">HasNegation S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">L, R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">InSort S L R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xL</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R -&gt; GenNo S</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L) (<span class="nv">r</span> : R), xL l &lt; xR r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IHR</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">r</span> : R, xR r + negate (xR r) = zero</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nxcut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">r</span> : R) (<span class="nv">l</span> : L),
negate (xR r) &lt; negate (xL l)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cut</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">l</span> : L + R) (<span class="nv">r</span> : R + L),
sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : L + R =&gt; No)
  (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt;
   xL l0 +
   {{ <span class="kr">fun</span> <span class="nv">r0</span> : R =&gt; negate (xR r0) | 
   (<span class="kr">fun</span> <span class="nv">l1</span> : L =&gt; negate (xL l1)) // nxcut }})
  (<span class="kr">fun</span> <span class="nv">l0</span> : R =&gt;
   {{ xL | xR // xcut }} + negate (xR l0)) l &lt;
sum_ind (<span class="kr">fun</span> <span class="nv">_</span> : R + L =&gt; No)
  (<span class="kr">fun</span> <span class="nv">r0</span> : R =&gt;
   xR r0 +
   {{ <span class="kr">fun</span> <span class="nv">r1</span> : R =&gt; negate (xR r1) | 
   (<span class="kr">fun</span> <span class="nv">l0</span> : L =&gt; negate (xL l0)) // nxcut }})
  (<span class="kr">fun</span> <span class="nv">r0</span> : L =&gt;
   {{ xL | xR // xcut }} + negate (xL r0)) r</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">L</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">xL l &lt; {{ xL | xR // xcut }}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">refine</span> (lt_lopt _ _ _ l).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Defined</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">sub</span> (<span class="nv">x</span> <span class="nv">y</span> : No) : No := x + (negate y).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Infix</span> <span class="s2">&quot;-&quot;</span> := sub : surreal_scope.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">End</span> <span class="nf">Addition</span>.</span></span></span></pre>
</div>
</div></body>
</html>
