<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" class="alectryon-standalone" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<title>Colimit_Flattening.v</title>
<link rel="stylesheet" href="alectryon.css" type="text/css" />
<link rel="stylesheet" href="docutils_basic.css" type="text/css" />
<link rel="stylesheet" href="tango_subtle.css" type="text/css" />
<link rel="stylesheet" href="tango_subtle.min.css" type="text/css" />
<script type="text/javascript" src="alectryon.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" />
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="alectryon-root alectryon-centered"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.13.0+0.13.0. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of <kbd>Ctrl</kbd>.</div><div class="document">


<pre class="alectryon-io"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Require Import</span> Basics.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Require Import</span> Types.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Require Import</span> Diagrams.Diagram.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Require Import</span> Diagrams.Graph.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Require Import</span> Diagrams.Cocone.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Require Import</span> Diagrams.DDiagram.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Require Import</span> Colimits.Colimit.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Local Open Scope</span> path_scope.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
<span class="sd">(** * Flattening lemma *)</span>

<span class="sd">(** This file provide a proof of the flattening lemma for colimits. This lemma describes the type [sig E&#39;] when [E&#39; : colimit D -&gt; Type] is a type family defined by recusrion on a colimit. *)</span>
<span class="sd">(** The flattening lemma in the case of W-types is presented in section 6.12 of the HoTT book. *)</span>
<span class="sd">(** A good intuition is given by the pushout&#39;s case (see above). *)</span>

</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Section</span> <span class="nf">Flattening</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">  <span class="sd">(** ** Equifibered diagrams *)</span>

</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Context</span> `{Univalence} {G : Graph} (D : Diagram G)
    (E : DDiagram D) `(Equifibered _ _ E).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Let</span> <span class="nf">E_f</span> {<span class="nv">i</span> <span class="nv">j</span> : G} (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) : E (i; x) -&gt; E (j; (D _f g) x)
      := @arr _ E (i; x) (j; D _f g x) (g; <span class="mi">1</span>).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
  <span class="sd">(** Now, given an equifibered diagram and using univalence, one can define a type family [E&#39; : colimit D -&gt; Type] by recusrion on the colimit. *)</span>

</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk0"><span class="highlight"><span class="kn">Definition</span> <span class="nf">E&#39;</span> : Colimit D -&gt; <span class="kt">Type</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Colimit D -&gt; <span class="kt">Type</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk1"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Colimit D -&gt; <span class="kt">Type</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk2"><span class="highlight"><span class="nb">apply</span> Colimit_rec.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Cocone D <span class="kt">Type</span></span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk3"><span class="highlight"><span class="nb">simple refine</span> (Build_Cocone _ _).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : G, D i -&gt; <span class="kt">Type</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="colimit-flattening-v-chk4" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="colimit-flattening-v-chk4"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j),
<span class="nl">?legs</span> j o D _f g == <span class="nl">?legs</span> i</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk5" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk5"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : G, D i -&gt; <span class="kt">Type</span></span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">exact</span> (<span class="kr">fun</span> <span class="nv">i</span> <span class="nv">x</span> =&gt; E (i; x)).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk6"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j),
(<span class="kr">fun</span> (<span class="nv">i0</span> : G) (<span class="nv">x</span> : D i0) =&gt; E (i0; x)) j o D _f g ==
(<span class="kr">fun</span> (<span class="nv">i0</span> : G) (<span class="nv">x</span> : D i0) =&gt; E (i0; x)) i</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk7"><span class="highlight"><span class="nb">intros</span> i j g x; <span class="nb">cbn</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">E (j; (D _f g) x) = E (i; x)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk8"><span class="highlight"><span class="nb">symmetry</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">E (i; x) = E (j; (D _f g) x)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight">srapply (path_universe (E_f _ _)).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Defined</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
  <span class="sd">(** ** Helper lemmas *)</span>

</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk9"><span class="highlight"><span class="kn">Definition</span> <span class="nf">transport_E&#39;</span> {<span class="nv">i</span> <span class="nv">j</span> : G} (<span class="nv">g</span> : G i j)  (<span class="nv">x</span> : D i) (<span class="nv">y</span> : E (i; x))
    : transport E&#39; (colimp i j g x) (E_f g x y) = y.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">transport E&#39; (colimp i j g x) (E_f g x y) = y</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chka"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">transport E&#39; (colimp i j g x) (E_f g x y) = y</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chkb"><span class="highlight"><span class="nb">refine</span> (transport_idmap_ap _ _ _ _ _ _ @ _).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">transport idmap (ap E&#39; (colimp i j g x)) (E_f g x y) =
y</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chkc"><span class="highlight">srefine (transport2 idmap _ _ @ _).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">E&#39; (colim j ((D _f g) x)) = E&#39; (colim i x)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="colimit-flattening-v-chkd" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="colimit-flattening-v-chkd"><hr></label><div class="goal-conclusion"><span class="highlight">ap E&#39; (colimp i j g x) = <span class="nl">?q</span></span></div></blockquote><input class="alectryon-extra-goal-toggle" id="colimit-flattening-v-chke" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="colimit-flattening-v-chke"><hr></label><div class="goal-conclusion"><span class="highlight">transport idmap <span class="nl">?q</span> (E_f g x y) = y</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chkf"><span class="highlight"><span class="mi">2</span>: <span class="nb">apply</span> Colimit_rec_beta_colimp; <span class="nb">cbn</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">transport idmap
  (legs_comm
     {|
       legs := <span class="kr">fun</span> (<span class="nv">i</span> : G) (<span class="nv">x</span> : D i) =&gt; E (i; x);
       legs_comm :=
         <span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
         (path_universe (E_f g x))^
     |} i j g x) (E_f g x y) = y</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk10"><span class="highlight"><span class="nb">apply</span> (moveR_transport_V idmap).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">E_f g x y =
transport idmap (path_universe (E_f g x)) y</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">symmetry</span>; <span class="nb">apply</span> transport_path_universe.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Defined</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk11"><span class="highlight"><span class="kn">Definition</span> <span class="nf">transport_E&#39;_V</span> {<span class="nv">i</span> <span class="nv">j</span> : G} (<span class="nv">g</span> : G i j)  (<span class="nv">x</span> : D i) (<span class="nv">y</span> : E (i; x))
    : transport E&#39; (colimp i j g x)^ y = E_f g x y.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">transport E&#39; (colimp i j g x)^ y = E_f g x y</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk12"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">transport E&#39; (colimp i j g x)^ y = E_f g x y</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk13"><span class="highlight"><span class="nb">apply</span> moveR_transport_V.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">y = transport E&#39; (colimp i j g x) (E_f g x y)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk14"><span class="highlight"><span class="nb">symmetry</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">transport E&#39; (colimp i j g x) (E_f g x y) = y</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">apply</span> transport_E&#39;.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Defined</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk15"><span class="highlight"><span class="kn">Definition</span> <span class="nf">transport_E&#39;_V_E&#39;</span> {<span class="nv">i</span> <span class="nv">j</span> : G} (<span class="nv">g</span> : G i j)  (<span class="nv">x</span> : D i) (<span class="nv">y</span> : E (i; x))
    : transport_E&#39; g x y
      = ap (transport E&#39; (colimp i j g x)) (transport_E&#39;_V g x y)^
        @ transport_pV E&#39; (colimp i j g x) y.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">transport_E&#39; g x y =
ap (transport E&#39; (colimp i j g x))
  (transport_E&#39;_V g x y)^ @
transport_pV E&#39; (colimp i j g x) y</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk16"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">transport_E&#39; g x y =
ap (transport E&#39; (colimp i j g x))
  (transport_E&#39;_V g x y)^ @
transport_pV E&#39; (colimp i j g x) y</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk17"><span class="highlight"><span class="nb">rewrite</span> moveR_transport_V_V, inv_V.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">transport_E&#39; g x y =
ap (transport E&#39; (colimp i j g x))
  (moveL_transport_V E&#39; (colimp i j g x) (E_f g x y) y
     (transport_E&#39; g x y)) @
transport_pV E&#39; (colimp i j g x) y</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">symmetry</span>; <span class="nb">apply</span> ap_transport_transport_pV.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Defined</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
  <span class="sd">(** ** Main result *)</span>

  <span class="sd">(** We define the cocone over the sigma diagram to [sig E&#39;]. *)</span>

</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk18" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk18"><span class="highlight"><span class="kn">Definition</span> <span class="nf">cocone_E&#39;</span> : Cocone (diagram_sigma E) (sig E&#39;).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Cocone (diagram_sigma E) {x : _ &amp; E&#39; x}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk19" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk19"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Cocone (diagram_sigma E) {x : _ &amp; E&#39; x}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk1a"><span class="highlight">srapply Build_Cocone; <span class="nb">cbn</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : G, {x : D i &amp; E (i; x)} -&gt; {x : _ &amp; E&#39; x}</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="colimit-flattening-v-chk1b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="colimit-flattening-v-chk1b"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j),
(<span class="kr">fun</span> <span class="nv">x</span> : {x : D i &amp; E (i; x)} =&gt;
 <span class="nl">?Goal</span> j ((D _f g) x.<span class="mi">1</span>; (E _f (g; <span class="mi">1</span>)) x.<span class="mi">2</span>)) == <span class="nl">?Goal</span> i</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk1c"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : G, {x : D i &amp; E (i; x)} -&gt; {x : _ &amp; E&#39; x}</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk1d"><span class="highlight"><span class="nb">intros</span> i w.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">w</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : D i &amp; E (i; x)}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{x : _ &amp; E&#39; x}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk1e"><span class="highlight"><span class="kr">exists</span> (<span class="nv">colim</span> <span class="nv">i</span> <span class="nv">w</span>.<span class="mi">1</span>); <span class="nb">cbn</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">w</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : D i &amp; E (i; x)}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">E (i; w.<span class="mi">1</span>)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">exact</span> w.<span class="mi">2</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk1f"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j),
(<span class="kr">fun</span> <span class="nv">x</span> : {x : D i &amp; E (i; x)} =&gt;
 (<span class="kr">fun</span> (<span class="nv">i0</span> : G) (<span class="nv">w</span> : {x0 : D i0 &amp; E (i0; x0)}) =&gt;
  (colim i0 w.<span class="mi">1</span>; w.<span class="mi">2</span>)) j
   ((D _f g) x.<span class="mi">1</span>; (E _f (g; <span class="mi">1</span>)) x.<span class="mi">2</span>)) ==
(<span class="kr">fun</span> (<span class="nv">i0</span> : G) (<span class="nv">w</span> : {x : D i0 &amp; E (i0; x)}) =&gt;
 (colim i0 w.<span class="mi">1</span>; w.<span class="mi">2</span>)) i</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk20"><span class="highlight"><span class="nb">intros</span> i j g x; <span class="nb">cbn</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : D i &amp; E (i; x)}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(colim j ((D _f g) x.<span class="mi">1</span>); (E _f (g; <span class="mi">1</span>)) x.<span class="mi">2</span>) =
(colim i x.<span class="mi">1</span>; x.<span class="mi">2</span>)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk21"><span class="highlight">srapply path_sigma&#39;.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : D i &amp; E (i; x)}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">colim j ((D _f g) x.<span class="mi">1</span>) = colim i x.<span class="mi">1</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="colimit-flattening-v-chk22" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : D i &amp; E (i; x)}</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="colimit-flattening-v-chk22"><hr></label><div class="goal-conclusion"><span class="highlight">transport E&#39; <span class="nl">?p</span> ((E _f (g; <span class="mi">1</span>)) x.<span class="mi">2</span>) = x.<span class="mi">2</span></span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk23"><span class="highlight">+</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : D i &amp; E (i; x)}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">colim j ((D _f g) x.<span class="mi">1</span>) = colim i x.<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">apply</span> colimp.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk24"><span class="highlight">+</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : D i &amp; E (i; x)}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">transport E&#39; (colimp i j g x.<span class="mi">1</span>) ((E _f (g; <span class="mi">1</span>)) x.<span class="mi">2</span>) =
x.<span class="mi">2</span></span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">apply</span> transport_E&#39;.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Defined</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
  <span class="sd">(** And we directly prove than it is universal. *)</span>

</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Local</span> <span class="kn">Opaque</span> path_sigma ap11.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk25" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk25"><span class="highlight"><span class="kn">Instance</span> <span class="nf">unicocone_cocone_E&#39;</span> : UniversalCocone cocone_E&#39;.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UniversalCocone cocone_E&#39;</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk26"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UniversalCocone cocone_E&#39;</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk27" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk27"><span class="highlight">srapply Build_UniversalCocone.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">Y</span> : <span class="kt">Type</span>,
IsEquiv (cocone_postcompose cocone_E&#39;)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk28"><span class="highlight"><span class="nb">intro</span> Z; srapply isequiv_adjointify.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Cocone (diagram_sigma E) Z -&gt; {x : _ &amp; E&#39; x} -&gt; Z</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="colimit-flattening-v-chk29" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="colimit-flattening-v-chk29"><hr></label><div class="goal-conclusion"><span class="highlight">cocone_postcompose cocone_E&#39; o <span class="nl">?g</span> == idmap</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="colimit-flattening-v-chk2a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="colimit-flattening-v-chk2a"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="nl">?g</span> o cocone_postcompose cocone_E&#39; == idmap</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk2b" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk2b"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Cocone (diagram_sigma E) Z -&gt; {x : _ &amp; E&#39; x} -&gt; Z</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk2c" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk2c"><span class="highlight"><span class="nb">intros</span> [q qq]; <span class="nb">cbn</span> <span class="kr">in</span> *.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">q</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : G, {x : D i &amp; E (i; x)} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">qq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j),
(<span class="kr">fun</span> <span class="nv">x</span> : {x : D i &amp; E (i; x)} =&gt;
 q j ((D _f g) x.<span class="mi">1</span>; (E _f (g; <span class="mi">1</span>)) x.<span class="mi">2</span>)) == q i</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk2d"><span class="highlight"><span class="nb">intros</span> [x y]; <span class="nb">revert</span> x y.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">q</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : G, {x : D i &amp; E (i; x)} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">qq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j),
(<span class="kr">fun</span> <span class="nv">x</span> : {x : D i &amp; E (i; x)} =&gt;
 q j ((D _f g) x.<span class="mi">1</span>; (E _f (g; <span class="mi">1</span>)) x.<span class="mi">2</span>)) == q i</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : Colimit D, E&#39; x -&gt; Z</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk2e" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk2e"><span class="highlight">srapply Colimit_ind; <span class="nb">cbn</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">q</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : G, {x : D i &amp; E (i; x)} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">qq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j),
(<span class="kr">fun</span> <span class="nv">x</span> : {x : D i &amp; E (i; x)} =&gt;
 q j ((D _f g) x.<span class="mi">1</span>; (E _f (g; <span class="mi">1</span>)) x.<span class="mi">2</span>)) == q i</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> : G) (<span class="nv">x</span> : D i), E (i; x) -&gt; Z</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="colimit-flattening-v-chk2f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">q</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : G, {x : D i &amp; E (i; x)} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">qq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j),
(<span class="kr">fun</span> <span class="nv">x</span> : {x : D i &amp; E (i; x)} =&gt;
 q j ((D _f g) x.<span class="mi">1</span>; (E _f (g; <span class="mi">1</span>)) x.<span class="mi">2</span>)) == q i</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="colimit-flattening-v-chk2f"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i),
transport (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
  (colimp i j g x) (<span class="nl">?Goal</span> j ((D _f g) x)) = <span class="nl">?Goal</span> i x</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk30"><span class="highlight">+</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">q</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : G, {x : D i &amp; E (i; x)} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">qq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j),
(<span class="kr">fun</span> <span class="nv">x</span> : {x : D i &amp; E (i; x)} =&gt;
 q j ((D _f g) x.<span class="mi">1</span>; (E _f (g; <span class="mi">1</span>)) x.<span class="mi">2</span>)) == q i</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> : G) (<span class="nv">x</span> : D i), E (i; x) -&gt; Z</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">intros</span> i x y; <span class="bp">exact</span> (q i (x; y)).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk31"><span class="highlight">+</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">q</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : G, {x : D i &amp; E (i; x)} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">qq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j),
(<span class="kr">fun</span> <span class="nv">x</span> : {x : D i &amp; E (i; x)} =&gt;
 q j ((D _f g) x.<span class="mi">1</span>; (E _f (g; <span class="mi">1</span>)) x.<span class="mi">2</span>)) == q i</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i),
transport (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
  (colimp i j g x)
  ((<span class="kr">fun</span> (<span class="nv">i0</span> : G) (<span class="nv">x0</span> : D i0) (<span class="nv">y</span> : E (i0; x0)) =&gt;
    q i0 (x0; y)) j ((D _f g) x)) =
(<span class="kr">fun</span> (<span class="nv">i0</span> : G) (<span class="nv">x0</span> : D i0) (<span class="nv">y</span> : E (i0; x0)) =&gt;
 q i0 (x0; y)) i x</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk32" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk32"><span class="highlight"><span class="nb">intros</span> i j g x; <span class="nb">cbn</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">q</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : G, {x : D i &amp; E (i; x)} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">qq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j),
(<span class="kr">fun</span> <span class="nv">x</span> : {x : D i &amp; E (i; x)} =&gt;
 q j ((D _f g) x.<span class="mi">1</span>; (E _f (g; <span class="mi">1</span>)) x.<span class="mi">2</span>)) == q i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">transport (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
  (colimp i j g x)
  (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt; q j ((D _f g) x; y)) =
(<span class="kr">fun</span> <span class="nv">y</span> : E (i; x) =&gt; q i (x; y))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk33" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk33"><span class="highlight">funext y.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">q</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : G, {x : D i &amp; E (i; x)} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">qq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j),
(<span class="kr">fun</span> <span class="nv">x</span> : {x : D i &amp; E (i; x)} =&gt;
 q j ((D _f g) x.<span class="mi">1</span>; (E _f (g; <span class="mi">1</span>)) x.<span class="mi">2</span>)) == q i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">transport (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
  (colimp i j g x)
  (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt; q j ((D _f g) x; y)) y =
q i (x; y)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk34" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk34"><span class="highlight"><span class="nb">refine</span> (transport_arrow_toconst _ _ _ @ _).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">q</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : G, {x : D i &amp; E (i; x)} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">qq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j),
(<span class="kr">fun</span> <span class="nv">x</span> : {x : D i &amp; E (i; x)} =&gt;
 q j ((D _f g) x.<span class="mi">1</span>; (E _f (g; <span class="mi">1</span>)) x.<span class="mi">2</span>)) == q i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">q j ((D _f g) x; transport E&#39; (colimp i j g x)^ y) =
q i (x; y)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk35"><span class="highlight"><span class="nb">refine</span> (_ @ qq i j g (x; y)).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">q</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : G, {x : D i &amp; E (i; x)} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">qq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j),
(<span class="kr">fun</span> <span class="nv">x</span> : {x : D i &amp; E (i; x)} =&gt;
 q j ((D _f g) x.<span class="mi">1</span>; (E _f (g; <span class="mi">1</span>)) x.<span class="mi">2</span>)) == q i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">q j ((D _f g) x; transport E&#39; (colimp i j g x)^ y) =
q j ((D _f g) (x; y).<span class="mi">1</span>; (E _f (g; <span class="mi">1</span>)) (x; y).<span class="mi">2</span>)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk36"><span class="highlight"><span class="nb">cbn</span>; f_ap.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">q</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : G, {x : D i &amp; E (i; x)} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">qq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j),
(<span class="kr">fun</span> <span class="nv">x</span> : {x : D i &amp; E (i; x)} =&gt;
 q j ((D _f g) x.<span class="mi">1</span>; (E _f (g; <span class="mi">1</span>)) x.<span class="mi">2</span>)) == q i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((D _f g) x; transport E&#39; (colimp i j g x)^ y) =
((D _f g) x; (E _f (g; <span class="mi">1</span>)) y)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk37" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk37"><span class="highlight"><span class="nb">refine</span> (path_sigma&#39; _ <span class="mi">1</span> _); <span class="nb">cbn</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">q</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : G, {x : D i &amp; E (i; x)} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">qq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j),
(<span class="kr">fun</span> <span class="nv">x</span> : {x : D i &amp; E (i; x)} =&gt;
 q j ((D _f g) x.<span class="mi">1</span>; (E _f (g; <span class="mi">1</span>)) x.<span class="mi">2</span>)) == q i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">transport E&#39; (colimp i j g x)^ y = (E _f (g; <span class="mi">1</span>)) y</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">apply</span> transport_E&#39;_V.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk38" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk38"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">cocone_postcompose cocone_E&#39;
o (<span class="kr">fun</span> <span class="nv">X</span> : Cocone (diagram_sigma E) Z =&gt;
   (<span class="kr">fun</span> (<span class="nv">q</span> : <span class="kr">forall</span> <span class="nv">i</span> : G, diagram_sigma E i -&gt; Z)
      (<span class="nv">qq</span> : <span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j),
            (<span class="kr">fun</span> <span class="nv">x</span> : diagram_sigma E i =&gt;
             q j (((diagram_sigma E) _f g) x)) == 
            q i) (<span class="nv">X0</span> : {x : _ &amp; E&#39; x}) =&gt;
    (<span class="kr">fun</span> (<span class="nv">x</span> : Colimit D) (<span class="nv">y</span> : E&#39; x) =&gt;
     Colimit_ind (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
       (<span class="kr">fun</span> (<span class="nv">i</span> : G) (<span class="nv">x0</span> : D i) (<span class="nv">y0</span> : E (i; x0)) =&gt;
        q i (x0; y0))
       (<span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x0</span> : D i) =&gt;
        path_forall
          (transport (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
             (colimp i j g x0)
             (<span class="kr">fun</span> <span class="nv">y0</span> : E (j; (D _f g) x0) =&gt;
              q j ((D _f g) x0; y0)))
          (<span class="kr">fun</span> <span class="nv">y0</span> : E (i; x0) =&gt; q i (x0; y0))
          (<span class="kr">fun</span> <span class="nv">y0</span> : E (i; x0) =&gt;
           transport_arrow_toconst (colimp i j g x0)
             (<span class="kr">fun</span> <span class="nv">y1</span> : E (j; (D _f g) x0) =&gt;
              q j ((D _f g) x0; y1)) y0 @
           (ap11 <span class="mi">1</span>
              (path_sigma&#39; (<span class="kr">fun</span> <span class="nv">x1</span> : D j =&gt; E (j; x1))
                 <span class="mi">1</span> (transport_E&#39;_V g x0 y0)) @
            qq i j g (x0; y0)))) x y) X0.<span class="mi">1</span> X0.<span class="mi">2</span>) X
     (legs_comm X)) == idmap</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk39" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk39"><span class="highlight"><span class="nb">intros</span> [q qq].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">q</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : G, diagram_sigma E i -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">qq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j),
(<span class="kr">fun</span> <span class="nv">x</span> : diagram_sigma E i =&gt;
 q j (((diagram_sigma E) _f g) x)) == q i</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">cocone_postcompose cocone_E&#39;
  (<span class="kr">fun</span> <span class="nv">X</span> : {x : _ &amp; E&#39; x} =&gt;
   Colimit_ind (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
     (<span class="kr">fun</span> (<span class="nv">i</span> : G) (<span class="nv">x</span> : D i) (<span class="nv">y</span> : E (i; x)) =&gt;
      q i (x; y))
     (<span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
      path_forall
        (transport (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
           (colimp i j g x)
           (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt;
            q j ((D _f g) x; y)))
        (<span class="kr">fun</span> <span class="nv">y</span> : E (i; x) =&gt; q i (x; y))
        (<span class="kr">fun</span> <span class="nv">y</span> : E (i; x) =&gt;
         transport_arrow_toconst (colimp i j g x)
           (<span class="kr">fun</span> <span class="nv">y0</span> : E (j; (D _f g) x) =&gt;
            q j ((D _f g) x; y0)) y @
         (ap11 <span class="mi">1</span>
            (path_sigma&#39; (<span class="kr">fun</span> <span class="nv">x0</span> : D j =&gt; E (j; x0)) <span class="mi">1</span>
               (transport_E&#39;_V g x y)) @
          qq i j g (x; y)))) X.<span class="mi">1</span> X.<span class="mi">2</span>) =
{| legs := q; legs_comm := qq |}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk3a" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk3a"><span class="highlight">srapply path_cocone.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">q</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : G, diagram_sigma E i -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">qq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j),
(<span class="kr">fun</span> <span class="nv">x</span> : diagram_sigma E i =&gt;
 q j (((diagram_sigma E) _f g) x)) == q i</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : G,
cocone_postcompose cocone_E&#39;
  (<span class="kr">fun</span> <span class="nv">X</span> : {x : _ &amp; E&#39; x} =&gt;
   Colimit_ind (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
     (<span class="kr">fun</span> (<span class="nv">i0</span> : G) (<span class="nv">x</span> : D i0) (<span class="nv">y</span> : E (i0; x)) =&gt;
      q i0 (x; y))
     (<span class="kr">fun</span> (<span class="nv">i0</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i0 j) (<span class="nv">x</span> : D i0) =&gt;
      path_forall
        (transport (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
           (colimp i0 j g x)
           (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt;
            q j ((D _f g) x; y)))
        (<span class="kr">fun</span> <span class="nv">y</span> : E (i0; x) =&gt; q i0 (x; y))
        (<span class="kr">fun</span> <span class="nv">y</span> : E (i0; x) =&gt;
         transport_arrow_toconst (colimp i0 j g x)
           (<span class="kr">fun</span> <span class="nv">y0</span> : E (j; (D _f g) x) =&gt;
            q j ((D _f g) x; y0)) y @
         (ap11 <span class="mi">1</span>
            (path_sigma&#39; (<span class="kr">fun</span> <span class="nv">x0</span> : D j =&gt; E (j; x0)) <span class="mi">1</span>
               (transport_E&#39;_V g x y)) @
          qq i0 j g (x; y)))) X.<span class="mi">1</span> X.<span class="mi">2</span>) i ==
{| legs := q; legs_comm := qq |} i</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="colimit-flattening-v-chk3b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">q</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : G, diagram_sigma E i -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">qq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j),
(<span class="kr">fun</span> <span class="nv">x</span> : diagram_sigma E i =&gt;
 q j (((diagram_sigma E) _f g) x)) == q i</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="colimit-flattening-v-chk3b"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : diagram_sigma E i),
legs_comm
  (cocone_postcompose cocone_E&#39;
     (<span class="kr">fun</span> <span class="nv">X</span> : {x : _ &amp; E&#39; x} =&gt;
      Colimit_ind (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
        (<span class="kr">fun</span> (<span class="nv">i0</span> : G) (<span class="nv">x0</span> : D i0) (<span class="nv">y</span> : E (i0; x0)) =&gt;
         q i0 (x0; y))
        (<span class="kr">fun</span> (<span class="nv">i0</span> <span class="nv">j0</span> : G) (<span class="nv">g0</span> : G i0 j0) (<span class="nv">x0</span> : D i0) =&gt;
         path_forall
           (transport (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
              (colimp i0 j0 g0 x0)
              (<span class="kr">fun</span> <span class="nv">y</span> : E (j0; (D _f g0) x0) =&gt;
               q j0 ((D _f g0) x0; y)))
           (<span class="kr">fun</span> <span class="nv">y</span> : E (i0; x0) =&gt; q i0 (x0; y))
           (<span class="kr">fun</span> <span class="nv">y</span> : E (i0; x0) =&gt;
            transport_arrow_toconst
              (colimp i0 j0 g0 x0)
              (<span class="kr">fun</span> <span class="nv">y0</span> : E (j0; (D _f g0) x0) =&gt;
               q j0 ((D _f g0) x0; y0)) y @
            (ap11 <span class="mi">1</span>
               (path_sigma&#39;
                  (<span class="kr">fun</span> <span class="nv">x1</span> : D j0 =&gt; E (j0; x1)) <span class="mi">1</span>
                  (transport_E&#39;_V g0 x0 y)) @
             qq i0 j0 g0 (x0; y)))) X.<span class="mi">1</span> X.<span class="mi">2</span>)) i j g x @
<span class="nl">?path_legs</span> i x =
<span class="nl">?path_legs</span> j (((diagram_sigma E) _f g) x) @
legs_comm {| legs := q; legs_comm := qq |} i j g x</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk3c" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk3c"><span class="highlight">+</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">q</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : G, diagram_sigma E i -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">qq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j),
(<span class="kr">fun</span> <span class="nv">x</span> : diagram_sigma E i =&gt;
 q j (((diagram_sigma E) _f g) x)) == q i</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : G,
cocone_postcompose cocone_E&#39;
  (<span class="kr">fun</span> <span class="nv">X</span> : {x : _ &amp; E&#39; x} =&gt;
   Colimit_ind (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
     (<span class="kr">fun</span> (<span class="nv">i0</span> : G) (<span class="nv">x</span> : D i0) (<span class="nv">y</span> : E (i0; x)) =&gt;
      q i0 (x; y))
     (<span class="kr">fun</span> (<span class="nv">i0</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i0 j) (<span class="nv">x</span> : D i0) =&gt;
      path_forall
        (transport (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
           (colimp i0 j g x)
           (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt;
            q j ((D _f g) x; y)))
        (<span class="kr">fun</span> <span class="nv">y</span> : E (i0; x) =&gt; q i0 (x; y))
        (<span class="kr">fun</span> <span class="nv">y</span> : E (i0; x) =&gt;
         transport_arrow_toconst (colimp i0 j g x)
           (<span class="kr">fun</span> <span class="nv">y0</span> : E (j; (D _f g) x) =&gt;
            q j ((D _f g) x; y0)) y @
         (ap11 <span class="mi">1</span>
            (path_sigma&#39; (<span class="kr">fun</span> <span class="nv">x0</span> : D j =&gt; E (j; x0)) <span class="mi">1</span>
               (transport_E&#39;_V g x y)) @
          qq i0 j g (x; y)))) X.<span class="mi">1</span> X.<span class="mi">2</span>) i ==
{| legs := q; legs_comm := qq |} i</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">intros</span> i x; <span class="bp">reflexivity</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk3d" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk3d"><span class="highlight">+</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">q</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : G, diagram_sigma E i -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">qq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j),
(<span class="kr">fun</span> <span class="nv">x</span> : diagram_sigma E i =&gt;
 q j (((diagram_sigma E) _f g) x)) == q i</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : diagram_sigma E i),
legs_comm
  (cocone_postcompose cocone_E&#39;
     (<span class="kr">fun</span> <span class="nv">X</span> : {x : _ &amp; E&#39; x} =&gt;
      Colimit_ind (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
        (<span class="kr">fun</span> (<span class="nv">i0</span> : G) (<span class="nv">x0</span> : D i0) (<span class="nv">y</span> : E (i0; x0)) =&gt;
         q i0 (x0; y))
        (<span class="kr">fun</span> (<span class="nv">i0</span> <span class="nv">j0</span> : G) (<span class="nv">g0</span> : G i0 j0) (<span class="nv">x0</span> : D i0) =&gt;
         path_forall
           (transport (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
              (colimp i0 j0 g0 x0)
              (<span class="kr">fun</span> <span class="nv">y</span> : E (j0; (D _f g0) x0) =&gt;
               q j0 ((D _f g0) x0; y)))
           (<span class="kr">fun</span> <span class="nv">y</span> : E (i0; x0) =&gt; q i0 (x0; y))
           (<span class="kr">fun</span> <span class="nv">y</span> : E (i0; x0) =&gt;
            transport_arrow_toconst
              (colimp i0 j0 g0 x0)
              (<span class="kr">fun</span> <span class="nv">y0</span> : E (j0; (D _f g0) x0) =&gt;
               q j0 ((D _f g0) x0; y0)) y @
            (ap11 <span class="mi">1</span>
               (path_sigma&#39;
                  (<span class="kr">fun</span> <span class="nv">x1</span> : D j0 =&gt; E (j0; x1)) <span class="mi">1</span>
                  (transport_E&#39;_V g0 x0 y)) @
             qq i0 j0 g0 (x0; y)))) X.<span class="mi">1</span> X.<span class="mi">2</span>)) i j g x @
(<span class="kr">fun</span> (<span class="nv">i0</span> : G) (<span class="nv">x0</span> : diagram_sigma E i0) =&gt; <span class="mi">1</span>) i x =
(<span class="kr">fun</span> (<span class="nv">i0</span> : G) (<span class="nv">x0</span> : diagram_sigma E i0) =&gt; <span class="mi">1</span>) j
  (((diagram_sigma E) _f g) x) @
legs_comm {| legs := q; legs_comm := qq |} i j g x</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk3e" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk3e"><span class="highlight"><span class="nb">intros</span> i j g [x y].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">q</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : G, diagram_sigma E i -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">qq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j),
(<span class="kr">fun</span> <span class="nv">x</span> : diagram_sigma E i =&gt;
 q j (((diagram_sigma E) _f g) x)) == q i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">legs_comm
  (cocone_postcompose cocone_E&#39;
     (<span class="kr">fun</span> <span class="nv">X</span> : {x : _ &amp; E&#39; x} =&gt;
      Colimit_ind (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
        (<span class="kr">fun</span> (<span class="nv">i</span> : G) (<span class="nv">x</span> : D i) (<span class="nv">y</span> : E (i; x)) =&gt;
         q i (x; y))
        (<span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
         path_forall
           (transport (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
              (colimp i j g x)
              (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt;
               q j ((D _f g) x; y)))
           (<span class="kr">fun</span> <span class="nv">y</span> : E (i; x) =&gt; q i (x; y))
           (<span class="kr">fun</span> <span class="nv">y</span> : E (i; x) =&gt;
            transport_arrow_toconst (colimp i j g x)
              (<span class="kr">fun</span> <span class="nv">y0</span> : E (j; (D _f g) x) =&gt;
               q j ((D _f g) x; y0)) y @
            (ap11 <span class="mi">1</span>
               (path_sigma&#39;
                  (<span class="kr">fun</span> <span class="nv">x0</span> : D j =&gt; E (j; x0)) <span class="mi">1</span>
                  (transport_E&#39;_V g x y)) @
             qq i j g (x; y)))) X.<span class="mi">1</span> X.<span class="mi">2</span>)) i j g (x; y) @
<span class="mi">1</span> =
<span class="mi">1</span> @
legs_comm {| legs := q; legs_comm := qq |} i j g
  (x; y)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk3f" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk3f"><span class="highlight"><span class="nb">rewrite</span> concat_1p, concat_p1.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">q</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : G, diagram_sigma E i -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">qq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j),
(<span class="kr">fun</span> <span class="nv">x</span> : diagram_sigma E i =&gt;
 q j (((diagram_sigma E) _f g) x)) == q i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">legs_comm
  (cocone_postcompose cocone_E&#39;
     (<span class="kr">fun</span> <span class="nv">X</span> : {x : _ &amp; E&#39; x} =&gt;
      Colimit_ind (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
        (<span class="kr">fun</span> (<span class="nv">i</span> : G) (<span class="nv">x</span> : D i) (<span class="nv">y</span> : E (i; x)) =&gt;
         q i (x; y))
        (<span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
         path_forall
           (transport (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
              (colimp i j g x)
              (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt;
               q j ((D _f g) x; y)))
           (<span class="kr">fun</span> <span class="nv">y</span> : E (i; x) =&gt; q i (x; y))
           (<span class="kr">fun</span> <span class="nv">y</span> : E (i; x) =&gt;
            transport_arrow_toconst (colimp i j g x)
              (<span class="kr">fun</span> <span class="nv">y0</span> : E (j; (D _f g) x) =&gt;
               q j ((D _f g) x; y0)) y @
            (ap11 <span class="mi">1</span>
               (path_sigma&#39;
                  (<span class="kr">fun</span> <span class="nv">x0</span> : D j =&gt; E (j; x0)) <span class="mi">1</span>
                  (transport_E&#39;_V g x y)) @
             qq i j g (x; y)))) X.<span class="mi">1</span> X.<span class="mi">2</span>)) i j g (x; y) =
legs_comm {| legs := q; legs_comm := qq |} i j g
  (x; y)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk40" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk40"><span class="highlight"><span class="nb">cbn</span>; <span class="nb">rewrite</span> ap_path_sigma.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">q</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : G, diagram_sigma E i -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">qq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j),
(<span class="kr">fun</span> <span class="nv">x</span> : diagram_sigma E i =&gt;
 q j (((diagram_sigma E) _f g) x)) == q i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(ap
   (Colimit_ind (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
      (<span class="kr">fun</span> (<span class="nv">i</span> : G) (<span class="nv">x</span> : D i) (<span class="nv">y</span> : E (i; x)) =&gt;
       q i (x; y))
      (<span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
       path_forall
         (transport (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
            (colimp i j g x)
            (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt;
             q j ((D _f g) x; y)))
         (<span class="kr">fun</span> <span class="nv">y</span> : E (i; x) =&gt; q i (x; y))
         (<span class="kr">fun</span> <span class="nv">y</span> : E (i; x) =&gt;
          transport_arrow_toconst (colimp i j g x)
            (<span class="kr">fun</span> <span class="nv">y0</span> : E (j; (D _f g) x) =&gt;
             q j ((D _f g) x; y0)) y @
          (ap11 <span class="mi">1</span>
             (path_sigma&#39; (<span class="kr">fun</span> <span class="nv">x0</span> : D j =&gt; E (j; x0))
                <span class="mi">1</span> (transport_E&#39;_V g x y)) @
           qq i j g (x; y)))) (colim j ((D _f g) x)))
   (moveL_transport_V E&#39; (colimp i j g x)
      ((E _f (g; <span class="mi">1</span>)) y) y (transport_E&#39; g x y)) @
 (transport_arrow_toconst (colimp i j g x)
    (Colimit_ind (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
       (<span class="kr">fun</span> (<span class="nv">i</span> : G) (<span class="nv">x</span> : D i) (<span class="nv">y</span> : E (i; x)) =&gt;
        q i (x; y))
       (<span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
        path_forall
          (transport (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
             (colimp i j g x)
             (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt;
              q j ((D _f g) x; y)))
          (<span class="kr">fun</span> <span class="nv">y</span> : E (i; x) =&gt; q i (x; y))
          (<span class="kr">fun</span> <span class="nv">y</span> : E (i; x) =&gt;
           transport_arrow_toconst (colimp i j g x)
             (<span class="kr">fun</span> <span class="nv">y0</span> : E (j; (D _f g) x) =&gt;
              q j ((D _f g) x; y0)) y @
           (ap11 <span class="mi">1</span>
              (path_sigma&#39; (<span class="kr">fun</span> <span class="nv">x0</span> : D j =&gt; E (j; x0))
                 <span class="mi">1</span> (transport_E&#39;_V g x y)) @
            qq i j g (x; y)))) (colim j ((D _f g) x)))
    y)^) @
ap10
  (apD
     (Colimit_ind (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
        (<span class="kr">fun</span> (<span class="nv">i</span> : G) (<span class="nv">x</span> : D i) (<span class="nv">y</span> : E (i; x)) =&gt;
         q i (x; y))
        (<span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
         path_forall
           (transport (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
              (colimp i j g x)
              (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt;
               q j ((D _f g) x; y)))
           (<span class="kr">fun</span> <span class="nv">y</span> : E (i; x) =&gt; q i (x; y))
           (<span class="kr">fun</span> <span class="nv">y</span> : E (i; x) =&gt;
            transport_arrow_toconst (colimp i j g x)
              (<span class="kr">fun</span> <span class="nv">y0</span> : E (j; (D _f g) x) =&gt;
               q j ((D _f g) x; y0)) y @
            (ap11 <span class="mi">1</span>
               (path_sigma&#39;
                  (<span class="kr">fun</span> <span class="nv">x0</span> : D j =&gt; E (j; x0)) <span class="mi">1</span>
                  (transport_E&#39;_V g x y)) @
             qq i j g (x; y))))) (colimp i j g x)) y =
qq i j g (x; y)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk41" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk41"><span class="highlight"><span class="nb">cbn</span>; <span class="nb">rewrite</span> Colimit_ind_beta_colimp.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">q</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : G, diagram_sigma E i -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">qq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j),
(<span class="kr">fun</span> <span class="nv">x</span> : diagram_sigma E i =&gt;
 q j (((diagram_sigma E) _f g) x)) == q i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(ap (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt; q j ((D _f g) x; y))
   (moveL_transport_V E&#39; (colimp i j g x)
      ((E _f (g; <span class="mi">1</span>)) y) y (transport_E&#39; g x y)) @
 (transport_arrow_toconst (colimp i j g x)
    (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt; q j ((D _f g) x; y))
    y)^) @
ap10
  (path_forall
     (transport (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
        (colimp i j g x)
        (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt;
         q j ((D _f g) x; y)))
     (<span class="kr">fun</span> <span class="nv">y</span> : E (i; x) =&gt; q i (x; y))
     (<span class="kr">fun</span> <span class="nv">y</span> : E (i; x) =&gt;
      transport_arrow_toconst (colimp i j g x)
        (<span class="kr">fun</span> <span class="nv">y0</span> : E (j; (D _f g) x) =&gt;
         q j ((D _f g) x; y0)) y @
      (ap11 <span class="mi">1</span>
         (path_sigma&#39; (<span class="kr">fun</span> <span class="nv">x</span> : D j =&gt; E (j; x)) <span class="mi">1</span>
            (transport_E&#39;_V g x y)) @ qq i j g (x; y))))
  y = qq i j g (x; y)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk42" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk42"><span class="highlight"><span class="nb">rewrite</span> ap10_path_forall.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">q</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : G, diagram_sigma E i -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">qq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j),
(<span class="kr">fun</span> <span class="nv">x</span> : diagram_sigma E i =&gt;
 q j (((diagram_sigma E) _f g) x)) == q i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(ap (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt; q j ((D _f g) x; y))
   (moveL_transport_V E&#39; (colimp i j g x)
      ((E _f (g; <span class="mi">1</span>)) y) y (transport_E&#39; g x y)) @
 (transport_arrow_toconst (colimp i j g x)
    (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt; q j ((D _f g) x; y))
    y)^) @
(transport_arrow_toconst (colimp i j g x)
   (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt; q j ((D _f g) x; y))
   y @
 (ap11 <span class="mi">1</span>
    (path_sigma&#39; (<span class="kr">fun</span> <span class="nv">x</span> : D j =&gt; E (j; x)) <span class="mi">1</span>
       (transport_E&#39;_V g x y)) @ qq i j g (x; y))) =
qq i j g (x; y)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk43" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk43"><span class="highlight">hott_simpl.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">q</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : G, diagram_sigma E i -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">qq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j),
(<span class="kr">fun</span> <span class="nv">x</span> : diagram_sigma E i =&gt;
 q j (((diagram_sigma E) _f g) x)) == q i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(ap (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt; q j ((D _f g) x; y))
   (moveL_transport_V E&#39; (colimp i j g x)
      ((E _f (g; <span class="mi">1</span>)) y) y (transport_E&#39; g x y)) @
 ap11 <span class="mi">1</span>
   (path_sigma&#39; (<span class="kr">fun</span> <span class="nv">x</span> : D j =&gt; E (j; x)) <span class="mi">1</span>
      (transport_E&#39;_V g x y))) @ qq i j g (x; y) =
qq i j g (x; y)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk44" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk44"><span class="highlight"><span class="nb">refine</span> (_ @ concat_1p _).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">q</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : G, diagram_sigma E i -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">qq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j),
(<span class="kr">fun</span> <span class="nv">x</span> : diagram_sigma E i =&gt;
 q j (((diagram_sigma E) _f g) x)) == q i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(ap (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt; q j ((D _f g) x; y))
   (moveL_transport_V E&#39; (colimp i j g x)
      ((E _f (g; <span class="mi">1</span>)) y) y (transport_E&#39; g x y)) @
 ap11 <span class="mi">1</span>
   (path_sigma&#39; (<span class="kr">fun</span> <span class="nv">x</span> : D j =&gt; E (j; x)) <span class="mi">1</span>
      (transport_E&#39;_V g x y))) @ qq i j g (x; y) =
<span class="mi">1</span> @ qq i j g (x; y)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk45" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk45"><span class="highlight"><span class="nb">refine</span> (_ @@ <span class="mi">1</span>).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">q</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : G, diagram_sigma E i -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">qq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j),
(<span class="kr">fun</span> <span class="nv">x</span> : diagram_sigma E i =&gt;
 q j (((diagram_sigma E) _f g) x)) == q i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ap (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt; q j ((D _f g) x; y))
  (moveL_transport_V E&#39; (colimp i j g x)
     ((E _f (g; <span class="mi">1</span>)) y) y (transport_E&#39; g x y)) @
ap11 <span class="mi">1</span>
  (path_sigma&#39; (<span class="kr">fun</span> <span class="nv">x</span> : D j =&gt; E (j; x)) <span class="mi">1</span>
     (transport_E&#39;_V g x y)) = <span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk46" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk46"><span class="highlight"><span class="kr">match goal with</span> |- ap _ <span class="nl">?X</span> @ _ = _ =&gt; <span class="nb">set</span> X <span class="kr">end</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">q</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : G, diagram_sigma E i -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">qq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j),
(<span class="kr">fun</span> <span class="nv">x</span> : diagram_sigma E i =&gt;
 q j (((diagram_sigma E) _f g) x)) == q i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">moveL_transport_V E&#39; (colimp i j g x)
  ((E _f (g; <span class="mi">1</span>)) y) y (transport_E&#39; g x y)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(E _f (g; <span class="mi">1</span>)) y = transport E&#39; (colimp i j g x)^ y</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ap (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt; q j ((D _f g) x; y))
  p @
ap11 <span class="mi">1</span>
  (path_sigma&#39; (<span class="kr">fun</span> <span class="nv">x</span> : D j =&gt; E (j; x)) <span class="mi">1</span>
     (transport_E&#39;_V g x y)) = <span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk47" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk47"><span class="highlight"><span class="nb">assert</span> (transport_E&#39;_V g x y = p^).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">q</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : G, diagram_sigma E i -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">qq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j),
(<span class="kr">fun</span> <span class="nv">x</span> : diagram_sigma E i =&gt;
 q j (((diagram_sigma E) _f g) x)) == q i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">moveL_transport_V E&#39; (colimp i j g x)
  ((E _f (g; <span class="mi">1</span>)) y) y (transport_E&#39; g x y)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(E _f (g; <span class="mi">1</span>)) y = transport E&#39; (colimp i j g x)^ y</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">transport_E&#39;_V g x y = p^</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="colimit-flattening-v-chk48" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">q</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : G, diagram_sigma E i -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">qq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j),
(<span class="kr">fun</span> <span class="nv">x</span> : diagram_sigma E i =&gt;
 q j (((diagram_sigma E) _f g) x)) == q i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">moveL_transport_V E&#39; (colimp i j g x)
  ((E _f (g; <span class="mi">1</span>)) y) y (transport_E&#39; g x y)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(E _f (g; <span class="mi">1</span>)) y = transport E&#39; (colimp i j g x)^ y</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">transport_E&#39;_V g x y = p^</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="colimit-flattening-v-chk48"><hr></label><div class="goal-conclusion"><span class="highlight">ap (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt; q j ((D _f g) x; y))
  p @
ap11 <span class="mi">1</span>
  (path_sigma&#39; (<span class="kr">fun</span> <span class="nv">x</span> : D j =&gt; E (j; x)) <span class="mi">1</span>
     (transport_E&#39;_V g x y)) = <span class="mi">1</span></span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk49" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk49"><span class="highlight">{</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">q</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : G, diagram_sigma E i -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">qq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j),
(<span class="kr">fun</span> <span class="nv">x</span> : diagram_sigma E i =&gt;
 q j (((diagram_sigma E) _f g) x)) == q i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">moveL_transport_V E&#39; (colimp i j g x)
  ((E _f (g; <span class="mi">1</span>)) y) y (transport_E&#39; g x y)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(E _f (g; <span class="mi">1</span>)) y = transport E&#39; (colimp i j g x)^ y</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">transport_E&#39;_V g x y = p^</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk4a" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk4a"><span class="highlight"><span class="nb">subst</span> p.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">q</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : G, diagram_sigma E i -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">qq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j),
(<span class="kr">fun</span> <span class="nv">x</span> : diagram_sigma E i =&gt;
 q j (((diagram_sigma E) _f g) x)) == q i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">transport_E&#39;_V g x y =
(moveL_transport_V E&#39; (colimp i j g x)
   ((E _f (g; <span class="mi">1</span>)) y) y (transport_E&#39; g x y))^</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">exact</span> (moveL_transport_V_V E&#39; _ _ _ _)^.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk4b" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk4b"><span class="highlight">}</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">q</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : G, diagram_sigma E i -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">qq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j),
(<span class="kr">fun</span> <span class="nv">x</span> : diagram_sigma E i =&gt;
 q j (((diagram_sigma E) _f g) x)) == q i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">moveL_transport_V E&#39; (colimp i j g x)
  ((E _f (g; <span class="mi">1</span>)) y) y (transport_E&#39; g x y)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(E _f (g; <span class="mi">1</span>)) y = transport E&#39; (colimp i j g x)^ y</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">transport_E&#39;_V g x y = p^</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ap (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt; q j ((D _f g) x; y))
  p @
ap11 <span class="mi">1</span>
  (path_sigma&#39; (<span class="kr">fun</span> <span class="nv">x</span> : D j =&gt; E (j; x)) <span class="mi">1</span>
     (transport_E&#39;_V g x y)) = <span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk4c" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk4c"><span class="highlight"><span class="nb">rewrite</span> X.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">q</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : G, diagram_sigma E i -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">qq</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j),
(<span class="kr">fun</span> <span class="nv">x</span> : diagram_sigma E i =&gt;
 q j (((diagram_sigma E) _f g) x)) == q i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">moveL_transport_V E&#39; (colimp i j g x)
  ((E _f (g; <span class="mi">1</span>)) y) y (transport_E&#39; g x y)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(E _f (g; <span class="mi">1</span>)) y = transport E&#39; (colimp i j g x)^ y</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">transport_E&#39;_V g x y = p^</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ap (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt; q j ((D _f g) x; y))
  p @
ap11 <span class="mi">1</span> (path_sigma&#39; (<span class="kr">fun</span> <span class="nv">x</span> : D j =&gt; E (j; x)) <span class="mi">1</span> p^) =
<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk4d" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk4d"><span class="highlight"><span class="nb">clearbody</span> p; <span class="nb">clear</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">q</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : G, diagram_sigma E i -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(E _f (g; <span class="mi">1</span>)) y = transport E&#39; (colimp i j g x)^ y</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ap (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt; q j ((D _f g) x; y))
  p @
ap11 <span class="mi">1</span> (path_sigma&#39; (<span class="kr">fun</span> <span class="nv">x</span> : D j =&gt; E (j; x)) <span class="mi">1</span> p^) =
<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk4e" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk4e"><span class="highlight"><span class="nb">set</span> (E_f g x y) <span class="kr">in</span> *.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">q</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : G, diagram_sigma E i -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(E _f (g; <span class="mi">1</span>)) y = transport E&#39; (colimp i j g x)^ y</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">o</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">E_f g x y</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (j; (D _f g) x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ap (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt; q j ((D _f g) x; y))
  p @
ap11 <span class="mi">1</span> (path_sigma&#39; (<span class="kr">fun</span> <span class="nv">x</span> : D j =&gt; E (j; x)) <span class="mi">1</span> p^) =
<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk4f" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk4f"><span class="highlight"><span class="nb">destruct</span> p.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">q</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : G, diagram_sigma E i -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">o</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">E_f g x y</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (j; (D _f g) x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ap (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt; q j ((D _f g) x; y))
  <span class="mi">1</span> @
ap11 <span class="mi">1</span> (path_sigma&#39; (<span class="kr">fun</span> <span class="nv">x</span> : D j =&gt; E (j; x)) <span class="mi">1</span> <span class="mi">1</span>^) =
<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk50" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk50"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">fun</span> <span class="nv">X</span> : Cocone (diagram_sigma E) Z =&gt;
 (<span class="kr">fun</span> (<span class="nv">q</span> : <span class="kr">forall</span> <span class="nv">i</span> : G, diagram_sigma E i -&gt; Z)
    (<span class="nv">qq</span> : <span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j),
          (<span class="kr">fun</span> <span class="nv">x</span> : diagram_sigma E i =&gt;
           q j (((diagram_sigma E) _f g) x)) == q i)
    (<span class="nv">X0</span> : {x : _ &amp; E&#39; x}) =&gt;
  (<span class="kr">fun</span> (<span class="nv">x</span> : Colimit D) (<span class="nv">y</span> : E&#39; x) =&gt;
   Colimit_ind (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
     (<span class="kr">fun</span> (<span class="nv">i</span> : G) (<span class="nv">x0</span> : D i) (<span class="nv">y0</span> : E (i; x0)) =&gt;
      q i (x0; y0))
     (<span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x0</span> : D i) =&gt;
      path_forall
        (transport (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
           (colimp i j g x0)
           (<span class="kr">fun</span> <span class="nv">y0</span> : E (j; (D _f g) x0) =&gt;
            q j ((D _f g) x0; y0)))
        (<span class="kr">fun</span> <span class="nv">y0</span> : E (i; x0) =&gt; q i (x0; y0))
        (<span class="kr">fun</span> <span class="nv">y0</span> : E (i; x0) =&gt;
         transport_arrow_toconst (colimp i j g x0)
           (<span class="kr">fun</span> <span class="nv">y1</span> : E (j; (D _f g) x0) =&gt;
            q j ((D _f g) x0; y1)) y0 @
         (ap11 <span class="mi">1</span>
            (path_sigma&#39; (<span class="kr">fun</span> <span class="nv">x1</span> : D j =&gt; E (j; x1)) <span class="mi">1</span>
               (transport_E&#39;_V g x0 y0)) @
          qq i j g (x0; y0)))) x y) X0.<span class="mi">1</span> X0.<span class="mi">2</span>) X
   (legs_comm X)) o cocone_postcompose cocone_E&#39; ==
idmap</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk51" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk51"><span class="highlight"><span class="nb">intro</span> f.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">fun</span> <span class="nv">X</span> : {x : _ &amp; E&#39; x} =&gt;
 Colimit_ind (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
   (<span class="kr">fun</span> (<span class="nv">i</span> : G) (<span class="nv">x</span> : D i) (<span class="nv">y</span> : E (i; x)) =&gt;
    cocone_postcompose cocone_E&#39; f i (x; y))
   (<span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
    path_forall
      (transport (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
         (colimp i j g x)
         (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt;
          cocone_postcompose cocone_E&#39; f j
            ((D _f g) x; y)))
      (<span class="kr">fun</span> <span class="nv">y</span> : E (i; x) =&gt;
       cocone_postcompose cocone_E&#39; f i (x; y))
      (<span class="kr">fun</span> <span class="nv">y</span> : E (i; x) =&gt;
       transport_arrow_toconst (colimp i j g x)
         (<span class="kr">fun</span> <span class="nv">y0</span> : E (j; (D _f g) x) =&gt;
          cocone_postcompose cocone_E&#39; f j
            ((D _f g) x; y0)) y @
       (ap11 <span class="mi">1</span>
          (path_sigma&#39; (<span class="kr">fun</span> <span class="nv">x0</span> : D j =&gt; E (j; x0)) <span class="mi">1</span>
             (transport_E&#39;_V g x y)) @
        legs_comm (cocone_postcompose cocone_E&#39; f) i j
          g (x; y)))) X.<span class="mi">1</span> X.<span class="mi">2</span>) = f</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk52" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk52"><span class="highlight">funext [x y].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Colimit D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E&#39; x</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Colimit_ind (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
  (<span class="kr">fun</span> (<span class="nv">i</span> : G) (<span class="nv">x</span> : D i) (<span class="nv">y</span> : E (i; x)) =&gt;
   cocone_postcompose cocone_E&#39; f i (x; y))
  (<span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
   path_forall
     (transport (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
        (colimp i j g x)
        (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt;
         cocone_postcompose cocone_E&#39; f j
           ((D _f g) x; y)))
     (<span class="kr">fun</span> <span class="nv">y</span> : E (i; x) =&gt;
      cocone_postcompose cocone_E&#39; f i (x; y))
     (<span class="kr">fun</span> <span class="nv">y</span> : E (i; x) =&gt;
      transport_arrow_toconst (colimp i j g x)
        (<span class="kr">fun</span> <span class="nv">y0</span> : E (j; (D _f g) x) =&gt;
         cocone_postcompose cocone_E&#39; f j
           ((D _f g) x; y0)) y @
      (ap11 <span class="mi">1</span>
         (path_sigma&#39; (<span class="kr">fun</span> <span class="nv">x0</span> : D j =&gt; E (j; x0)) <span class="mi">1</span>
            (transport_E&#39;_V g x y)) @
       legs_comm (cocone_postcompose cocone_E&#39; f) i j
         g (x; y)))) x y = f (x; y)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk53" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk53"><span class="highlight"><span class="nb">revert</span> x y; <span class="nb">cbn</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">x</span> : Colimit D) (<span class="nv">y</span> : E&#39; x),
Colimit_ind (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
  (<span class="kr">fun</span> (<span class="nv">i</span> : G) (<span class="nv">x0</span> : D i) (<span class="nv">y0</span> : E (i; x0)) =&gt;
   f (colim i x0; y0))
  (<span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x0</span> : D i) =&gt;
   path_forall
     (transport (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
        (colimp i j g x0)
        (<span class="kr">fun</span> <span class="nv">y0</span> : E (j; (D _f g) x0) =&gt;
         f (colim j ((D _f g) x0); y0)))
     (<span class="kr">fun</span> <span class="nv">y0</span> : E (i; x0) =&gt; f (colim i x0; y0))
     (<span class="kr">fun</span> <span class="nv">y0</span> : E (i; x0) =&gt;
      transport_arrow_toconst (colimp i j g x0)
        (<span class="kr">fun</span> <span class="nv">y1</span> : E (j; (D _f g) x0) =&gt;
         f (colim j ((D _f g) x0); y1)) y0 @
      (ap11 <span class="mi">1</span>
         (path_sigma&#39; (<span class="kr">fun</span> <span class="nv">x1</span> : D j =&gt; E (j; x1)) <span class="mi">1</span>
            (transport_E&#39;_V g x0 y0)) @
       ap f
         (path_sigma&#39; E&#39; (colimp i j g x0)
            (transport_E&#39; g x0 y0))))) x y = f (x; y)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk54" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk54"><span class="highlight">srapply Colimit_ind; <span class="nb">cbn</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> : G) (<span class="nv">x</span> : D i) (<span class="nv">y</span> : E (i; x)),
f (colim i x; y) = f (colim i x; y)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="colimit-flattening-v-chk55" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="colimit-flattening-v-chk55"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i),
transport
  (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt;
   <span class="kr">forall</span> <span class="nv">y</span> : E&#39; w,
   Colimit_ind (<span class="kr">fun</span> <span class="nv">w0</span> : Colimit D =&gt; E&#39; w0 -&gt; Z)
     (<span class="kr">fun</span> (<span class="nv">i0</span> : G) (<span class="nv">x0</span> : D i0) (<span class="nv">y0</span> : E (i0; x0)) =&gt;
      f (colim i0 x0; y0))
     (<span class="kr">fun</span> (<span class="nv">i0</span> <span class="nv">j0</span> : G) (<span class="nv">g0</span> : G i0 j0) (<span class="nv">x0</span> : D i0) =&gt;
      path_forall
        (transport (<span class="kr">fun</span> <span class="nv">w0</span> : Colimit D =&gt; E&#39; w0 -&gt; Z)
           (colimp i0 j0 g0 x0)
           (<span class="kr">fun</span> <span class="nv">y0</span> : E (j0; (D _f g0) x0) =&gt;
            f (colim j0 ((D _f g0) x0); y0)))
        (<span class="kr">fun</span> <span class="nv">y0</span> : E (i0; x0) =&gt; f (colim i0 x0; y0))
        (<span class="kr">fun</span> <span class="nv">y0</span> : E (i0; x0) =&gt;
         transport_arrow_toconst (colimp i0 j0 g0 x0)
           (<span class="kr">fun</span> <span class="nv">y1</span> : E (j0; (D _f g0) x0) =&gt;
            f (colim j0 ((D _f g0) x0); y1)) y0 @
         (ap11 <span class="mi">1</span>
            (path_sigma&#39; (<span class="kr">fun</span> <span class="nv">x1</span> : D j0 =&gt; E (j0; x1))
               <span class="mi">1</span> (transport_E&#39;_V g0 x0 y0)) @
          ap f
            (path_sigma&#39; E&#39; (colimp i0 j0 g0 x0)
               (transport_E&#39; g0 x0 y0))))) w y =
   f (w; y)) (colimp i j g x) (<span class="nl">?Goal</span> j ((D _f g) x)) =
<span class="nl">?Goal</span> i x</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk56" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk56"><span class="highlight">+</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> : G) (<span class="nv">x</span> : D i) (<span class="nv">y</span> : E (i; x)),
f (colim i x; y) = f (colim i x; y)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">reflexivity</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk57" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk57"><span class="highlight">+</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i),
transport
  (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt;
   <span class="kr">forall</span> <span class="nv">y</span> : E&#39; w,
   Colimit_ind (<span class="kr">fun</span> <span class="nv">w0</span> : Colimit D =&gt; E&#39; w0 -&gt; Z)
     (<span class="kr">fun</span> (<span class="nv">i0</span> : G) (<span class="nv">x0</span> : D i0) (<span class="nv">y0</span> : E (i0; x0)) =&gt;
      f (colim i0 x0; y0))
     (<span class="kr">fun</span> (<span class="nv">i0</span> <span class="nv">j0</span> : G) (<span class="nv">g0</span> : G i0 j0) (<span class="nv">x0</span> : D i0) =&gt;
      path_forall
        (transport (<span class="kr">fun</span> <span class="nv">w0</span> : Colimit D =&gt; E&#39; w0 -&gt; Z)
           (colimp i0 j0 g0 x0)
           (<span class="kr">fun</span> <span class="nv">y0</span> : E (j0; (D _f g0) x0) =&gt;
            f (colim j0 ((D _f g0) x0); y0)))
        (<span class="kr">fun</span> <span class="nv">y0</span> : E (i0; x0) =&gt; f (colim i0 x0; y0))
        (<span class="kr">fun</span> <span class="nv">y0</span> : E (i0; x0) =&gt;
         transport_arrow_toconst (colimp i0 j0 g0 x0)
           (<span class="kr">fun</span> <span class="nv">y1</span> : E (j0; (D _f g0) x0) =&gt;
            f (colim j0 ((D _f g0) x0); y1)) y0 @
         (ap11 <span class="mi">1</span>
            (path_sigma&#39; (<span class="kr">fun</span> <span class="nv">x1</span> : D j0 =&gt; E (j0; x1))
               <span class="mi">1</span> (transport_E&#39;_V g0 x0 y0)) @
          ap f
            (path_sigma&#39; E&#39; (colimp i0 j0 g0 x0)
               (transport_E&#39; g0 x0 y0))))) w y =
   f (w; y)) (colimp i j g x)
  ((<span class="kr">fun</span> (<span class="nv">i0</span> : G) (<span class="nv">x0</span> : D i0) (<span class="nv">y</span> : E (i0; x0)) =&gt; <span class="mi">1</span>) j
     ((D _f g) x)) =
(<span class="kr">fun</span> (<span class="nv">i0</span> : G) (<span class="nv">x0</span> : D i0) (<span class="nv">y</span> : E (i0; x0)) =&gt; <span class="mi">1</span>) i x</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk58" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk58"><span class="highlight"><span class="nb">intros</span> i j g x; <span class="nb">cbn</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">transport
  (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt;
   <span class="kr">forall</span> <span class="nv">y</span> : E&#39; w,
   Colimit_ind (<span class="kr">fun</span> <span class="nv">w0</span> : Colimit D =&gt; E&#39; w0 -&gt; Z)
     (<span class="kr">fun</span> (<span class="nv">i</span> : G) (<span class="nv">x</span> : D i) (<span class="nv">y0</span> : E (i; x)) =&gt;
      f (colim i x; y0))
     (<span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
      path_forall
        (transport (<span class="kr">fun</span> <span class="nv">w0</span> : Colimit D =&gt; E&#39; w0 -&gt; Z)
           (colimp i j g x)
           (<span class="kr">fun</span> <span class="nv">y0</span> : E (j; (D _f g) x) =&gt;
            f (colim j ((D _f g) x); y0)))
        (<span class="kr">fun</span> <span class="nv">y0</span> : E (i; x) =&gt; f (colim i x; y0))
        (<span class="kr">fun</span> <span class="nv">y0</span> : E (i; x) =&gt;
         transport_arrow_toconst (colimp i j g x)
           (<span class="kr">fun</span> <span class="nv">y1</span> : E (j; (D _f g) x) =&gt;
            f (colim j ((D _f g) x); y1)) y0 @
         (ap11 <span class="mi">1</span>
            (path_sigma&#39; (<span class="kr">fun</span> <span class="nv">x0</span> : D j =&gt; E (j; x0)) <span class="mi">1</span>
               (transport_E&#39;_V g x y0)) @
          ap f
            (path_sigma&#39; E&#39; (colimp i j g x)
               (transport_E&#39; g x y0))))) w y =
   f (w; y)) (colimp i j g x)
  (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt; <span class="mi">1</span>) =
(<span class="kr">fun</span> <span class="nv">y</span> : E (i; x) =&gt; <span class="mi">1</span>)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk59" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk59"><span class="highlight">funext y.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">transport
  (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt;
   <span class="kr">forall</span> <span class="nv">y</span> : E&#39; w,
   Colimit_ind (<span class="kr">fun</span> <span class="nv">w0</span> : Colimit D =&gt; E&#39; w0 -&gt; Z)
     (<span class="kr">fun</span> (<span class="nv">i</span> : G) (<span class="nv">x</span> : D i) (<span class="nv">y0</span> : E (i; x)) =&gt;
      f (colim i x; y0))
     (<span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
      path_forall
        (transport (<span class="kr">fun</span> <span class="nv">w0</span> : Colimit D =&gt; E&#39; w0 -&gt; Z)
           (colimp i j g x)
           (<span class="kr">fun</span> <span class="nv">y0</span> : E (j; (D _f g) x) =&gt;
            f (colim j ((D _f g) x); y0)))
        (<span class="kr">fun</span> <span class="nv">y0</span> : E (i; x) =&gt; f (colim i x; y0))
        (<span class="kr">fun</span> <span class="nv">y0</span> : E (i; x) =&gt;
         transport_arrow_toconst (colimp i j g x)
           (<span class="kr">fun</span> <span class="nv">y1</span> : E (j; (D _f g) x) =&gt;
            f (colim j ((D _f g) x); y1)) y0 @
         (ap11 <span class="mi">1</span>
            (path_sigma&#39; (<span class="kr">fun</span> <span class="nv">x0</span> : D j =&gt; E (j; x0)) <span class="mi">1</span>
               (transport_E&#39;_V g x y0)) @
          ap f
            (path_sigma&#39; E&#39; (colimp i j g x)
               (transport_E&#39; g x y0))))) w y =
   f (w; y)) (colimp i j g x)
  (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt; <span class="mi">1</span>) y = <span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk5a" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk5a"><span class="highlight"><span class="nb">rewrite</span> transport_forall; <span class="nb">cbn</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">transport
  (<span class="kr">fun</span> <span class="nv">y</span> : E (i; x) =&gt;
   f (colim i x; y) = f (colim i x; y))
  (transport_pV E&#39; (colimp i j g x) y)
  (transportD E&#39;
     (<span class="kr">fun</span> (<span class="nv">x</span> : Colimit D) (<span class="nv">y</span> : E&#39; x) =&gt;
      Colimit_ind (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
        (<span class="kr">fun</span> (<span class="nv">i</span> : G) (<span class="nv">x0</span> : D i) (<span class="nv">y0</span> : E (i; x0)) =&gt;
         f (colim i x0; y0))
        (<span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x0</span> : D i) =&gt;
         path_forall
           (transport (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
              (colimp i j g x0)
              (<span class="kr">fun</span> <span class="nv">y0</span> : E (j; (D _f g) x0) =&gt;
               f (colim j ((D _f g) x0); y0)))
           (<span class="kr">fun</span> <span class="nv">y0</span> : E (i; x0) =&gt; f (colim i x0; y0))
           (<span class="kr">fun</span> <span class="nv">y0</span> : E (i; x0) =&gt;
            transport_arrow_toconst (colimp i j g x0)
              (<span class="kr">fun</span> <span class="nv">y1</span> : E (j; (D _f g) x0) =&gt;
               f (colim j ((D _f g) x0); y1)) y0 @
            (ap11 <span class="mi">1</span>
               (path_sigma&#39;
                  (<span class="kr">fun</span> <span class="nv">x1</span> : D j =&gt; E (j; x1)) <span class="mi">1</span>
                  (transport_E&#39;_V g x0 y0)) @
             ap f
               (path_sigma&#39; E&#39; (colimp i j g x0)
                  (transport_E&#39; g x0 y0))))) x y =
      f (x; y)) (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y) <span class="mi">1</span>) = <span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk5b" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk5b"><span class="highlight"><span class="nb">rewrite</span> transport_paths_FlFr.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((ap (<span class="kr">fun</span> <span class="nv">x0</span> : E (i; x) =&gt; f (colim i x; x0))
    (transport_pV E&#39; (colimp i j g x) y))^ @
 transportD E&#39;
   (<span class="kr">fun</span> (<span class="nv">x</span> : Colimit D) (<span class="nv">y</span> : E&#39; x) =&gt;
    Colimit_ind (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
      (<span class="kr">fun</span> (<span class="nv">i</span> : G) (<span class="nv">x0</span> : D i) (<span class="nv">y0</span> : E (i; x0)) =&gt;
       f (colim i x0; y0))
      (<span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x0</span> : D i) =&gt;
       path_forall
         (transport (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
            (colimp i j g x0)
            (<span class="kr">fun</span> <span class="nv">y0</span> : E (j; (D _f g) x0) =&gt;
             f (colim j ((D _f g) x0); y0)))
         (<span class="kr">fun</span> <span class="nv">y0</span> : E (i; x0) =&gt; f (colim i x0; y0))
         (<span class="kr">fun</span> <span class="nv">y0</span> : E (i; x0) =&gt;
          transport_arrow_toconst (colimp i j g x0)
            (<span class="kr">fun</span> <span class="nv">y1</span> : E (j; (D _f g) x0) =&gt;
             f (colim j ((D _f g) x0); y1)) y0 @
          (ap11 <span class="mi">1</span>
             (path_sigma&#39; (<span class="kr">fun</span> <span class="nv">x1</span> : D j =&gt; E (j; x1))
                <span class="mi">1</span> (transport_E&#39;_V g x0 y0)) @
           ap f
             (path_sigma&#39; E&#39; (colimp i j g x0)
                (transport_E&#39; g x0 y0))))) x y =
    f (x; y)) (colimp i j g x)
   (transport E&#39; (colimp i j g x)^ y) <span class="mi">1</span>) @
ap (<span class="kr">fun</span> <span class="nv">x0</span> : E (i; x) =&gt; f (colim i x; x0))
  (transport_pV E&#39; (colimp i j g x) y) = <span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk5c" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk5c"><span class="highlight"><span class="kr">match goal with</span> |- (_ @ <span class="nl">?pp</span>) @ _ = _ =&gt; <span class="nb">set</span> pp <span class="kr">end</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">transportD E&#39;
  (<span class="kr">fun</span> (<span class="nv">x</span> : Colimit D) (<span class="nv">y</span> : E&#39; x) =&gt;
   Colimit_ind (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
     (<span class="kr">fun</span> (<span class="nv">i</span> : G) (<span class="nv">x0</span> : D i) (<span class="nv">y0</span> : E (i; x0)) =&gt;
      f (colim i x0; y0))
     (<span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x0</span> : D i) =&gt;
      path_forall
        (transport (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
           (colimp i j g x0)
           (<span class="kr">fun</span> <span class="nv">y0</span> : E (j; (D _f g) x0) =&gt;
            f (colim j ((D _f g) x0); y0)))
        (<span class="kr">fun</span> <span class="nv">y0</span> : E (i; x0) =&gt; f (colim i x0; y0))
        (<span class="kr">fun</span> <span class="nv">y0</span> : E (i; x0) =&gt;
         transport_arrow_toconst (colimp i j g x0)
           (<span class="kr">fun</span> <span class="nv">y1</span> : E (j; (D _f g) x0) =&gt;
            f (colim j ((D _f g) x0); y1)) y0 @
         (ap11 <span class="mi">1</span>
            (path_sigma&#39;
               (<span class="kr">fun</span> <span class="nv">x1</span> : D j =&gt; E (j; x1)) <span class="mi">1</span>
               (transport_E&#39;_V g x0 y0)) @
          ap f
            (path_sigma&#39; E&#39; (colimp i j g x0)
               (transport_E&#39; g x0 y0))))) x y =
   f (x; y)) (colimp i j g x)
  (transport E&#39; (colimp i j g x)^ y) <span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(<span class="kr">fun</span> (<span class="nv">x</span> : Colimit D) (<span class="nv">y</span> : E&#39; x) =&gt;
 Colimit_ind (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
   (<span class="kr">fun</span> (<span class="nv">i</span> : G) (<span class="nv">x0</span> : D i) (<span class="nv">y0</span> : E (i; x0)) =&gt;
    f (colim i x0; y0))
   (<span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x0</span> : D i) =&gt;
    path_forall
      (transport (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
         (colimp i j g x0)
         (<span class="kr">fun</span> <span class="nv">y0</span> : E (j; (D _f g) x0) =&gt;
          f (colim j ((D _f g) x0); y0)))
      (<span class="kr">fun</span> <span class="nv">y0</span> : E (i; x0) =&gt; f (colim i x0; y0))
      (<span class="kr">fun</span> <span class="nv">y0</span> : E (i; x0) =&gt;
       transport_arrow_toconst (colimp i j g x0)
         (<span class="kr">fun</span> <span class="nv">y1</span> : E (j; (D _f g) x0) =&gt;
          f (colim j ((D _f g) x0); y1)) y0 @
       (ap11 <span class="mi">1</span>
          (path_sigma&#39; (<span class="kr">fun</span> <span class="nv">x1</span> : D j =&gt; E (j; x1))
             <span class="mi">1</span> (transport_E&#39;_V g x0 y0)) @
        ap f
          (path_sigma&#39; E&#39; (colimp i j g x0)
             (transport_E&#39; g x0 y0))))) x y =
 f (x; y)) (colim i x)
  (transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((ap (<span class="kr">fun</span> <span class="nv">x0</span> : E (i; x) =&gt; f (colim i x; x0))
    (transport_pV E&#39; (colimp i j g x) y))^ @ p) @
ap (<span class="kr">fun</span> <span class="nv">x0</span> : E (i; x) =&gt; f (colim i x; x0))
  (transport_pV E&#39; (colimp i j g x) y) = <span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk5d" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk5d"><span class="highlight"><span class="nb">cbn</span> <span class="kr">in</span> p.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">transportD E&#39;
  (<span class="kr">fun</span> (<span class="nv">x</span> : Colimit D) (<span class="nv">y</span> : E&#39; x) =&gt;
   Colimit_ind (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
     (<span class="kr">fun</span> (<span class="nv">i</span> : G) (<span class="nv">x0</span> : D i) (<span class="nv">y0</span> : E (i; x0)) =&gt;
      f (colim i x0; y0))
     (<span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x0</span> : D i) =&gt;
      path_forall
        (transport (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
           (colimp i j g x0)
           (<span class="kr">fun</span> <span class="nv">y0</span> : E (j; (D _f g) x0) =&gt;
            f (colim j ((D _f g) x0); y0)))
        (<span class="kr">fun</span> <span class="nv">y0</span> : E (i; x0) =&gt; f (colim i x0; y0))
        (<span class="kr">fun</span> <span class="nv">y0</span> : E (i; x0) =&gt;
         transport_arrow_toconst (colimp i j g x0)
           (<span class="kr">fun</span> <span class="nv">y1</span> : E (j; (D _f g) x0) =&gt;
            f (colim j ((D _f g) x0); y1)) y0 @
         (ap11 <span class="mi">1</span>
            (path_sigma&#39;
               (<span class="kr">fun</span> <span class="nv">x1</span> : D j =&gt; E (j; x1)) <span class="mi">1</span>
               (transport_E&#39;_V g x0 y0)) @
          ap f
            (path_sigma&#39; E&#39; (colimp i j g x0)
               (transport_E&#39; g x0 y0))))) x y =
   f (x; y)) (colimp i j g x)
  (transport E&#39; (colimp i j g x)^ y) <span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">f
  (colim i x;
  transport E&#39; (colimp i j g x)
    (transport E&#39; (colimp i j g x)^ y)) =
f
  (colim i x;
  transport E&#39; (colimp i j g x)
    (transport E&#39; (colimp i j g x)^ y))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((ap (<span class="kr">fun</span> <span class="nv">x0</span> : E (i; x) =&gt; f (colim i x; x0))
    (transport_pV E&#39; (colimp i j g x) y))^ @ p) @
ap (<span class="kr">fun</span> <span class="nv">x0</span> : E (i; x) =&gt; f (colim i x; x0))
  (transport_pV E&#39; (colimp i j g x) y) = <span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk5e" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk5e"><span class="highlight"><span class="nb">assert</span> (p = <span class="mi">1</span>).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">transportD E&#39;
  (<span class="kr">fun</span> (<span class="nv">x</span> : Colimit D) (<span class="nv">y</span> : E&#39; x) =&gt;
   Colimit_ind (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
     (<span class="kr">fun</span> (<span class="nv">i</span> : G) (<span class="nv">x0</span> : D i) (<span class="nv">y0</span> : E (i; x0)) =&gt;
      f (colim i x0; y0))
     (<span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x0</span> : D i) =&gt;
      path_forall
        (transport (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
           (colimp i j g x0)
           (<span class="kr">fun</span> <span class="nv">y0</span> : E (j; (D _f g) x0) =&gt;
            f (colim j ((D _f g) x0); y0)))
        (<span class="kr">fun</span> <span class="nv">y0</span> : E (i; x0) =&gt; f (colim i x0; y0))
        (<span class="kr">fun</span> <span class="nv">y0</span> : E (i; x0) =&gt;
         transport_arrow_toconst (colimp i j g x0)
           (<span class="kr">fun</span> <span class="nv">y1</span> : E (j; (D _f g) x0) =&gt;
            f (colim j ((D _f g) x0); y1)) y0 @
         (ap11 <span class="mi">1</span>
            (path_sigma&#39;
               (<span class="kr">fun</span> <span class="nv">x1</span> : D j =&gt; E (j; x1)) <span class="mi">1</span>
               (transport_E&#39;_V g x0 y0)) @
          ap f
            (path_sigma&#39; E&#39; (colimp i j g x0)
               (transport_E&#39; g x0 y0))))) x y =
   f (x; y)) (colimp i j g x)
  (transport E&#39; (colimp i j g x)^ y) <span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">f
  (colim i x;
  transport E&#39; (colimp i j g x)
    (transport E&#39; (colimp i j g x)^ y)) =
f
  (colim i x;
  transport E&#39; (colimp i j g x)
    (transport E&#39; (colimp i j g x)^ y))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">p = <span class="mi">1</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="colimit-flattening-v-chk5f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">transportD E&#39;
  (<span class="kr">fun</span> (<span class="nv">x</span> : Colimit D) (<span class="nv">y</span> : E&#39; x) =&gt;
   Colimit_ind (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
     (<span class="kr">fun</span> (<span class="nv">i</span> : G) (<span class="nv">x0</span> : D i) (<span class="nv">y0</span> : E (i; x0)) =&gt;
      f (colim i x0; y0))
     (<span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x0</span> : D i) =&gt;
      path_forall
        (transport (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
           (colimp i j g x0)
           (<span class="kr">fun</span> <span class="nv">y0</span> : E (j; (D _f g) x0) =&gt;
            f (colim j ((D _f g) x0); y0)))
        (<span class="kr">fun</span> <span class="nv">y0</span> : E (i; x0) =&gt; f (colim i x0; y0))
        (<span class="kr">fun</span> <span class="nv">y0</span> : E (i; x0) =&gt;
         transport_arrow_toconst (colimp i j g x0)
           (<span class="kr">fun</span> <span class="nv">y1</span> : E (j; (D _f g) x0) =&gt;
            f (colim j ((D _f g) x0); y1)) y0 @
         (ap11 <span class="mi">1</span>
            (path_sigma&#39;
               (<span class="kr">fun</span> <span class="nv">x1</span> : D j =&gt; E (j; x1)) <span class="mi">1</span>
               (transport_E&#39;_V g x0 y0)) @
          ap f
            (path_sigma&#39; E&#39; (colimp i j g x0)
               (transport_E&#39; g x0 y0))))) x y =
   f (x; y)) (colimp i j g x)
  (transport E&#39; (colimp i j g x)^ y) <span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">f
  (colim i x;
  transport E&#39; (colimp i j g x)
    (transport E&#39; (colimp i j g x)^ y)) =
f
  (colim i x;
  transport E&#39; (colimp i j g x)
    (transport E&#39; (colimp i j g x)^ y))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p = <span class="mi">1</span></span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="colimit-flattening-v-chk5f"><hr></label><div class="goal-conclusion"><span class="highlight">((ap (<span class="kr">fun</span> <span class="nv">x0</span> : E (i; x) =&gt; f (colim i x; x0))
    (transport_pV E&#39; (colimp i j g x) y))^ @ p) @
ap (<span class="kr">fun</span> <span class="nv">x0</span> : E (i; x) =&gt; f (colim i x; x0))
  (transport_pV E&#39; (colimp i j g x) y) = <span class="mi">1</span></span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk60" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk60"><span class="highlight">{</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">transportD E&#39;
  (<span class="kr">fun</span> (<span class="nv">x</span> : Colimit D) (<span class="nv">y</span> : E&#39; x) =&gt;
   Colimit_ind (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
     (<span class="kr">fun</span> (<span class="nv">i</span> : G) (<span class="nv">x0</span> : D i) (<span class="nv">y0</span> : E (i; x0)) =&gt;
      f (colim i x0; y0))
     (<span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x0</span> : D i) =&gt;
      path_forall
        (transport (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
           (colimp i j g x0)
           (<span class="kr">fun</span> <span class="nv">y0</span> : E (j; (D _f g) x0) =&gt;
            f (colim j ((D _f g) x0); y0)))
        (<span class="kr">fun</span> <span class="nv">y0</span> : E (i; x0) =&gt; f (colim i x0; y0))
        (<span class="kr">fun</span> <span class="nv">y0</span> : E (i; x0) =&gt;
         transport_arrow_toconst (colimp i j g x0)
           (<span class="kr">fun</span> <span class="nv">y1</span> : E (j; (D _f g) x0) =&gt;
            f (colim j ((D _f g) x0); y1)) y0 @
         (ap11 <span class="mi">1</span>
            (path_sigma&#39;
               (<span class="kr">fun</span> <span class="nv">x1</span> : D j =&gt; E (j; x1)) <span class="mi">1</span>
               (transport_E&#39;_V g x0 y0)) @
          ap f
            (path_sigma&#39; E&#39; (colimp i j g x0)
               (transport_E&#39; g x0 y0))))) x y =
   f (x; y)) (colimp i j g x)
  (transport E&#39; (colimp i j g x)^ y) <span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">f
  (colim i x;
  transport E&#39; (colimp i j g x)
    (transport E&#39; (colimp i j g x)^ y)) =
f
  (colim i x;
  transport E&#39; (colimp i j g x)
    (transport E&#39; (colimp i j g x)^ y))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">p = <span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk61" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk61"><span class="highlight"><span class="nb">subst</span> p.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">transportD E&#39;
  (<span class="kr">fun</span> (<span class="nv">x</span> : Colimit D) (<span class="nv">y</span> : E&#39; x) =&gt;
   Colimit_ind (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
     (<span class="kr">fun</span> (<span class="nv">i</span> : G) (<span class="nv">x0</span> : D i) (<span class="nv">y0</span> : E (i; x0)) =&gt;
      f (colim i x0; y0))
     (<span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x0</span> : D i) =&gt;
      path_forall
        (transport (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
           (colimp i j g x0)
           (<span class="kr">fun</span> <span class="nv">y0</span> : E (j; (D _f g) x0) =&gt;
            f (colim j ((D _f g) x0); y0)))
        (<span class="kr">fun</span> <span class="nv">y0</span> : E (i; x0) =&gt; f (colim i x0; y0))
        (<span class="kr">fun</span> <span class="nv">y0</span> : E (i; x0) =&gt;
         transport_arrow_toconst (colimp i j g x0)
           (<span class="kr">fun</span> <span class="nv">y1</span> : E (j; (D _f g) x0) =&gt;
            f (colim j ((D _f g) x0); y1)) y0 @
         (ap11 <span class="mi">1</span>
            (path_sigma&#39; (<span class="kr">fun</span> <span class="nv">x1</span> : D j =&gt; E (j; x1)) <span class="mi">1</span>
               (transport_E&#39;_V g x0 y0)) @
          ap f
            (path_sigma&#39; E&#39; (colimp i j g x0)
               (transport_E&#39; g x0 y0))))) x y =
   f (x; y)) (colimp i j g x)
  (transport E&#39; (colimp i j g x)^ y) <span class="mi">1</span> = <span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk62" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk62"><span class="highlight"><span class="kr">match goal with</span> |- transportD E&#39; <span class="nl">?C</span> _ _ _ = _ =&gt; <span class="nb">set</span> (C2:=C) <span class="kr">end</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">C2</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : Colimit D) (<span class="nv">y</span> : E&#39; x) =&gt;
Colimit_ind (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
  (<span class="kr">fun</span> (<span class="nv">i</span> : G) (<span class="nv">x0</span> : D i) (<span class="nv">y0</span> : E (i; x0)) =&gt;
   f (colim i x0; y0))
  (<span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x0</span> : D i) =&gt;
   path_forall
     (transport (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
        (colimp i j g x0)
        (<span class="kr">fun</span> <span class="nv">y0</span> : E (j; (D _f g) x0) =&gt;
         f (colim j ((D _f g) x0); y0)))
     (<span class="kr">fun</span> <span class="nv">y0</span> : E (i; x0) =&gt; f (colim i x0; y0))
     (<span class="kr">fun</span> <span class="nv">y0</span> : E (i; x0) =&gt;
      transport_arrow_toconst (colimp i j g x0)
        (<span class="kr">fun</span> <span class="nv">y1</span> : E (j; (D _f g) x0) =&gt;
         f (colim j ((D _f g) x0); y1)) y0 @
      (ap11 <span class="mi">1</span>
         (path_sigma&#39; (<span class="kr">fun</span> <span class="nv">x1</span> : D j =&gt; E (j; x1))
            <span class="mi">1</span> (transport_E&#39;_V g x0 y0)) @
       ap f
         (path_sigma&#39; E&#39; (colimp i j g x0)
            (transport_E&#39; g x0 y0))))) x y =
f (x; y)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : Colimit D, E&#39; x -&gt; <span class="kt">Type</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">transportD E&#39; C2 (colimp i j g x)
  (transport E&#39; (colimp i j g x)^ y) <span class="mi">1</span> = <span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk63" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk63"><span class="highlight"><span class="nb">rewrite</span> (transportD_is_transport _ (<span class="kr">fun</span> <span class="nv">w</span> =&gt; C2 w.<span class="mi">1</span> w.<span class="mi">2</span>)).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">C2</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">x</span> : Colimit D) (<span class="nv">y</span> : E&#39; x) =&gt;
Colimit_ind (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
  (<span class="kr">fun</span> (<span class="nv">i</span> : G) (<span class="nv">x0</span> : D i) (<span class="nv">y0</span> : E (i; x0)) =&gt;
   f (colim i x0; y0))
  (<span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x0</span> : D i) =&gt;
   path_forall
     (transport (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
        (colimp i j g x0)
        (<span class="kr">fun</span> <span class="nv">y0</span> : E (j; (D _f g) x0) =&gt;
         f (colim j ((D _f g) x0); y0)))
     (<span class="kr">fun</span> <span class="nv">y0</span> : E (i; x0) =&gt; f (colim i x0; y0))
     (<span class="kr">fun</span> <span class="nv">y0</span> : E (i; x0) =&gt;
      transport_arrow_toconst (colimp i j g x0)
        (<span class="kr">fun</span> <span class="nv">y1</span> : E (j; (D _f g) x0) =&gt;
         f (colim j ((D _f g) x0); y1)) y0 @
      (ap11 <span class="mi">1</span>
         (path_sigma&#39; (<span class="kr">fun</span> <span class="nv">x1</span> : D j =&gt; E (j; x1))
            <span class="mi">1</span> (transport_E&#39;_V g x0 y0)) @
       ap f
         (path_sigma&#39; E&#39; (colimp i j g x0)
            (transport_E&#39; g x0 y0))))) x y =
f (x; y)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : Colimit D, E&#39; x -&gt; <span class="kt">Type</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">transport (<span class="kr">fun</span> <span class="nv">w</span> : {x : _ &amp; E&#39; x} =&gt; C2 w.<span class="mi">1</span> w.<span class="mi">2</span>)
  (path_sigma&#39; E&#39; (colimp i j g x) <span class="mi">1</span>) <span class="mi">1</span> = <span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk64" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk64"><span class="highlight"><span class="nb">subst</span> C2; <span class="nb">cbn</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">transport
  (<span class="kr">fun</span> <span class="nv">w</span> : {x : _ &amp; E&#39; x} =&gt;
   Colimit_ind (<span class="kr">fun</span> <span class="nv">w0</span> : Colimit D =&gt; E&#39; w0 -&gt; Z)
     (<span class="kr">fun</span> (<span class="nv">i</span> : G) (<span class="nv">x</span> : D i) (<span class="nv">y</span> : E (i; x)) =&gt;
      f (colim i x; y))
     (<span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
      path_forall
        (transport (<span class="kr">fun</span> <span class="nv">w0</span> : Colimit D =&gt; E&#39; w0 -&gt; Z)
           (colimp i j g x)
           (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt;
            f (colim j ((D _f g) x); y)))
        (<span class="kr">fun</span> <span class="nv">y</span> : E (i; x) =&gt; f (colim i x; y))
        (<span class="kr">fun</span> <span class="nv">y</span> : E (i; x) =&gt;
         transport_arrow_toconst (colimp i j g x)
           (<span class="kr">fun</span> <span class="nv">y0</span> : E (j; (D _f g) x) =&gt;
            f (colim j ((D _f g) x); y0)) y @
         (ap11 <span class="mi">1</span>
            (path_sigma&#39; (<span class="kr">fun</span> <span class="nv">x0</span> : D j =&gt; E (j; x0)) <span class="mi">1</span>
               (transport_E&#39;_V g x y)) @
          ap f
            (path_sigma&#39; E&#39; (colimp i j g x)
               (transport_E&#39; g x y))))) w.<span class="mi">1</span> w.<span class="mi">2</span> =
   f (w.<span class="mi">1</span>; w.<span class="mi">2</span>)) (path_sigma&#39; E&#39; (colimp i j g x) <span class="mi">1</span>) <span class="mi">1</span> =
<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk65" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk65"><span class="highlight"><span class="nb">rewrite</span> transport_paths_FlFr.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((ap
    (<span class="kr">fun</span> <span class="nv">x</span> : {x : _ &amp; E&#39; x} =&gt;
     Colimit_ind (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
       (<span class="kr">fun</span> (<span class="nv">i</span> : G) (<span class="nv">x0</span> : D i) (<span class="nv">y</span> : E (i; x0)) =&gt;
        f (colim i x0; y))
       (<span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x0</span> : D i) =&gt;
        path_forall
          (transport (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
             (colimp i j g x0)
             (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x0) =&gt;
              f (colim j ((D _f g) x0); y)))
          (<span class="kr">fun</span> <span class="nv">y</span> : E (i; x0) =&gt; f (colim i x0; y))
          (<span class="kr">fun</span> <span class="nv">y</span> : E (i; x0) =&gt;
           transport_arrow_toconst (colimp i j g x0)
             (<span class="kr">fun</span> <span class="nv">y0</span> : E (j; (D _f g) x0) =&gt;
              f (colim j ((D _f g) x0); y0)) y @
           (ap11 <span class="mi">1</span>
              (path_sigma&#39; (<span class="kr">fun</span> <span class="nv">x1</span> : D j =&gt; E (j; x1))
                 <span class="mi">1</span> (transport_E&#39;_V g x0 y)) @
            ap f
              (path_sigma&#39; E&#39; (colimp i j g x0)
                 (transport_E&#39; g x0 y))))) x.<span class="mi">1</span> x.<span class="mi">2</span>)
    (path_sigma&#39; E&#39; (colimp i j g x) <span class="mi">1</span>))^ @ <span class="mi">1</span>) @
ap (<span class="kr">fun</span> <span class="nv">x</span> : {x : _ &amp; E&#39; x} =&gt; f (x.<span class="mi">1</span>; x.<span class="mi">2</span>))
  (path_sigma&#39; E&#39; (colimp i j g x) <span class="mi">1</span>) = <span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk66" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk66"><span class="highlight"><span class="nb">rewrite</span> concat_p1.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(ap
   (<span class="kr">fun</span> <span class="nv">x</span> : {x : _ &amp; E&#39; x} =&gt;
    Colimit_ind (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
      (<span class="kr">fun</span> (<span class="nv">i</span> : G) (<span class="nv">x0</span> : D i) (<span class="nv">y</span> : E (i; x0)) =&gt;
       f (colim i x0; y))
      (<span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x0</span> : D i) =&gt;
       path_forall
         (transport (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
            (colimp i j g x0)
            (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x0) =&gt;
             f (colim j ((D _f g) x0); y)))
         (<span class="kr">fun</span> <span class="nv">y</span> : E (i; x0) =&gt; f (colim i x0; y))
         (<span class="kr">fun</span> <span class="nv">y</span> : E (i; x0) =&gt;
          transport_arrow_toconst (colimp i j g x0)
            (<span class="kr">fun</span> <span class="nv">y0</span> : E (j; (D _f g) x0) =&gt;
             f (colim j ((D _f g) x0); y0)) y @
          (ap11 <span class="mi">1</span>
             (path_sigma&#39; (<span class="kr">fun</span> <span class="nv">x1</span> : D j =&gt; E (j; x1))
                <span class="mi">1</span> (transport_E&#39;_V g x0 y)) @
           ap f
             (path_sigma&#39; E&#39; (colimp i j g x0)
                (transport_E&#39; g x0 y))))) x.<span class="mi">1</span> x.<span class="mi">2</span>)
   (path_sigma&#39; E&#39; (colimp i j g x) <span class="mi">1</span>))^ @
ap (<span class="kr">fun</span> <span class="nv">x</span> : {x : _ &amp; E&#39; x} =&gt; f (x.<span class="mi">1</span>; x.<span class="mi">2</span>))
  (path_sigma&#39; E&#39; (colimp i j g x) <span class="mi">1</span>) = <span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk67" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk67"><span class="highlight"><span class="nb">apply</span> moveR_Vp.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ap (<span class="kr">fun</span> <span class="nv">x</span> : {x : _ &amp; E&#39; x} =&gt; f (x.<span class="mi">1</span>; x.<span class="mi">2</span>))
  (path_sigma&#39; E&#39; (colimp i j g x) <span class="mi">1</span>) =
ap
  (<span class="kr">fun</span> <span class="nv">x</span> : {x : _ &amp; E&#39; x} =&gt;
   Colimit_ind (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
     (<span class="kr">fun</span> (<span class="nv">i</span> : G) (<span class="nv">x0</span> : D i) (<span class="nv">y</span> : E (i; x0)) =&gt;
      f (colim i x0; y))
     (<span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x0</span> : D i) =&gt;
      path_forall
        (transport (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
           (colimp i j g x0)
           (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x0) =&gt;
            f (colim j ((D _f g) x0); y)))
        (<span class="kr">fun</span> <span class="nv">y</span> : E (i; x0) =&gt; f (colim i x0; y))
        (<span class="kr">fun</span> <span class="nv">y</span> : E (i; x0) =&gt;
         transport_arrow_toconst (colimp i j g x0)
           (<span class="kr">fun</span> <span class="nv">y0</span> : E (j; (D _f g) x0) =&gt;
            f (colim j ((D _f g) x0); y0)) y @
         (ap11 <span class="mi">1</span>
            (path_sigma&#39; (<span class="kr">fun</span> <span class="nv">x1</span> : D j =&gt; E (j; x1)) <span class="mi">1</span>
               (transport_E&#39;_V g x0 y)) @
          ap f
            (path_sigma&#39; E&#39; (colimp i j g x0)
               (transport_E&#39; g x0 y))))) x.<span class="mi">1</span> x.<span class="mi">2</span>)
  (path_sigma&#39; E&#39; (colimp i j g x) <span class="mi">1</span>) @ <span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk68" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk68"><span class="highlight"><span class="nb">rewrite</span> concat_p1.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ap (<span class="kr">fun</span> <span class="nv">x</span> : {x : _ &amp; E&#39; x} =&gt; f (x.<span class="mi">1</span>; x.<span class="mi">2</span>))
  (path_sigma&#39; E&#39; (colimp i j g x) <span class="mi">1</span>) =
ap
  (<span class="kr">fun</span> <span class="nv">x</span> : {x : _ &amp; E&#39; x} =&gt;
   Colimit_ind (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
     (<span class="kr">fun</span> (<span class="nv">i</span> : G) (<span class="nv">x0</span> : D i) (<span class="nv">y</span> : E (i; x0)) =&gt;
      f (colim i x0; y))
     (<span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x0</span> : D i) =&gt;
      path_forall
        (transport (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
           (colimp i j g x0)
           (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x0) =&gt;
            f (colim j ((D _f g) x0); y)))
        (<span class="kr">fun</span> <span class="nv">y</span> : E (i; x0) =&gt; f (colim i x0; y))
        (<span class="kr">fun</span> <span class="nv">y</span> : E (i; x0) =&gt;
         transport_arrow_toconst (colimp i j g x0)
           (<span class="kr">fun</span> <span class="nv">y0</span> : E (j; (D _f g) x0) =&gt;
            f (colim j ((D _f g) x0); y0)) y @
         (ap11 <span class="mi">1</span>
            (path_sigma&#39; (<span class="kr">fun</span> <span class="nv">x1</span> : D j =&gt; E (j; x1)) <span class="mi">1</span>
               (transport_E&#39;_V g x0 y)) @
          ap f
            (path_sigma&#39; E&#39; (colimp i j g x0)
               (transport_E&#39; g x0 y))))) x.<span class="mi">1</span> x.<span class="mi">2</span>)
  (path_sigma&#39; E&#39; (colimp i j g x) <span class="mi">1</span>)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk69" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk69"><span class="highlight"><span class="nb">rewrite</span> ap_path_sigma.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ap (<span class="kr">fun</span> <span class="nv">x</span> : {x : _ &amp; E&#39; x} =&gt; f (x.<span class="mi">1</span>; x.<span class="mi">2</span>))
  (path_sigma&#39; E&#39; (colimp i j g x) <span class="mi">1</span>) =
(ap
   (Colimit_ind (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
      (<span class="kr">fun</span> (<span class="nv">i</span> : G) (<span class="nv">x</span> : D i) (<span class="nv">y</span> : E (i; x)) =&gt;
       f (colim i x; y))
      (<span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
       path_forall
         (transport (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
            (colimp i j g x)
            (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt;
             f (colim j ((D _f g) x); y)))
         (<span class="kr">fun</span> <span class="nv">y</span> : E (i; x) =&gt; f (colim i x; y))
         (<span class="kr">fun</span> <span class="nv">y</span> : E (i; x) =&gt;
          transport_arrow_toconst (colimp i j g x)
            (<span class="kr">fun</span> <span class="nv">y0</span> : E (j; (D _f g) x) =&gt;
             f (colim j ((D _f g) x); y0)) y @
          (ap11 <span class="mi">1</span>
             (path_sigma&#39; (<span class="kr">fun</span> <span class="nv">x0</span> : D j =&gt; E (j; x0))
                <span class="mi">1</span> (transport_E&#39;_V g x y)) @
           ap f
             (path_sigma&#39; E&#39; (colimp i j g x)
                (transport_E&#39; g x y)))))
      (colim j ((D _f g) x)))
   (moveL_transport_V E&#39; (colimp i j g x)
      (transport E&#39; (colimp i j g x)^ y)
      (transport E&#39; (colimp i j g x)
         (transport E&#39; (colimp i j g x)^ y)) <span class="mi">1</span>) @
 (transport_arrow_toconst (colimp i j g x)
    (Colimit_ind (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
       (<span class="kr">fun</span> (<span class="nv">i</span> : G) (<span class="nv">x</span> : D i) (<span class="nv">y</span> : E (i; x)) =&gt;
        f (colim i x; y))
       (<span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
        path_forall
          (transport (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
             (colimp i j g x)
             (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt;
              f (colim j ((D _f g) x); y)))
          (<span class="kr">fun</span> <span class="nv">y</span> : E (i; x) =&gt; f (colim i x; y))
          (<span class="kr">fun</span> <span class="nv">y</span> : E (i; x) =&gt;
           transport_arrow_toconst (colimp i j g x)
             (<span class="kr">fun</span> <span class="nv">y0</span> : E (j; (D _f g) x) =&gt;
              f (colim j ((D _f g) x); y0)) y @
           (ap11 <span class="mi">1</span>
              (path_sigma&#39; (<span class="kr">fun</span> <span class="nv">x0</span> : D j =&gt; E (j; x0))
                 <span class="mi">1</span> (transport_E&#39;_V g x y)) @
            ap f
              (path_sigma&#39; E&#39; (colimp i j g x)
                 (transport_E&#39; g x y)))))
       (colim j ((D _f g) x)))
    (transport E&#39; (colimp i j g x)
       (transport E&#39; (colimp i j g x)^ y)))^) @
ap10
  (apD
     (Colimit_ind (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
        (<span class="kr">fun</span> (<span class="nv">i</span> : G) (<span class="nv">x</span> : D i) (<span class="nv">y</span> : E (i; x)) =&gt;
         f (colim i x; y))
        (<span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
         path_forall
           (transport (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
              (colimp i j g x)
              (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt;
               f (colim j ((D _f g) x); y)))
           (<span class="kr">fun</span> <span class="nv">y</span> : E (i; x) =&gt; f (colim i x; y))
           (<span class="kr">fun</span> <span class="nv">y</span> : E (i; x) =&gt;
            transport_arrow_toconst (colimp i j g x)
              (<span class="kr">fun</span> <span class="nv">y0</span> : E (j; (D _f g) x) =&gt;
               f (colim j ((D _f g) x); y0)) y @
            (ap11 <span class="mi">1</span>
               (path_sigma&#39;
                  (<span class="kr">fun</span> <span class="nv">x0</span> : D j =&gt; E (j; x0)) <span class="mi">1</span>
                  (transport_E&#39;_V g x y)) @
             ap f
               (path_sigma&#39; E&#39; (colimp i j g x)
                  (transport_E&#39; g x y))))))
     (colimp i j g x))
  (transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk6a" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk6a"><span class="highlight"><span class="nb">cbn</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ap (<span class="kr">fun</span> <span class="nv">x</span> : {x : _ &amp; E&#39; x} =&gt; f (x.<span class="mi">1</span>; x.<span class="mi">2</span>))
  (path_sigma&#39; E&#39; (colimp i j g x) <span class="mi">1</span>) =
(ap
   (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt;
    f (colim j ((D _f g) x); y))
   (moveL_transport_V E&#39; (colimp i j g x)
      (transport E&#39; (colimp i j g x)^ y)
      (transport E&#39; (colimp i j g x)
         (transport E&#39; (colimp i j g x)^ y)) <span class="mi">1</span>) @
 (transport_arrow_toconst (colimp i j g x)
    (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt;
     f (colim j ((D _f g) x); y))
    (transport E&#39; (colimp i j g x)
       (transport E&#39; (colimp i j g x)^ y)))^) @
ap10
  (apD
     (Colimit_ind (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
        (<span class="kr">fun</span> (<span class="nv">i</span> : G) (<span class="nv">x</span> : D i) (<span class="nv">y</span> : E (i; x)) =&gt;
         f (colim i x; y))
        (<span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
         path_forall
           (transport (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
              (colimp i j g x)
              (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt;
               f (colim j ((D _f g) x); y)))
           (<span class="kr">fun</span> <span class="nv">y</span> : E (i; x) =&gt; f (colim i x; y))
           (<span class="kr">fun</span> <span class="nv">y</span> : E (i; x) =&gt;
            transport_arrow_toconst (colimp i j g x)
              (<span class="kr">fun</span> <span class="nv">y0</span> : E (j; (D _f g) x) =&gt;
               f (colim j ((D _f g) x); y0)) y @
            (ap11 <span class="mi">1</span>
               (path_sigma&#39;
                  (<span class="kr">fun</span> <span class="nv">x0</span> : D j =&gt; E (j; x0)) <span class="mi">1</span>
                  (transport_E&#39;_V g x y)) @
             ap f
               (path_sigma&#39; E&#39; (colimp i j g x)
                  (transport_E&#39; g x y))))))
     (colimp i j g x))
  (transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk6b" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk6b"><span class="highlight"><span class="nb">rewrite</span> Colimit_ind_beta_colimp.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ap (<span class="kr">fun</span> <span class="nv">x</span> : {x : _ &amp; E&#39; x} =&gt; f (x.<span class="mi">1</span>; x.<span class="mi">2</span>))
  (path_sigma&#39; E&#39; (colimp i j g x) <span class="mi">1</span>) =
(ap
   (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt;
    f (colim j ((D _f g) x); y))
   (moveL_transport_V E&#39; (colimp i j g x)
      (transport E&#39; (colimp i j g x)^ y)
      (transport E&#39; (colimp i j g x)
         (transport E&#39; (colimp i j g x)^ y)) <span class="mi">1</span>) @
 (transport_arrow_toconst (colimp i j g x)
    (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt;
     f (colim j ((D _f g) x); y))
    (transport E&#39; (colimp i j g x)
       (transport E&#39; (colimp i j g x)^ y)))^) @
ap10
  (path_forall
     (transport (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
        (colimp i j g x)
        (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt;
         f (colim j ((D _f g) x); y)))
     (<span class="kr">fun</span> <span class="nv">y</span> : E (i; x) =&gt; f (colim i x; y))
     (<span class="kr">fun</span> <span class="nv">y</span> : E (i; x) =&gt;
      transport_arrow_toconst (colimp i j g x)
        (<span class="kr">fun</span> <span class="nv">y0</span> : E (j; (D _f g) x) =&gt;
         f (colim j ((D _f g) x); y0)) y @
      (ap11 <span class="mi">1</span>
         (path_sigma&#39; (<span class="kr">fun</span> <span class="nv">x</span> : D j =&gt; E (j; x)) <span class="mi">1</span>
            (transport_E&#39;_V g x y)) @
       ap f
         (path_sigma&#39; E&#39; (colimp i j g x)
            (transport_E&#39; g x y)))))
  (transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk6c" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk6c"><span class="highlight"><span class="nb">rewrite</span> ap10_path_forall.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ap (<span class="kr">fun</span> <span class="nv">x</span> : {x : _ &amp; E&#39; x} =&gt; f (x.<span class="mi">1</span>; x.<span class="mi">2</span>))
  (path_sigma&#39; E&#39; (colimp i j g x) <span class="mi">1</span>) =
(ap
   (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt;
    f (colim j ((D _f g) x); y))
   (moveL_transport_V E&#39; (colimp i j g x)
      (transport E&#39; (colimp i j g x)^ y)
      (transport E&#39; (colimp i j g x)
         (transport E&#39; (colimp i j g x)^ y)) <span class="mi">1</span>) @
 (transport_arrow_toconst (colimp i j g x)
    (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt;
     f (colim j ((D _f g) x); y))
    (transport E&#39; (colimp i j g x)
       (transport E&#39; (colimp i j g x)^ y)))^) @
(transport_arrow_toconst (colimp i j g x)
   (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt;
    f (colim j ((D _f g) x); y))
   (transport E&#39; (colimp i j g x)
      (transport E&#39; (colimp i j g x)^ y)) @
 (ap11 <span class="mi">1</span>
    (path_sigma&#39; (<span class="kr">fun</span> <span class="nv">x</span> : D j =&gt; E (j; x)) <span class="mi">1</span>
       (transport_E&#39;_V g x
          (transport E&#39; (colimp i j g x)
             (transport E&#39; (colimp i j g x)^ y)))) @
  ap f
    (path_sigma&#39; E&#39; (colimp i j g x)
       (transport_E&#39; g x
          (transport E&#39; (colimp i j g x)
             (transport E&#39; (colimp i j g x)^ y))))))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk6d" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk6d"><span class="highlight">hott_simpl.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ap (<span class="kr">fun</span> <span class="nv">x</span> : {x : _ &amp; E&#39; x} =&gt; f (x.<span class="mi">1</span>; x.<span class="mi">2</span>))
  (path_sigma&#39; E&#39; (colimp i j g x) <span class="mi">1</span>) =
(ap
   (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt;
    f (colim j ((D _f g) x); y))
   (moveL_transport_V E&#39; (colimp i j g x)
      (transport E&#39; (colimp i j g x)^ y)
      (transport E&#39; (colimp i j g x)
         (transport E&#39; (colimp i j g x)^ y)) <span class="mi">1</span>) @
 ap11 <span class="mi">1</span>
   (path_sigma&#39; (<span class="kr">fun</span> <span class="nv">x</span> : D j =&gt; E (j; x)) <span class="mi">1</span>
      (transport_E&#39;_V g x
         (transport E&#39; (colimp i j g x)
            (transport E&#39; (colimp i j g x)^ y))))) @
ap f
  (path_sigma&#39; E&#39; (colimp i j g x)
     (transport_E&#39; g x
        (transport E&#39; (colimp i j g x)
           (transport E&#39; (colimp i j g x)^ y))))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk6e" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk6e"><span class="highlight"><span class="nb">rewrite</span> ap11_is_ap10_ap01.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ap (<span class="kr">fun</span> <span class="nv">x</span> : {x : _ &amp; E&#39; x} =&gt; f (x.<span class="mi">1</span>; x.<span class="mi">2</span>))
  (path_sigma&#39; E&#39; (colimp i j g x) <span class="mi">1</span>) =
(ap
   (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt;
    f (colim j ((D _f g) x); y))
   (moveL_transport_V E&#39; (colimp i j g x)
      (transport E&#39; (colimp i j g x)^ y)
      (transport E&#39; (colimp i j g x)
         (transport E&#39; (colimp i j g x)^ y)) <span class="mi">1</span>) @
 (ap10 <span class="mi">1</span>
    ((D _f g) x;
    transport E&#39; (colimp i j g x)^
      (transport E&#39; (colimp i j g x)
         (transport E&#39; (colimp i j g x)^ y))) @
  ap
    (<span class="kr">fun</span> <span class="nv">x</span> : {x : D j &amp; E (j; x)} =&gt;
     f (colim j x.<span class="mi">1</span>; x.<span class="mi">2</span>))
    (path_sigma&#39; (<span class="kr">fun</span> <span class="nv">x</span> : D j =&gt; E (j; x)) <span class="mi">1</span>
       (transport_E&#39;_V g x
          (transport E&#39; (colimp i j g x)
             (transport E&#39; (colimp i j g x)^ y)))))) @
ap f
  (path_sigma&#39; E&#39; (colimp i j g x)
     (transport_E&#39; g x
        (transport E&#39; (colimp i j g x)
           (transport E&#39; (colimp i j g x)^ y))))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk6f" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk6f"><span class="highlight"><span class="nb">cbn</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ap (<span class="kr">fun</span> <span class="nv">x</span> : {x : _ &amp; E&#39; x} =&gt; f (x.<span class="mi">1</span>; x.<span class="mi">2</span>))
  (path_sigma&#39; E&#39; (colimp i j g x) <span class="mi">1</span>) =
(ap
   (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt;
    f (colim j ((D _f g) x); y))
   (moveL_transport_V E&#39; (colimp i j g x)
      (transport E&#39; (colimp i j g x)^ y)
      (transport E&#39; (colimp i j g x)
         (transport E&#39; (colimp i j g x)^ y)) <span class="mi">1</span>) @
 (<span class="mi">1</span> @
  ap
    (<span class="kr">fun</span> <span class="nv">x</span> : {x : D j &amp; E (j; x)} =&gt;
     f (colim j x.<span class="mi">1</span>; x.<span class="mi">2</span>))
    (path_sigma&#39; (<span class="kr">fun</span> <span class="nv">x</span> : D j =&gt; E (j; x)) <span class="mi">1</span>
       (transport_E&#39;_V g x
          (transport E&#39; (colimp i j g x)
             (transport E&#39; (colimp i j g x)^ y)))))) @
ap f
  (path_sigma&#39; E&#39; (colimp i j g x)
     (transport_E&#39; g x
        (transport E&#39; (colimp i j g x)
           (transport E&#39; (colimp i j g x)^ y))))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk70" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk70"><span class="highlight"><span class="nb">rewrite</span> concat_1p.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ap (<span class="kr">fun</span> <span class="nv">x</span> : {x : _ &amp; E&#39; x} =&gt; f (x.<span class="mi">1</span>; x.<span class="mi">2</span>))
  (path_sigma&#39; E&#39; (colimp i j g x) <span class="mi">1</span>) =
(ap
   (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt;
    f (colim j ((D _f g) x); y))
   (moveL_transport_V E&#39; (colimp i j g x)
      (transport E&#39; (colimp i j g x)^ y)
      (transport E&#39; (colimp i j g x)
         (transport E&#39; (colimp i j g x)^ y)) <span class="mi">1</span>) @
 ap
   (<span class="kr">fun</span> <span class="nv">x</span> : {x : D j &amp; E (j; x)} =&gt;
    f (colim j x.<span class="mi">1</span>; x.<span class="mi">2</span>))
   (path_sigma&#39; (<span class="kr">fun</span> <span class="nv">x</span> : D j =&gt; E (j; x)) <span class="mi">1</span>
      (transport_E&#39;_V g x
         (transport E&#39; (colimp i j g x)
            (transport E&#39; (colimp i j g x)^ y))))) @
ap f
  (path_sigma&#39; E&#39; (colimp i j g x)
     (transport_E&#39; g x
        (transport E&#39; (colimp i j g x)
           (transport E&#39; (colimp i j g x)^ y))))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk71" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk71"><span class="highlight"><span class="nb">rewrite</span> (ap_compose (<span class="kr">fun</span> <span class="nv">y</span> =&gt; (colim j ((D _f g) x); y)) f).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ap (<span class="kr">fun</span> <span class="nv">x</span> : {x : _ &amp; E&#39; x} =&gt; f (x.<span class="mi">1</span>; x.<span class="mi">2</span>))
  (path_sigma&#39; E&#39; (colimp i j g x) <span class="mi">1</span>) =
(ap f
   (ap
      (<span class="kr">fun</span> <span class="nv">y</span> : E&#39; (colim j ((D _f g) x)) =&gt;
       (colim j ((D _f g) x); y))
      (moveL_transport_V E&#39; (colimp i j g x)
         (transport E&#39; (colimp i j g x)^ y)
         (transport E&#39; (colimp i j g x)
            (transport E&#39; (colimp i j g x)^ y)) <span class="mi">1</span>)) @
 ap
   (<span class="kr">fun</span> <span class="nv">x</span> : {x : D j &amp; E (j; x)} =&gt;
    f (colim j x.<span class="mi">1</span>; x.<span class="mi">2</span>))
   (path_sigma&#39; (<span class="kr">fun</span> <span class="nv">x</span> : D j =&gt; E (j; x)) <span class="mi">1</span>
      (transport_E&#39;_V g x
         (transport E&#39; (colimp i j g x)
            (transport E&#39; (colimp i j g x)^ y))))) @
ap f
  (path_sigma&#39; E&#39; (colimp i j g x)
     (transport_E&#39; g x
        (transport E&#39; (colimp i j g x)
           (transport E&#39; (colimp i j g x)^ y))))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk72" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk72"><span class="highlight"><span class="nb">cbn</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ap (<span class="kr">fun</span> <span class="nv">x</span> : {x : _ &amp; E&#39; x} =&gt; f (x.<span class="mi">1</span>; x.<span class="mi">2</span>))
  (path_sigma&#39; E&#39; (colimp i j g x) <span class="mi">1</span>) =
(ap f
   (ap
      (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt;
       (colim j ((D _f g) x); y))
      (moveL_transport_V E&#39; (colimp i j g x)
         (transport E&#39; (colimp i j g x)^ y)
         (transport E&#39; (colimp i j g x)
            (transport E&#39; (colimp i j g x)^ y)) <span class="mi">1</span>)) @
 ap
   (<span class="kr">fun</span> <span class="nv">x</span> : {x : D j &amp; E (j; x)} =&gt;
    f (colim j x.<span class="mi">1</span>; x.<span class="mi">2</span>))
   (path_sigma&#39; (<span class="kr">fun</span> <span class="nv">x</span> : D j =&gt; E (j; x)) <span class="mi">1</span>
      (transport_E&#39;_V g x
         (transport E&#39; (colimp i j g x)
            (transport E&#39; (colimp i j g x)^ y))))) @
ap f
  (path_sigma&#39; E&#39; (colimp i j g x)
     (transport_E&#39; g x
        (transport E&#39; (colimp i j g x)
           (transport E&#39; (colimp i j g x)^ y))))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk73" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk73"><span class="highlight"><span class="nb">rewrite</span> (ap_compose (<span class="kr">fun</span> <span class="nv">x0</span> : <span class="kr">exists</span> <span class="nv">x0</span> : D j, E (j; x0)
            =&gt; (colim j (pr1 x0); pr2 x0)) f).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ap (<span class="kr">fun</span> <span class="nv">x</span> : {x : _ &amp; E&#39; x} =&gt; f (x.<span class="mi">1</span>; x.<span class="mi">2</span>))
  (path_sigma&#39; E&#39; (colimp i j g x) <span class="mi">1</span>) =
(ap f
   (ap
      (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt;
       (colim j ((D _f g) x); y))
      (moveL_transport_V E&#39; (colimp i j g x)
         (transport E&#39; (colimp i j g x)^ y)
         (transport E&#39; (colimp i j g x)
            (transport E&#39; (colimp i j g x)^ y)) <span class="mi">1</span>)) @
 ap f
   (ap
      (<span class="kr">fun</span> <span class="nv">x0</span> : {x0 : D j &amp; E (j; x0)} =&gt;
       (colim j x0.<span class="mi">1</span>; x0.<span class="mi">2</span>))
      (path_sigma&#39; (<span class="kr">fun</span> <span class="nv">x</span> : D j =&gt; E (j; x)) <span class="mi">1</span>
         (transport_E&#39;_V g x
            (transport E&#39; (colimp i j g x)
               (transport E&#39; (colimp i j g x)^ y)))))) @
ap f
  (path_sigma&#39; E&#39; (colimp i j g x)
     (transport_E&#39; g x
        (transport E&#39; (colimp i j g x)
           (transport E&#39; (colimp i j g x)^ y))))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk74" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk74"><span class="highlight"><span class="nb">rewrite</span> &lt;- !ap_pp.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ap (<span class="kr">fun</span> <span class="nv">x</span> : {x : _ &amp; E&#39; x} =&gt; f (x.<span class="mi">1</span>; x.<span class="mi">2</span>))
  (path_sigma&#39; E&#39; (colimp i j g x) <span class="mi">1</span>) =
ap f
  ((ap
      (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt;
       (colim j ((D _f g) x); y))
      (moveL_transport_V E&#39; (colimp i j g x)
         (transport E&#39; (colimp i j g x)^ y)
         (transport E&#39; (colimp i j g x)
            (transport E&#39; (colimp i j g x)^ y)) <span class="mi">1</span>) @
    ap
      (<span class="kr">fun</span> <span class="nv">x0</span> : {x0 : D j &amp; E (j; x0)} =&gt;
       (colim j x0.<span class="mi">1</span>; x0.<span class="mi">2</span>))
      (path_sigma&#39; (<span class="kr">fun</span> <span class="nv">x</span> : D j =&gt; E (j; x)) <span class="mi">1</span>
         (transport_E&#39;_V g x
            (transport E&#39; (colimp i j g x)
               (transport E&#39; (colimp i j g x)^ y))))) @
   path_sigma&#39; E&#39; (colimp i j g x)
     (transport_E&#39; g x
        (transport E&#39; (colimp i j g x)
           (transport E&#39; (colimp i j g x)^ y))))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk75" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk75"><span class="highlight"><span class="nb">apply</span> (ap (ap f)).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">path_sigma&#39; E&#39; (colimp i j g x) <span class="mi">1</span> =
(ap
   (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt;
    (colim j ((D _f g) x); y))
   (moveL_transport_V E&#39; (colimp i j g x)
      (transport E&#39; (colimp i j g x)^ y)
      (transport E&#39; (colimp i j g x)
         (transport E&#39; (colimp i j g x)^ y)) <span class="mi">1</span>) @
 ap
   (<span class="kr">fun</span> <span class="nv">x0</span> : {x0 : D j &amp; E (j; x0)} =&gt;
    (colim j x0.<span class="mi">1</span>; x0.<span class="mi">2</span>))
   (path_sigma&#39; (<span class="kr">fun</span> <span class="nv">x</span> : D j =&gt; E (j; x)) <span class="mi">1</span>
      (transport_E&#39;_V g x
         (transport E&#39; (colimp i j g x)
            (transport E&#39; (colimp i j g x)^ y))))) @
path_sigma&#39; E&#39; (colimp i j g x)
  (transport_E&#39; g x
     (transport E&#39; (colimp i j g x)
        (transport E&#39; (colimp i j g x)^ y)))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk76" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk76"><span class="highlight"><span class="kr">match goal with</span> |- _ = (ap <span class="nl">?ff</span> <span class="nl">?pp1</span> @ <span class="nl">?pp2</span>) @ <span class="nl">?pp3</span>
            =&gt; <span class="nb">set</span> (p1 := pp1) <span class="kr">end</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">moveL_transport_V E&#39; (colimp i j g x)
  (transport E&#39; (colimp i j g x)^ y)
  (transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y)) <span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">transport E&#39; (colimp i j g x)^ y =
transport E&#39; (colimp i j g x)^
  (transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">path_sigma&#39; E&#39; (colimp i j g x) <span class="mi">1</span> =
(ap
   (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt;
    (colim j ((D _f g) x); y)) p1 @
 ap
   (<span class="kr">fun</span> <span class="nv">x0</span> : {x0 : D j &amp; E (j; x0)} =&gt;
    (colim j x0.<span class="mi">1</span>; x0.<span class="mi">2</span>))
   (path_sigma&#39; (<span class="kr">fun</span> <span class="nv">x</span> : D j =&gt; E (j; x)) <span class="mi">1</span>
      (transport_E&#39;_V g x
         (transport E&#39; (colimp i j g x)
            (transport E&#39; (colimp i j g x)^ y))))) @
path_sigma&#39; E&#39; (colimp i j g x)
  (transport_E&#39; g x
     (transport E&#39; (colimp i j g x)
        (transport E&#39; (colimp i j g x)^ y)))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk77" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk77"><span class="highlight"><span class="nb">assert</span> (p1 = ap (transport E&#39; (colimp i j g x)^)
            (transport_pV E&#39; (colimp i j g x) y)^).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">moveL_transport_V E&#39; (colimp i j g x)
  (transport E&#39; (colimp i j g x)^ y)
  (transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y)) <span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">transport E&#39; (colimp i j g x)^ y =
transport E&#39; (colimp i j g x)^
  (transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">p1 =
ap (transport E&#39; (colimp i j g x)^)
  (transport_pV E&#39; (colimp i j g x) y)^</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="colimit-flattening-v-chk78" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">moveL_transport_V E&#39; (colimp i j g x)
  (transport E&#39; (colimp i j g x)^ y)
  (transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y)) <span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">transport E&#39; (colimp i j g x)^ y =
transport E&#39; (colimp i j g x)^
  (transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p1 =
ap (transport E&#39; (colimp i j g x)^)
  (transport_pV E&#39; (colimp i j g x) y)^</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="colimit-flattening-v-chk78"><hr></label><div class="goal-conclusion"><span class="highlight">path_sigma&#39; E&#39; (colimp i j g x) <span class="mi">1</span> =
(ap
   (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt;
    (colim j ((D _f g) x); y)) p1 @
 ap
   (<span class="kr">fun</span> <span class="nv">x0</span> : {x0 : D j &amp; E (j; x0)} =&gt;
    (colim j x0.<span class="mi">1</span>; x0.<span class="mi">2</span>))
   (path_sigma&#39; (<span class="kr">fun</span> <span class="nv">x</span> : D j =&gt; E (j; x)) <span class="mi">1</span>
      (transport_E&#39;_V g x
         (transport E&#39; (colimp i j g x)
            (transport E&#39; (colimp i j g x)^ y))))) @
path_sigma&#39; E&#39; (colimp i j g x)
  (transport_E&#39; g x
     (transport E&#39; (colimp i j g x)
        (transport E&#39; (colimp i j g x)^ y)))</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk79" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk79"><span class="highlight">{</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">moveL_transport_V E&#39; (colimp i j g x)
  (transport E&#39; (colimp i j g x)^ y)
  (transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y)) <span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">transport E&#39; (colimp i j g x)^ y =
transport E&#39; (colimp i j g x)^
  (transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">p1 =
ap (transport E&#39; (colimp i j g x)^)
  (transport_pV E&#39; (colimp i j g x) y)^</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk7a" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk7a"><span class="highlight"><span class="nb">subst</span> p1; <span class="nb">clear</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">moveL_transport_V E&#39; (colimp i j g x)
  (transport E&#39; (colimp i j g x)^ y)
  (transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y)) <span class="mi">1</span> =
ap (transport E&#39; (colimp i j g x)^)
  (transport_pV E&#39; (colimp i j g x) y)^</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">            </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk7b" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk7b"><span class="highlight"><span class="nb">etransitivity</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">moveL_transport_V E&#39; (colimp i j g x)
  (transport E&#39; (colimp i j g x)^ y)
  (transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y)) <span class="mi">1</span> = <span class="nl">?Goal1</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="colimit-flattening-v-chk7c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="colimit-flattening-v-chk7c"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="nl">?Goal1</span> =
ap (transport E&#39; (colimp i j g x)^)
  (transport_pV E&#39; (colimp i j g x) y)^</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">            </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk7d" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk7d"><span class="highlight"><span class="mi">1</span>: srapply moveL_transport_V_1.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(transport_Vp E&#39; (colimp i j g x)
   (transport E&#39; (colimp i j g x)^ y))^ =
ap (transport E&#39; (colimp i j g x)^)
  (transport_pV E&#39; (colimp i j g x) y)^</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">            </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk7e" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk7e"><span class="highlight"><span class="nb">etransitivity</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(transport_Vp E&#39; (colimp i j g x)
   (transport E&#39; (colimp i j g x)^ y))^ = <span class="nl">?Goal1</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="colimit-flattening-v-chk7f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="colimit-flattening-v-chk7f"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="nl">?Goal1</span> =
ap (transport E&#39; (colimp i j g x)^)
  (transport_pV E&#39; (colimp i j g x) y)^</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">            </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk80" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk80"><span class="highlight">{</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(transport_Vp E&#39; (colimp i j g x)
   (transport E&#39; (colimp i j g x)^ y))^ = <span class="nl">?Goal1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk81" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk81"><span class="highlight">srapply inverse2.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">transport E&#39; (colimp i j g x)^
  (transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y)) =
transport E&#39; (colimp i j g x)^ y</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="colimit-flattening-v-chk82" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="colimit-flattening-v-chk82"><hr></label><div class="goal-conclusion"><span class="highlight">transport_Vp E&#39; (colimp i j g x)
  (transport E&#39; (colimp i j g x)^ y) = <span class="nl">?q</span></span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">              </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="mi">2</span>: srapply transport_VpV.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk83" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk83"><span class="highlight">}</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(ap (transport E&#39; (colimp i j g x)^)
   (transport_pV E&#39; (colimp i j g x) y))^ =
ap (transport E&#39; (colimp i j g x)^)
  (transport_pV E&#39; (colimp i j g x) y)^</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">            </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">symmetry</span>; <span class="nb">apply</span> ap_V.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk84" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk84"><span class="highlight">}</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">moveL_transport_V E&#39; (colimp i j g x)
  (transport E&#39; (colimp i j g x)^ y)
  (transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y)) <span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">transport E&#39; (colimp i j g x)^ y =
transport E&#39; (colimp i j g x)^
  (transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p1 =
ap (transport E&#39; (colimp i j g x)^)
  (transport_pV E&#39; (colimp i j g x) y)^</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">path_sigma&#39; E&#39; (colimp i j g x) <span class="mi">1</span> =
(ap
   (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt;
    (colim j ((D _f g) x); y)) p1 @
 ap
   (<span class="kr">fun</span> <span class="nv">x0</span> : {x0 : D j &amp; E (j; x0)} =&gt;
    (colim j x0.<span class="mi">1</span>; x0.<span class="mi">2</span>))
   (path_sigma&#39; (<span class="kr">fun</span> <span class="nv">x</span> : D j =&gt; E (j; x)) <span class="mi">1</span>
      (transport_E&#39;_V g x
         (transport E&#39; (colimp i j g x)
            (transport E&#39; (colimp i j g x)^ y))))) @
path_sigma&#39; E&#39; (colimp i j g x)
  (transport_E&#39; g x
     (transport E&#39; (colimp i j g x)
        (transport E&#39; (colimp i j g x)^ y)))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk85" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk85"><span class="highlight"><span class="nb">rewrite</span> X; <span class="nb">clear</span> X p1.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">path_sigma&#39; E&#39; (colimp i j g x) <span class="mi">1</span> =
(ap
   (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt;
    (colim j ((D _f g) x); y))
   (ap (transport E&#39; (colimp i j g x)^)
      (transport_pV E&#39; (colimp i j g x) y)^) @
 ap
   (<span class="kr">fun</span> <span class="nv">x0</span> : {x0 : D j &amp; E (j; x0)} =&gt;
    (colim j x0.<span class="mi">1</span>; x0.<span class="mi">2</span>))
   (path_sigma&#39; (<span class="kr">fun</span> <span class="nv">x</span> : D j =&gt; E (j; x)) <span class="mi">1</span>
      (transport_E&#39;_V g x
         (transport E&#39; (colimp i j g x)
            (transport E&#39; (colimp i j g x)^ y))))) @
path_sigma&#39; E&#39; (colimp i j g x)
  (transport_E&#39; g x
     (transport E&#39; (colimp i j g x)
        (transport E&#39; (colimp i j g x)^ y)))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk86" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk86"><span class="highlight"><span class="nb">rewrite</span> &lt;- ap_compose; <span class="nb">cbn</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">path_sigma&#39; E&#39; (colimp i j g x) <span class="mi">1</span> =
(ap
   (<span class="kr">fun</span> <span class="nv">x0</span> : E (i; x) =&gt;
    (colim j ((D _f g) x);
    transport E&#39; (colimp i j g x)^ x0))
   (transport_pV E&#39; (colimp i j g x) y)^ @
 ap
   (<span class="kr">fun</span> <span class="nv">x0</span> : {x0 : D j &amp; E (j; x0)} =&gt;
    (colim j x0.<span class="mi">1</span>; x0.<span class="mi">2</span>))
   (path_sigma&#39; (<span class="kr">fun</span> <span class="nv">x</span> : D j =&gt; E (j; x)) <span class="mi">1</span>
      (transport_E&#39;_V g x
         (transport E&#39; (colimp i j g x)
            (transport E&#39; (colimp i j g x)^ y))))) @
path_sigma&#39; E&#39; (colimp i j g x)
  (transport_E&#39; g x
     (transport E&#39; (colimp i j g x)
        (transport E&#39; (colimp i j g x)^ y)))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk87" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk87"><span class="highlight"><span class="nb">rewrite</span> (ap_path_sigma (<span class="kr">fun</span> <span class="nv">x</span> =&gt; E (j; x))
            (<span class="kr">fun</span> <span class="nv">x</span> <span class="nv">y</span> =&gt; (colim j x; y))).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">path_sigma&#39; E&#39; (colimp i j g x) <span class="mi">1</span> =
(ap
   (<span class="kr">fun</span> <span class="nv">x0</span> : E (i; x) =&gt;
    (colim j ((D _f g) x);
    transport E&#39; (colimp i j g x)^ x0))
   (transport_pV E&#39; (colimp i j g x) y)^ @
 ((ap
     (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt;
      (colim j ((D _f g) x); y))
     (moveL_transport_V (<span class="kr">fun</span> <span class="nv">x</span> : D j =&gt; E (j; x)) <span class="mi">1</span>
        (transport E&#39; (colimp i j g x)^
           (transport E&#39; (colimp i j g x)
              (transport E&#39; (colimp i j g x)^ y)))
        ((E _f (g; <span class="mi">1</span>))
           (transport E&#39; (colimp i j g x)
              (transport E&#39; (colimp i j g x)^ y)))
        (transport_E&#39;_V g x
           (transport E&#39; (colimp i j g x)
              (transport E&#39; (colimp i j g x)^ y)))) @
   (transport_arrow_toconst <span class="mi">1</span>
      (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt;
       (colim j ((D _f g) x); y))
      ((E _f (g; <span class="mi">1</span>))
         (transport E&#39; (colimp i j g x)
            (transport E&#39; (colimp i j g x)^ y))))^) @
  ap10
    (apD
       (<span class="kr">fun</span> (<span class="nv">x</span> : D j) (<span class="nv">y</span> : E (j; x)) =&gt; (colim j x; y))
       <span class="mi">1</span>)
    ((E _f (g; <span class="mi">1</span>))
       (transport E&#39; (colimp i j g x)
          (transport E&#39; (colimp i j g x)^ y))))) @
path_sigma&#39; E&#39; (colimp i j g x)
  (transport_E&#39; g x
     (transport E&#39; (colimp i j g x)
        (transport E&#39; (colimp i j g x)^ y)))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk88" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk88"><span class="highlight"><span class="nb">cbn</span>; <span class="nb">rewrite</span> !concat_p1, concat_pp_p, ap_V.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">path_sigma&#39; E&#39; (colimp i j g x) <span class="mi">1</span> =
(ap
   (<span class="kr">fun</span> <span class="nv">x0</span> : E (i; x) =&gt;
    (colim j ((D _f g) x);
    transport E&#39; (colimp i j g x)^ x0))
   (transport_pV E&#39; (colimp i j g x) y))^ @
(ap
   (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt;
    (colim j ((D _f g) x); y))
   (transport_E&#39;_V g x
      (transport E&#39; (colimp i j g x)
         (transport E&#39; (colimp i j g x)^ y))) @
 path_sigma&#39; E&#39; (colimp i j g x)
   (transport_E&#39; g x
      (transport E&#39; (colimp i j g x)
         (transport E&#39; (colimp i j g x)^ y))))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk89" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk89"><span class="highlight"><span class="nb">apply</span> moveL_Vp.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ap
  (<span class="kr">fun</span> <span class="nv">x0</span> : E (i; x) =&gt;
   (colim j ((D _f g) x);
   transport E&#39; (colimp i j g x)^ x0))
  (transport_pV E&#39; (colimp i j g x) y) @
path_sigma&#39; E&#39; (colimp i j g x) <span class="mi">1</span> =
ap
  (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt;
   (colim j ((D _f g) x); y))
  (transport_E&#39;_V g x
     (transport E&#39; (colimp i j g x)
        (transport E&#39; (colimp i j g x)^ y))) @
path_sigma&#39; E&#39; (colimp i j g x)
  (transport_E&#39; g x
     (transport E&#39; (colimp i j g x)
        (transport E&#39; (colimp i j g x)^ y)))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk8a" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk8a"><span class="highlight"><span class="kr">match goal with</span> |- <span class="nl">?pp1</span> @ _ = <span class="nl">?pp2</span> @ _
            =&gt; <span class="nb">set</span> (p1 := pp1); <span class="nb">set</span> (p2 := pp2) <span class="kr">end</span>; <span class="nb">cbn</span> <span class="kr">in</span> *.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">ap
  (<span class="kr">fun</span> <span class="nv">x0</span> : E (i; x) =&gt;
   (colim j ((D _f g) x);
   transport E&#39; (colimp i j g x)^ x0))
  (transport_pV E&#39; (colimp i j g x) y)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(colim j ((D _f g) x);
transport E&#39; (colimp i j g x)^
  (transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y))) =
(colim j ((D _f g) x);
transport E&#39; (colimp i j g x)^ y)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p2</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">ap
  (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt;
   (colim j ((D _f g) x); y))
  (transport_E&#39;_V g x
     (transport E&#39; (colimp i j g x)
        (transport E&#39; (colimp i j g x)^ y)))</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(colim j ((D _f g) x);
transport E&#39; (colimp i j g x)^
  (transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y))) =
(colim j ((D _f g) x);
(E _f (g; <span class="mi">1</span>))
  (transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y)))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">p1 @ path_sigma&#39; E&#39; (colimp i j g x) <span class="mi">1</span> =
p2 @
path_sigma&#39; E&#39; (colimp i j g x)
  (transport_E&#39; g x
     (transport E&#39; (colimp i j g x)
        (transport E&#39; (colimp i j g x)^ y)))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk8b" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk8b"><span class="highlight"><span class="nb">assert</span> (p1 = path_sigma&#39; E&#39; <span class="mi">1</span> (transport_Vp _ _ _)).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">ap
  (<span class="kr">fun</span> <span class="nv">x0</span> : E (i; x) =&gt;
   (colim j ((D _f g) x);
   transport E&#39; (colimp i j g x)^ x0))
  (transport_pV E&#39; (colimp i j g x) y)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(colim j ((D _f g) x);
transport E&#39; (colimp i j g x)^
  (transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y))) =
(colim j ((D _f g) x);
transport E&#39; (colimp i j g x)^ y)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p2</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">ap
  (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt;
   (colim j ((D _f g) x); y))
  (transport_E&#39;_V g x
     (transport E&#39; (colimp i j g x)
        (transport E&#39; (colimp i j g x)^ y)))</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(colim j ((D _f g) x);
transport E&#39; (colimp i j g x)^
  (transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y))) =
(colim j ((D _f g) x);
(E _f (g; <span class="mi">1</span>))
  (transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y)))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">p1 =
path_sigma&#39; E&#39; <span class="mi">1</span>
  (transport_Vp E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y))</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="colimit-flattening-v-chk8c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">ap
  (<span class="kr">fun</span> <span class="nv">x0</span> : E (i; x) =&gt;
   (colim j ((D _f g) x);
   transport E&#39; (colimp i j g x)^ x0))
  (transport_pV E&#39; (colimp i j g x) y)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(colim j ((D _f g) x);
transport E&#39; (colimp i j g x)^
  (transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y))) =
(colim j ((D _f g) x);
transport E&#39; (colimp i j g x)^ y)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p2</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">ap
  (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt;
   (colim j ((D _f g) x); y))
  (transport_E&#39;_V g x
     (transport E&#39; (colimp i j g x)
        (transport E&#39; (colimp i j g x)^ y)))</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(colim j ((D _f g) x);
transport E&#39; (colimp i j g x)^
  (transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y))) =
(colim j ((D _f g) x);
(E _f (g; <span class="mi">1</span>))
  (transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y)))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p1 =
path_sigma&#39; E&#39; <span class="mi">1</span>
  (transport_Vp E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y))</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="colimit-flattening-v-chk8c"><hr></label><div class="goal-conclusion"><span class="highlight">p1 @ path_sigma&#39; E&#39; (colimp i j g x) <span class="mi">1</span> =
p2 @
path_sigma&#39; E&#39; (colimp i j g x)
  (transport_E&#39; g x
     (transport E&#39; (colimp i j g x)
        (transport E&#39; (colimp i j g x)^ y)))</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk8d" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk8d"><span class="highlight">{</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">ap
  (<span class="kr">fun</span> <span class="nv">x0</span> : E (i; x) =&gt;
   (colim j ((D _f g) x);
   transport E&#39; (colimp i j g x)^ x0))
  (transport_pV E&#39; (colimp i j g x) y)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(colim j ((D _f g) x);
transport E&#39; (colimp i j g x)^
  (transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y))) =
(colim j ((D _f g) x);
transport E&#39; (colimp i j g x)^ y)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p2</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">ap
  (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt;
   (colim j ((D _f g) x); y))
  (transport_E&#39;_V g x
     (transport E&#39; (colimp i j g x)
        (transport E&#39; (colimp i j g x)^ y)))</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(colim j ((D _f g) x);
transport E&#39; (colimp i j g x)^
  (transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y))) =
(colim j ((D _f g) x);
(E _f (g; <span class="mi">1</span>))
  (transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y)))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">p1 =
path_sigma&#39; E&#39; <span class="mi">1</span>
  (transport_Vp E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y))</span></div></blockquote></div></div></small><span class="alectryon-wsp">  </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk8e" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk8e"><span class="highlight"><span class="nb">subst</span> p1.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p2</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">ap
  (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt;
   (colim j ((D _f g) x); y))
  (transport_E&#39;_V g x
     (transport E&#39; (colimp i j g x)
        (transport E&#39; (colimp i j g x)^ y)))</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(colim j ((D _f g) x);
transport E&#39; (colimp i j g x)^
  (transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y))) =
(colim j ((D _f g) x);
(E _f (g; <span class="mi">1</span>))
  (transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y)))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ap
  (<span class="kr">fun</span> <span class="nv">x0</span> : E (i; x) =&gt;
   (colim j ((D _f g) x);
   transport E&#39; (colimp i j g x)^ x0))
  (transport_pV E&#39; (colimp i j g x) y) =
path_sigma&#39; E&#39; <span class="mi">1</span>
  (transport_Vp E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">            </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk8f" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk8f"><span class="highlight"><span class="nb">rewrite</span> &lt;- ap_exist.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p2</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">ap
  (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt;
   (colim j ((D _f g) x); y))
  (transport_E&#39;_V g x
     (transport E&#39; (colimp i j g x)
        (transport E&#39; (colimp i j g x)^ y)))</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(colim j ((D _f g) x);
transport E&#39; (colimp i j g x)^
  (transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y))) =
(colim j ((D _f g) x);
(E _f (g; <span class="mi">1</span>))
  (transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y)))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ap
  (<span class="kr">fun</span> <span class="nv">x0</span> : E (i; x) =&gt;
   (colim j ((D _f g) x);
   transport E&#39; (colimp i j g x)^ x0))
  (transport_pV E&#39; (colimp i j g x) y) =
ap (exist E&#39; (colim j ((D _f g) x)))
  (transport_Vp E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">            </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk90" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk90"><span class="highlight"><span class="nb">rewrite</span> (ap_compose (transport E&#39; (colimp i j g x)^)
              (<span class="kr">fun</span> <span class="nv">v</span> =&gt; (colim j ((D _f g) x); v))).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p2</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">ap
  (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt;
   (colim j ((D _f g) x); y))
  (transport_E&#39;_V g x
     (transport E&#39; (colimp i j g x)
        (transport E&#39; (colimp i j g x)^ y)))</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(colim j ((D _f g) x);
transport E&#39; (colimp i j g x)^
  (transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y))) =
(colim j ((D _f g) x);
(E _f (g; <span class="mi">1</span>))
  (transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y)))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ap
  (<span class="kr">fun</span> <span class="nv">v</span> : E&#39; (colim j ((D _f g) x)) =&gt;
   (colim j ((D _f g) x); v))
  (ap (transport E&#39; (colimp i j g x)^)
     (transport_pV E&#39; (colimp i j g x) y)) =
ap (exist E&#39; (colim j ((D _f g) x)))
  (transport_Vp E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">            </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk91" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk91"><span class="highlight">f_ap; <span class="nb">set</span> (colimp i j g x).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p2</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">ap
  (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt;
   (colim j ((D _f g) x); y))
  (transport_E&#39;_V g x
     (transport E&#39; (colimp i j g x)
        (transport E&#39; (colimp i j g x)^ y)))</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(colim j ((D _f g) x);
transport E&#39; (colimp i j g x)^
  (transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y))) =
(colim j ((D _f g) x);
(E _f (g; <span class="mi">1</span>))
  (transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y)))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">colimp i j g x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">colim j ((D _f g) x) = colim i x</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ap (transport E&#39; p^) (transport_pV E&#39; p y) =
transport_Vp E&#39; p (transport E&#39; p^ y)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">            </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk92" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk92"><span class="highlight"><span class="nb">clear</span>; <span class="nb">symmetry</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">colimp i j g x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">colim j ((D _f g) x) = colim i x</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">transport_Vp E&#39; p (transport E&#39; p^ y) =
ap (transport E&#39; p^) (transport_pV E&#39; p y)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">            </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">apply</span> transport_VpV.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk93" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk93"><span class="highlight">}</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">ap
  (<span class="kr">fun</span> <span class="nv">x0</span> : E (i; x) =&gt;
   (colim j ((D _f g) x);
   transport E&#39; (colimp i j g x)^ x0))
  (transport_pV E&#39; (colimp i j g x) y)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(colim j ((D _f g) x);
transport E&#39; (colimp i j g x)^
  (transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y))) =
(colim j ((D _f g) x);
transport E&#39; (colimp i j g x)^ y)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p2</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">ap
  (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt;
   (colim j ((D _f g) x); y))
  (transport_E&#39;_V g x
     (transport E&#39; (colimp i j g x)
        (transport E&#39; (colimp i j g x)^ y)))</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(colim j ((D _f g) x);
transport E&#39; (colimp i j g x)^
  (transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y))) =
(colim j ((D _f g) x);
(E _f (g; <span class="mi">1</span>))
  (transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y)))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p1 =
path_sigma&#39; E&#39; <span class="mi">1</span>
  (transport_Vp E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">p1 @ path_sigma&#39; E&#39; (colimp i j g x) <span class="mi">1</span> =
p2 @
path_sigma&#39; E&#39; (colimp i j g x)
  (transport_E&#39; g x
     (transport E&#39; (colimp i j g x)
        (transport E&#39; (colimp i j g x)^ y)))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk94" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk94"><span class="highlight"><span class="nb">rewrite</span> X; <span class="nb">clear</span> p1 X.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p2</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">ap
  (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt;
   (colim j ((D _f g) x); y))
  (transport_E&#39;_V g x
     (transport E&#39; (colimp i j g x)
        (transport E&#39; (colimp i j g x)^ y)))</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(colim j ((D _f g) x);
transport E&#39; (colimp i j g x)^
  (transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y))) =
(colim j ((D _f g) x);
(E _f (g; <span class="mi">1</span>))
  (transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y)))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">path_sigma&#39; E&#39; <span class="mi">1</span>
  (transport_Vp E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y)) @
path_sigma&#39; E&#39; (colimp i j g x) <span class="mi">1</span> =
p2 @
path_sigma&#39; E&#39; (colimp i j g x)
  (transport_E&#39; g x
     (transport E&#39; (colimp i j g x)
        (transport E&#39; (colimp i j g x)^ y)))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk95" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk95"><span class="highlight"><span class="nb">assert</span> (p2 = path_sigma&#39; E&#39; <span class="mi">1</span> (transport_E&#39;_V _ _ _))
            <span class="bp">by</span> <span class="bp">reflexivity</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p2</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">ap
  (<span class="kr">fun</span> <span class="nv">y</span> : E (j; (D _f g) x) =&gt;
   (colim j ((D _f g) x); y))
  (transport_E&#39;_V g x
     (transport E&#39; (colimp i j g x)
        (transport E&#39; (colimp i j g x)^ y)))</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(colim j ((D _f g) x);
transport E&#39; (colimp i j g x)^
  (transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y))) =
(colim j ((D _f g) x);
(E _f (g; <span class="mi">1</span>))
  (transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y)))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p2 =
path_sigma&#39; E&#39; <span class="mi">1</span>
  (transport_E&#39;_V g x
     (transport E&#39; (colimp i j g x)
        (transport E&#39; (colimp i j g x)^ y)))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">path_sigma&#39; E&#39; <span class="mi">1</span>
  (transport_Vp E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y)) @
path_sigma&#39; E&#39; (colimp i j g x) <span class="mi">1</span> =
p2 @
path_sigma&#39; E&#39; (colimp i j g x)
  (transport_E&#39; g x
     (transport E&#39; (colimp i j g x)
        (transport E&#39; (colimp i j g x)^ y)))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk96" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk96"><span class="highlight"><span class="nb">rewrite</span> X; <span class="nb">clear</span> p2 X.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">path_sigma&#39; E&#39; <span class="mi">1</span>
  (transport_Vp E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y)) @
path_sigma&#39; E&#39; (colimp i j g x) <span class="mi">1</span> =
path_sigma&#39; E&#39; <span class="mi">1</span>
  (transport_E&#39;_V g x
     (transport E&#39; (colimp i j g x)
        (transport E&#39; (colimp i j g x)^ y))) @
path_sigma&#39; E&#39; (colimp i j g x)
  (transport_E&#39; g x
     (transport E&#39; (colimp i j g x)
        (transport E&#39; (colimp i j g x)^ y)))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk97" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk97"><span class="highlight"><span class="nb">rewrite</span> &lt;- !path_sigma_pp_pp&#39;; f_ap.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(transport_pp E&#39; <span class="mi">1</span> (colimp i j g x)
   (transport E&#39; (colimp i j g x)^
      (transport E&#39; (colimp i j g x)
         (transport E&#39; (colimp i j g x)^ y))) @
 ap (transport E&#39; (colimp i j g x))
   (transport_Vp E&#39; (colimp i j g x)
      (transport E&#39; (colimp i j g x)^ y))) @ <span class="mi">1</span> =
(transport_pp E&#39; <span class="mi">1</span> (colimp i j g x)
   (transport E&#39; (colimp i j g x)^
      (transport E&#39; (colimp i j g x)
         (transport E&#39; (colimp i j g x)^ y))) @
 ap (transport E&#39; (colimp i j g x))
   (transport_E&#39;_V g x
      (transport E&#39; (colimp i j g x)
         (transport E&#39; (colimp i j g x)^ y)))) @
transport_E&#39; g x
  (transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk98" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk98"><span class="highlight"><span class="nb">rewrite</span> concat_p1, concat_pp_p.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">transport_pp E&#39; <span class="mi">1</span> (colimp i j g x)
  (transport E&#39; (colimp i j g x)^
     (transport E&#39; (colimp i j g x)
        (transport E&#39; (colimp i j g x)^ y))) @
ap (transport E&#39; (colimp i j g x))
  (transport_Vp E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y)) =
transport_pp E&#39; <span class="mi">1</span> (colimp i j g x)
  (transport E&#39; (colimp i j g x)^
     (transport E&#39; (colimp i j g x)
        (transport E&#39; (colimp i j g x)^ y))) @
(ap (transport E&#39; (colimp i j g x))
   (transport_E&#39;_V g x
      (transport E&#39; (colimp i j g x)
         (transport E&#39; (colimp i j g x)^ y))) @
 transport_E&#39; g x
   (transport E&#39; (colimp i j g x)
      (transport E&#39; (colimp i j g x)^ y)))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk99" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk99"><span class="highlight"><span class="nb">refine</span> (<span class="mi">1</span> @@ _).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ap (transport E&#39; (colimp i j g x))
  (transport_Vp E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y)) =
ap (transport E&#39; (colimp i j g x))
  (transport_E&#39;_V g x
     (transport E&#39; (colimp i j g x)
        (transport E&#39; (colimp i j g x)^ y))) @
transport_E&#39; g x
  (transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk9a" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk9a"><span class="highlight"><span class="nb">apply</span> moveL_Mp.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(ap (transport E&#39; (colimp i j g x))
   (transport_E&#39;_V g x
      (transport E&#39; (colimp i j g x)
         (transport E&#39; (colimp i j g x)^ y))))^ @
ap (transport E&#39; (colimp i j g x))
  (transport_Vp E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y)) =
transport_E&#39; g x
  (transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk9b" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk9b"><span class="highlight"><span class="nb">rewrite</span> &lt;- ap_V, &lt;- ap_pp.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ap (transport E&#39; (colimp i j g x))
  ((transport_E&#39;_V g x
      (transport E&#39; (colimp i j g x)
         (transport E&#39; (colimp i j g x)^ y)))^ @
   transport_Vp E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y)) =
transport_E&#39; g x
  (transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk9c" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk9c"><span class="highlight">srefine (_ @ _).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">transport E&#39; (colimp i j g x)
  ((E _f (g; <span class="mi">1</span>))
     (transport E&#39; (colimp i j g x)
        (transport E&#39; (colimp i j g x)^ y))) =
transport E&#39; (colimp i j g x)
  (transport E&#39; (colimp i j g x)^ y)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="colimit-flattening-v-chk9d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="colimit-flattening-v-chk9d"><hr></label><div class="goal-conclusion"><span class="highlight">ap (transport E&#39; (colimp i j g x))
  ((transport_E&#39;_V g x
      (transport E&#39; (colimp i j g x)
         (transport E&#39; (colimp i j g x)^ y)))^ @
   transport_Vp E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y)) = <span class="nl">?y</span></span></div></blockquote><input class="alectryon-extra-goal-toggle" id="colimit-flattening-v-chk9e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="colimit-flattening-v-chk9e"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="nl">?y</span> =
transport_E&#39; g x
  (transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y))</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chk9f" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chk9f"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">transport E&#39; (colimp i j g x)
  ((E _f (g; <span class="mi">1</span>))
     (transport E&#39; (colimp i j g x)
        (transport E&#39; (colimp i j g x)^ y))) =
transport E&#39; (colimp i j g x)
  (transport E&#39; (colimp i j g x)^ y)</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chka0" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chka0"><span class="highlight"><span class="nb">refine</span> (ap (transport E&#39; (colimp i j g x)) _).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(E _f (g; <span class="mi">1</span>))
  (transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y)) =
transport E&#39; (colimp i j g x)^ y</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">            </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chka1" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chka1"><span class="highlight"><span class="nb">refine</span> ((transport_E&#39;_V _ _ _)^ @ _).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">transport E&#39; (colimp i j g x)^
  (transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y)) =
transport E&#39; (colimp i j g x)^ y</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">            </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">refine</span> (ap _ (transport_pV _ _ _)).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chka2" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chka2"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ap (transport E&#39; (colimp i j g x))
  ((transport_E&#39;_V g x
      (transport E&#39; (colimp i j g x)
         (transport E&#39; (colimp i j g x)^ y)))^ @
   transport_Vp E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y)) =
ap (transport E&#39; (colimp i j g x))
  ((transport_E&#39;_V g x
      (transport E&#39; (colimp i j g x)
         (transport E&#39; (colimp i j g x)^ y)))^ @
   ap (transport E&#39; (colimp i j g x)^)
     (transport_pV E&#39; (colimp i j g x) y))</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chka3" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chka3"><span class="highlight">f_ap.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(transport_E&#39;_V g x
   (transport E&#39; (colimp i j g x)
      (transport E&#39; (colimp i j g x)^ y)))^ @
transport_Vp E&#39; (colimp i j g x)
  (transport E&#39; (colimp i j g x)^ y) =
(transport_E&#39;_V g x
   (transport E&#39; (colimp i j g x)
      (transport E&#39; (colimp i j g x)^ y)))^ @
ap (transport E&#39; (colimp i j g x)^)
  (transport_pV E&#39; (colimp i j g x) y)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">            </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chka4" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chka4"><span class="highlight"><span class="nb">refine</span> (<span class="mi">1</span> @@ _).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">transport_Vp E&#39; (colimp i j g x)
  (transport E&#39; (colimp i j g x)^ y) =
ap (transport E&#39; (colimp i j g x)^)
  (transport_pV E&#39; (colimp i j g x) y)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">            </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">apply</span> transport_VpV.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chka5" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chka5"><span class="highlight">-</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ap (transport E&#39; (colimp i j g x))
  ((transport_E&#39;_V g x
      (transport E&#39; (colimp i j g x)
         (transport E&#39; (colimp i j g x)^ y)))^ @
   ap (transport E&#39; (colimp i j g x)^)
     (transport_pV E&#39; (colimp i j g x) y)) =
transport_E&#39; g x
  (transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y))</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chka6" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chka6"><span class="highlight"><span class="nb">set</span> (transport E&#39; (colimp i j g x)
              (transport E&#39; (colimp i j g x)^ y)).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">transport E&#39; (colimp i j g x)
  (transport E&#39; (colimp i j g x)^ y)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E&#39; (colim i x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ap (transport E&#39; (colimp i j g x))
  ((transport_E&#39;_V g x e)^ @
   ap (transport E&#39; (colimp i j g x)^)
     (transport_pV E&#39; (colimp i j g x) y)) =
transport_E&#39; g x e</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">            </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chka7" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chka7"><span class="highlight"><span class="nb">rewrite</span> ap_pp, &lt;- ap_compose.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">transport E&#39; (colimp i j g x)
  (transport E&#39; (colimp i j g x)^ y)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E&#39; (colim i x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ap (transport E&#39; (colimp i j g x))
  (transport_E&#39;_V g x e)^ @
ap
  (<span class="kr">fun</span> <span class="nv">x0</span> : E&#39; (colim i x) =&gt;
   transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ x0))
  (transport_pV E&#39; (colimp i j g x) y) =
transport_E&#39; g x e</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">            </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chka8" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chka8"><span class="highlight"><span class="nb">refine</span> (_ @ (transport_E&#39;_V_E&#39; _ _ _)^).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">transport E&#39; (colimp i j g x)
  (transport E&#39; (colimp i j g x)^ y)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E&#39; (colim i x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ap (transport E&#39; (colimp i j g x))
  (transport_E&#39;_V g x e)^ @
ap
  (<span class="kr">fun</span> <span class="nv">x0</span> : E&#39; (colim i x) =&gt;
   transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ x0))
  (transport_pV E&#39; (colimp i j g x) y) =
ap (transport E&#39; (colimp i j g x))
  (transport_E&#39;_V g x e)^ @
transport_pV E&#39; (colimp i j g x) e</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">            </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chka9" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chka9"><span class="highlight"><span class="nb">refine</span> (<span class="mi">1</span> @@ _).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">transport E&#39; (colimp i j g x)
  (transport E&#39; (colimp i j g x)^ y)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E&#39; (colim i x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ap
  (<span class="kr">fun</span> <span class="nv">x0</span> : E&#39; (colim i x) =&gt;
   transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ x0))
  (transport_pV E&#39; (colimp i j g x) y) =
transport_pV E&#39; (colimp i j g x) e</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">            </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chkaa" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chkaa"><span class="highlight"><span class="nb">subst</span> e.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ap
  (<span class="kr">fun</span> <span class="nv">x0</span> : E&#39; (colim i x) =&gt;
   transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ x0))
  (transport_pV E&#39; (colimp i j g x) y) =
transport_pV E&#39; (colimp i j g x)
  (transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">            </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chkab" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chkab"><span class="highlight"><span class="nb">refine</span> (_ @ (transport_pVp _ _ _)^).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ap
  (<span class="kr">fun</span> <span class="nv">x0</span> : E&#39; (colim i x) =&gt;
   transport E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ x0))
  (transport_pV E&#39; (colimp i j g x) y) =
ap (transport E&#39; (colimp i j g x))
  (transport_Vp E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">            </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chkac" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chkac"><span class="highlight"><span class="nb">rewrite</span> ap_compose.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">ap (transport E&#39; (colimp i j g x))
  (ap (transport E&#39; (colimp i j g x)^)
     (transport_pV E&#39; (colimp i j g x) y)) =
ap (transport E&#39; (colimp i j g x))
  (transport_Vp E&#39; (colimp i j g x)
     (transport E&#39; (colimp i j g x)^ y))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">            </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chkad" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chkad"><span class="highlight">f_ap; <span class="nb">symmetry</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">transport_Vp E&#39; (colimp i j g x)
  (transport E&#39; (colimp i j g x)^ y) =
ap (transport E&#39; (colimp i j g x)^)
  (transport_pV E&#39; (colimp i j g x) y)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">            </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">apply</span> transport_VpV.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chkae" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chkae"><span class="highlight">}</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{x : _ &amp; E&#39; x} -&gt; Z</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i, j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">G i j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">D i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">E (i; x)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">transportD E&#39;
  (<span class="kr">fun</span> (<span class="nv">x</span> : Colimit D) (<span class="nv">y</span> : E&#39; x) =&gt;
   Colimit_ind (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
     (<span class="kr">fun</span> (<span class="nv">i</span> : G) (<span class="nv">x0</span> : D i) (<span class="nv">y0</span> : E (i; x0)) =&gt;
      f (colim i x0; y0))
     (<span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x0</span> : D i) =&gt;
      path_forall
        (transport (<span class="kr">fun</span> <span class="nv">w</span> : Colimit D =&gt; E&#39; w -&gt; Z)
           (colimp i j g x0)
           (<span class="kr">fun</span> <span class="nv">y0</span> : E (j; (D _f g) x0) =&gt;
            f (colim j ((D _f g) x0); y0)))
        (<span class="kr">fun</span> <span class="nv">y0</span> : E (i; x0) =&gt; f (colim i x0; y0))
        (<span class="kr">fun</span> <span class="nv">y0</span> : E (i; x0) =&gt;
         transport_arrow_toconst (colimp i j g x0)
           (<span class="kr">fun</span> <span class="nv">y1</span> : E (j; (D _f g) x0) =&gt;
            f (colim j ((D _f g) x0); y1)) y0 @
         (ap11 <span class="mi">1</span>
            (path_sigma&#39;
               (<span class="kr">fun</span> <span class="nv">x1</span> : D j =&gt; E (j; x1)) <span class="mi">1</span>
               (transport_E&#39;_V g x0 y0)) @
          ap f
            (path_sigma&#39; E&#39; (colimp i j g x0)
               (transport_E&#39; g x0 y0))))) x y =
   f (x; y)) (colimp i j g x)
  (transport E&#39; (colimp i j g x)^ y) <span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">f
  (colim i x;
  transport E&#39; (colimp i j g x)
    (transport E&#39; (colimp i j g x)^ y)) =
f
  (colim i x;
  transport E&#39; (colimp i j g x)
    (transport E&#39; (colimp i j g x)^ y))</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">X</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p = <span class="mi">1</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((ap (<span class="kr">fun</span> <span class="nv">x0</span> : E (i; x) =&gt; f (colim i x; x0))
    (transport_pV E&#39; (colimp i j g x) y))^ @ p) @
ap (<span class="kr">fun</span> <span class="nv">x0</span> : E (i; x) =&gt; f (colim i x; x0))
  (transport_pV E&#39; (colimp i j g x) y) = <span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">rewrite</span> X; hott_simpl.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Defined</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
  <span class="sd">(** The flattening lemma follows by colimit unicity. *)</span>

</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chkaf" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chkaf"><span class="highlight"><span class="kn">Definition</span> <span class="nf">flattening_lemma</span> : Colimit (diagram_sigma E) &lt;~&gt; sig E&#39;.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Colimit (diagram_sigma E) &lt;~&gt; {x : _ &amp; E&#39; x}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chkb0" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chkb0"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Colimit (diagram_sigma E) &lt;~&gt; {x : _ &amp; E&#39; x}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chkb1" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chkb1"><span class="highlight">srapply colimit_unicity.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Graph</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="colimit-flattening-v-chkb2" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="colimit-flattening-v-chkb2"><hr></label><div class="goal-conclusion"><span class="highlight">Diagram <span class="nl">?G</span></span></div></blockquote><input class="alectryon-extra-goal-toggle" id="colimit-flattening-v-chkb3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="colimit-flattening-v-chkb3"><hr></label><div class="goal-conclusion"><span class="highlight">IsColimit <span class="nl">?D</span> (Colimit (diagram_sigma E))</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="colimit-flattening-v-chkb4" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="colimit-flattening-v-chkb4"><hr></label><div class="goal-conclusion"><span class="highlight">IsColimit <span class="nl">?D</span> {x : _ &amp; E&#39; x}</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chkb5" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chkb5"><span class="highlight"><span class="mi">3</span>: <span class="nb">apply</span> iscolimit_colimit.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">IsColimit (diagram_sigma E) {x : _ &amp; E&#39; x}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="colimit-flattening-v-chkb6" style="display: none" type="checkbox"><label class="alectryon-input" for="colimit-flattening-v-chkb6"><span class="highlight">rapply Build_IsColimit.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Univalence</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">G</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Graph</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">D</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Diagram G</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">DDiagram D</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Equifibered E</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E_f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i) =&gt;
E _f (g; <span class="mi">1</span>)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> (<span class="nv">i</span> <span class="nv">j</span> : G) (<span class="nv">g</span> : G i j) (<span class="nv">x</span> : D i), E (i; x) -&gt; E (j; (D _f g) x)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">UniversalCocone <span class="nl">?Goal</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">apply</span> unicocone_cocone_E&#39;.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Defined</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">End</span> <span class="nf">Flattening</span>.</span></span></span></pre>
</div>
</div></body>
</html>
